/*! For license information please see 631.d2820eb6.js.LICENSE.txt */
(self.webpackChunkmorse_code=self.webpackChunkmorse_code||[]).push([["631"],{16618:function(){},90698:function(e,t,n){"use strict";n.d(t,{Aq:function(){return t$},HH:function(){return eN},Rr:function(){return tZ},ll:function(){return tP},x$:function(){return tC}});var r,o,i=n(52676),a=n(23257),s=n(97413),u=n(75271),c=n(33820),l=n(34178);n(30967);let d=(0,u.createContext)(null),f=d.Provider,h=s.Qj.error001();function p(e,t){let n=(0,u.useContext)(d);if(null===n)throw Error(h);return(0,c.s)(n,e,t)}function g(){let e=(0,u.useContext)(d);if(null===e)throw Error(h);return(0,u.useMemo)(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}let m={display:"none"},v={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},y="react-flow__node-desc",w="react-flow__edge-desc",x=e=>e.ariaLiveMessage;function b({rfId:e}){let t=p(x);return(0,i.jsx)("div",{id:`react-flow__aria-live-${e}`,"aria-live":"assertive","aria-atomic":"true",style:v,children:t})}function _({rfId:e,disableKeyboardA11y:t}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{id:`${y}-${e}`,style:m,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),(0,i.jsx)("div",{id:`${w}-${e}`,style:m,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&(0,i.jsx)(b,{rfId:e})]})}let E=e=>e.userSelectionActive?"none":"all",k=(0,u.forwardRef)(({position:e="top-left",children:t,className:n,style:r,...o},s)=>{let u=p(E),c=`${e}`.split("-");return(0,i.jsx)("div",{className:(0,a.Z)(["react-flow__panel",n,...c]),style:{...r,pointerEvents:u},ref:s,...o,children:t})});function S({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:(0,i.jsx)(k,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:(0,i.jsx)("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}let N=e=>{let t=[],n=[];for(let[,n]of e.nodeLookup)n.selected&&t.push(n.internals.userNode);for(let[,t]of e.edgeLookup)t.selected&&n.push(t);return{selectedNodes:t,selectedEdges:n}},M=e=>e.id;function C(e,t){return(0,l.X)(e.selectedNodes.map(M),t.selectedNodes.map(M))&&(0,l.X)(e.selectedEdges.map(M),t.selectedEdges.map(M))}function Z({onSelectionChange:e}){let t=g(),{selectedNodes:n,selectedEdges:r}=p(N,C);return(0,u.useEffect)(()=>{let o={nodes:n,edges:r};e?.(o),t.getState().onSelectionChangeHandlers.forEach(e=>e(o))},[n,r,e]),null}let P=e=>!!e.onSelectionChangeHandlers;function I({onSelectionChange:e}){let t=p(P);return e||t?(0,i.jsx)(Z,{onSelectionChange:e}):null}let z=[0,0],A={x:0,y:0,zoom:1},R=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","rfId"],j=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),$={translateExtent:s.k5,nodeOrigin:z,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function L(e){let{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:o,setTranslateExtent:i,setNodeExtent:a,reset:s,setDefaultNodesAndEdges:c,setPaneClickDistance:d}=p(j,l.X),f=g();(0,u.useEffect)(()=>(c(e.defaultNodes,e.defaultEdges),()=>{h.current=$,s()}),[]);let h=(0,u.useRef)($);return(0,u.useEffect)(()=>{for(let s of R){let u=e[s];if(u!==h.current[s])void 0!==e[s]&&("nodes"===s?t(u):"edges"===s?n(u):"minZoom"===s?r(u):"maxZoom"===s?o(u):"translateExtent"===s?i(u):"nodeExtent"===s?a(u):"paneClickDistance"===s?d(u):"fitView"===s?f.setState({fitViewOnInit:u}):"fitViewOptions"===s?f.setState({fitViewOnInitOptions:u}):f.setState({[s]:u}))}h.current=e},R.map(t=>e[t])),null}function D(){return"undefined"!=typeof window&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null}let O="undefined"!=typeof document?document:null;function T(e=null,t={target:O,actInsideInputWithModifier:!0}){let[n,r]=(0,u.useState)(!1),o=(0,u.useRef)(!1),i=(0,u.useRef)(new Set([])),[a,c]=(0,u.useMemo)(()=>{if(null!==e){let t=(Array.isArray(e)?e:[e]).filter(e=>"string"==typeof e).map(e=>e.replace("+","\n").replace("\n\n","\n+").split("\n")),n=t.reduce((e,t)=>e.concat(...t),[]);return[t,n]}return[[],[]]},[e]);return(0,u.useEffect)(()=>{let n=t?.target||O;if(null!==e){let e=e=>{if(o.current=e.ctrlKey||e.metaKey||e.shiftKey,(!o.current||o.current&&!t.actInsideInputWithModifier)&&(0,s.s$)(e))return!1;let n=V(e.code,c);i.current.add(e[n]),B(a,i.current,!1)&&(e.preventDefault(),r(!0))},u=e=>{if((!o.current||o.current&&!t.actInsideInputWithModifier)&&(0,s.s$)(e))return!1;let n=V(e.code,c);B(a,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(e[n]),"Meta"===e.key&&i.current.clear(),o.current=!1},l=()=>{i.current.clear(),r(!1)};return n?.addEventListener("keydown",e),n?.addEventListener("keyup",u),window.addEventListener("blur",l),window.addEventListener("contextmenu",l),()=>{n?.removeEventListener("keydown",e),n?.removeEventListener("keyup",u),window.removeEventListener("blur",l),window.removeEventListener("contextmenu",l)}}},[e,r]),n}function B(e,t,n){return e.filter(e=>n||e.length===t.size).some(e=>e.every(e=>t.has(e)))}function V(e,t){return t.includes(e)?"code":"key"}let H=()=>{let e=g();return(0,u.useMemo)(()=>({zoomIn:t=>{let{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{let{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{let{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{let{transform:[r,o,i],panZoom:a}=e.getState();return a?(await a.setViewport({x:t.x??r,y:t.y??o,zoom:t.zoom??i},{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{let[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},fitView:t=>{let{nodeLookup:n,minZoom:r,maxZoom:o,panZoom:i,domNode:a}=e.getState();if(!i||!a)return Promise.resolve(!1);let u=(0,s.J6)(n,t),{width:c,height:l}=(0,s.t_)(a);return(0,s.Qu)({nodes:u,width:c,height:l,minZoom:r,maxZoom:o,panZoom:i},t)},setCenter:async(t,n,r)=>{let{width:o,height:i,maxZoom:a,panZoom:s}=e.getState(),u=void 0!==r?.zoom?r.zoom:a;return s?(await s.setViewport({x:o/2-t*u,y:i/2-n*u,zoom:u},{duration:r?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{let{width:r,height:o,minZoom:i,maxZoom:a,panZoom:u}=e.getState(),c=(0,s.$i)(t,r,o,i,a,n?.padding??.1);return u?(await u.setViewport(c,{duration:n?.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={snapToGrid:!0})=>{let{transform:r,snapGrid:o,domNode:i}=e.getState();if(!i)return t;let{x:a,y:u}=i.getBoundingClientRect(),c={x:t.x-a,y:t.y-u};return(0,s.m)(c,r,n.snapToGrid,o)},flowToScreenPosition:t=>{let{transform:n,domNode:r}=e.getState();if(!r)return t;let{x:o,y:i}=r.getBoundingClientRect(),a=(0,s.oj)(t,n);return{x:a.x+o,y:a.y+i}}}),[])};function F(e,t){let n=[],r=new Map,o=[];for(let t of e){if("add"===t.type){o.push(t);continue}if("remove"===t.type||"replace"===t.type)r.set(t.id,[t]);else{let e=r.get(t.id);e?e.push(t):r.set(t.id,[t])}}for(let e of t){let t=r.get(e.id);if(!t){n.push(e);continue}if("remove"===t[0].type)continue;if("replace"===t[0].type){n.push({...t[0].item});continue}let o={...e};for(let e of t)(function(e,t){switch(e.type){case"select":t.selected=e.selected;break;case"position":void 0!==e.position&&(t.position=e.position),void 0!==e.dragging&&(t.dragging=e.dragging);break;case"dimensions":void 0!==e.dimensions&&(t.measured??={},t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&(t.width=e.dimensions.width,t.height=e.dimensions.height)),"boolean"==typeof e.resizing&&(t.resizing=e.resizing)}})(e,o);n.push(o)}return o.length&&o.forEach(e=>{void 0!==e.index?n.splice(e.index,0,{...e.item}):n.push({...e.item})}),n}function X(e,t){return F(e,t)}function Y(e,t){return F(e,t)}function W(e,t){return{id:e,type:"select",selected:t}}function U(e,t=new Set,n=!1){let r=[];for(let[o,i]of e){let e=t.has(o);!(void 0===i.selected&&!e)&&i.selected!==e&&(n&&(i.selected=e),r.push(W(i.id,e)))}return r}function q({items:e=[],lookup:t}){let n=[],r=new Map(e.map(e=>[e.id,e]));for(let[r,o]of e.entries()){let e=t.get(o.id),i=e?.internals?.userNode??e;void 0!==i&&i!==o&&n.push({id:o.id,item:o,type:"replace"}),void 0===i&&n.push({item:o,type:"add",index:r})}for(let[e]of t)void 0===r.get(e)&&n.push({id:e,type:"remove"});return n}function K(e){return{id:e.id,type:"remove"}}let G=e=>(0,s.Vt)(e),Q=e=>(0,s.J3)(e);function J(e){return(0,u.forwardRef)(e)}let ee="undefined"!=typeof window?u.useLayoutEffect:u.useEffect;function et(e){let[t,n]=(0,u.useState)(BigInt(0)),[r]=(0,u.useState)(()=>(function(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}})(()=>n(e=>e+BigInt(1))));return ee(()=>{let t=r.get();t.length&&(e(t),r.reset())},[t]),r}let en=(0,u.createContext)(null);function er({children:e}){let t=g(),n=et((0,u.useCallback)(e=>{let{nodes:n=[],setNodes:r,hasDefaultNodes:o,onNodesChange:i,nodeLookup:a}=t.getState(),s=n;for(let t of e)s="function"==typeof t?t(s):t;o?r(s):i&&i(q({items:s,lookup:a}))},[])),r=et((0,u.useCallback)(e=>{let{edges:n=[],setEdges:r,hasDefaultEdges:o,onEdgesChange:i,edgeLookup:a}=t.getState(),s=n;for(let t of e)s="function"==typeof t?t(s):t;o?r(s):i&&i(q({items:s,lookup:a}))},[])),o=(0,u.useMemo)(()=>({nodeQueue:n,edgeQueue:r}),[]);return(0,i.jsx)(en.Provider,{value:o,children:e})}let eo=e=>!!e.panZoom;function ei(){let e=H(),t=g(),n=function(){let e=(0,u.useContext)(en);if(!e)throw Error("useBatchContext must be used within a BatchProvider");return e}(),r=p(eo),o=(0,u.useMemo)(()=>{let e=e=>t.getState().nodeLookup.get(e),r=e=>{n.nodeQueue.push(e)},o=e=>{n.edgeQueue.push(e)},i=e=>{let{nodeLookup:n,nodeOrigin:r}=t.getState(),o=G(e)?e:n.get(e.id),i=o.parentId?(0,s.ZB)(o.position,o.measured,o.parentId,n,r):o.position,a={...o,position:i,width:o.measured?.width??o.width,height:o.measured?.height??o.height};return(0,s.PS)(a)},a=(e,t,n={replace:!1})=>{r(r=>r.map(r=>{if(r.id===e){let e="function"==typeof t?t(r):t;return n.replace&&G(e)?e:{...r,...e}}return r}))},u=(e,t,n={replace:!1})=>{o(r=>r.map(r=>{if(r.id===e){let e="function"==typeof t?t(r):t;return n.replace&&Q(e)?e:{...r,...e}}return r}))};return{getNodes:()=>t.getState().nodes.map(e=>({...e})),getNode:t=>e(t)?.internals.userNode,getInternalNode:e,getEdges:()=>{let{edges:e=[]}=t.getState();return e.map(e=>({...e}))},getEdge:e=>t.getState().edgeLookup.get(e),setNodes:r,setEdges:o,addNodes:e=>{let t=Array.isArray(e)?e:[e];n.nodeQueue.push(e=>[...e,...t])},addEdges:e=>{let t=Array.isArray(e)?e:[e];n.edgeQueue.push(e=>[...e,...t])},toObject:()=>{let{nodes:e=[],edges:n=[],transform:r}=t.getState(),[o,i,a]=r;return{nodes:e.map(e=>({...e})),edges:n.map(e=>({...e})),viewport:{x:o,y:i,zoom:a}}},deleteElements:async({nodes:e=[],edges:n=[]})=>{let{nodes:r,edges:o,onNodesDelete:i,onEdgesDelete:a,triggerNodeChanges:u,triggerEdgeChanges:c,onDelete:l,onBeforeDelete:d}=t.getState(),{nodes:f,edges:h}=await (0,s.WD)({nodesToRemove:e,edgesToRemove:n,nodes:r,edges:o,onBeforeDelete:d}),p=h.length>0,g=f.length>0;if(p){let e=h.map(K);a?.(h),c(e)}if(g){let e=f.map(K);i?.(f),u(e)}return(g||p)&&l?.({nodes:f,edges:h}),{deletedNodes:f,deletedEdges:h}},getIntersectingNodes:(e,n=!0,r)=>{let o=(0,s.J$)(e),a=o?e:i(e),u=void 0!==r;return a?(r||t.getState().nodes).filter(r=>{let i=t.getState().nodeLookup.get(r.id);if(i&&!o&&(r.id===e.id||!i.internals.positionAbsolute))return!1;let c=(0,s.PS)(u?r:i),l=(0,s.lp)(c,a);return n&&l>0||l>=a.width*a.height}):[]},isNodeIntersecting:(e,t,n=!0)=>{let r=(0,s.J$)(e)?e:i(e);if(!r)return!1;let o=(0,s.lp)(r,t);return n&&o>0||o>=r.width*r.height},updateNode:a,updateNodeData:(e,t,n={replace:!1})=>{a(e,e=>{let r="function"==typeof t?t(e):t;return n.replace?{...e,data:r}:{...e,data:{...e.data,...r}}},n)},updateEdge:u,updateEdgeData:(e,t,n={replace:!1})=>{u(e,e=>{let r="function"==typeof t?t(e):t;return n.replace?{...e,data:r}:{...e,data:{...e.data,...r}}},n)},getNodesBounds:e=>{let{nodeLookup:n,nodeOrigin:r}=t.getState();return(0,s.RX)(e,{nodeLookup:n,nodeOrigin:r})},getHandleConnections:({type:e,id:n,nodeId:r})=>Array.from(t.getState().connectionLookup.get(`${r}-${e}-${n??null}`)?.values()??[])}},[]);return(0,u.useMemo)(()=>({...o,...e,viewportInitialized:r}),[r])}let ea=e=>e.selected,es={actInsideInputWithModifier:!1},eu="undefined"!=typeof window?window:void 0,ec={position:"absolute",width:"100%",height:"100%",top:0,left:0},el=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function ed({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:o=.5,panOnScrollMode:a=s.IY.Free,zoomOnDoubleClick:c=!0,panOnDrag:d=!0,defaultViewport:f,translateExtent:h,minZoom:m,maxZoom:v,zoomActivationKeyCode:y,preventScrolling:w=!0,children:x,noWheelClassName:b,noPanClassName:_,onViewportChange:E,isControlledViewport:k,paneClickDistance:S}){let N=g(),M=(0,u.useRef)(null),{userSelectionActive:C,lib:Z}=p(el,l.X),P=T(y),I=(0,u.useRef)();!function(e){let t=g();(0,u.useEffect)(()=>{let n=()=>{if(!e.current)return!1;let n=(0,s.t_)(e.current);(0===n.height||0===n.width)&&t.getState().onError?.("004",s.Qj.error004()),t.setState({width:n.width||500,height:n.height||500})};if(e.current){n(),window.addEventListener("resize",n);let t=new ResizeObserver(()=>n());return t.observe(e.current),()=>{window.removeEventListener("resize",n),t&&e.current&&t.unobserve(e.current)}}},[])}(M);let z=(0,u.useCallback)(e=>{E?.({x:e[0],y:e[1],zoom:e[2]}),!k&&N.setState({transform:e})},[E,k]);return(0,u.useEffect)(()=>{if(M.current){I.current=(0,s.X6)({domNode:M.current,minZoom:m,maxZoom:v,translateExtent:h,viewport:f,paneClickDistance:S,onDraggingChange:e=>N.setState({paneDragging:e}),onPanZoomStart:(e,t)=>{let{onViewportChangeStart:n,onMoveStart:r}=N.getState();r?.(e,t),n?.(t)},onPanZoom:(e,t)=>{let{onViewportChange:n,onMove:r}=N.getState();r?.(e,t),n?.(t)},onPanZoomEnd:(e,t)=>{let{onViewportChangeEnd:n,onMoveEnd:r}=N.getState();r?.(e,t),n?.(t)}});let{x:e,y:t,zoom:n}=I.current.getViewport();return N.setState({panZoom:I.current,transform:[e,t,n],domNode:M.current.closest(".react-flow")}),()=>{I.current?.destroy()}}},[]),(0,u.useEffect)(()=>{I.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:o,panOnScrollMode:a,zoomOnDoubleClick:c,panOnDrag:d,zoomActivationKeyPressed:P,preventScrolling:w,noPanClassName:_,userSelectionActive:C,noWheelClassName:b,lib:Z,onTransformChange:z})},[e,t,n,r,o,a,c,d,P,w,_,C,b,Z,z]),(0,i.jsx)("div",{className:"react-flow__renderer",ref:M,style:ec,children:x})}let ef=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function eh(){let{userSelectionActive:e,userSelectionRect:t}=p(ef,l.X);return e&&t?(0,i.jsx)("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}let ep=(e,t)=>n=>{if(n.target===t.current)e?.(n)},eg=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,dragging:e.paneDragging});function em({isSelecting:e,selectionKeyPressed:t,selectionMode:n=s.oW.Full,panOnDrag:r,selectionOnDrag:o,onSelectionStart:c,onSelectionEnd:d,onPaneClick:f,onPaneContextMenu:h,onPaneScroll:m,onPaneMouseEnter:v,onPaneMouseMove:y,onPaneMouseLeave:w,children:x}){let b=(0,u.useRef)(null),_=g(),E=(0,u.useRef)(0),k=(0,u.useRef)(0),S=(0,u.useRef)(),N=(0,u.useRef)(new Map),{userSelectionActive:M,elementsSelectable:C,dragging:Z}=p(eg,l.X),P=C&&(e||M),I=(0,u.useRef)(!1),z=(0,u.useRef)(!1),A=()=>{_.setState({userSelectionActive:!1,userSelectionRect:null}),E.current=0,k.current=0},R=e=>{if(I.current){I.current=!1;return}f?.(e),_.getState().resetSelectedElements(),_.setState({nodesSelectionActive:!1})},j=!0===r||Array.isArray(r)&&r.includes(0);return(0,i.jsxs)("div",{className:(0,a.Z)(["react-flow__pane",{draggable:j,dragging:Z,selection:e}]),onClick:P?void 0:ep(R,b),onContextMenu:ep(e=>{if(Array.isArray(r)&&r?.includes(2)){e.preventDefault();return}h?.(e)},b),onWheel:ep(m?e=>m(e):void 0,b),onPointerEnter:P?void 0:v,onPointerDown:P?t=>{let{resetSelectedElements:n,domNode:r,edgeLookup:o}=_.getState();if(S.current=r?.getBoundingClientRect(),!C||!e||0!==t.button||t.target!==b.current||!S.current)return;for(let[e,n]of(t.target?.setPointerCapture?.(t.pointerId),z.current=!0,I.current=!1,N.current=new Map,o))N.current.set(n.source,N.current.get(n.source)?.add(e)||new Set([e])),N.current.set(n.target,N.current.get(n.target)?.add(e)||new Set([e]));let{x:i,y:a}=(0,s.wv)(t.nativeEvent,S.current);n(),_.setState({userSelectionRect:{width:0,height:0,startX:i,startY:a,x:i,y:a}}),c?.(t)}:y,onPointerMove:P?e=>{let{userSelectionRect:t,edgeLookup:r,transform:o,nodeLookup:i,triggerNodeChanges:a,triggerEdgeChanges:u}=_.getState();if(!S.current||!t)return;I.current=!0;let{x:c,y:l}=(0,s.wv)(e.nativeEvent,S.current),{startX:d,startY:f}=t,h={startX:d,startY:f,x:c<d?c:d,y:l<f?l:f,width:Math.abs(c-d),height:Math.abs(l-f)},p=(0,s.f5)(i,h,o,n===s.oW.Partial,!0),g=new Set,m=new Set;for(let e of p){m.add(e.id);let t=N.current.get(e.id);if(t)for(let e of t)g.add(e)}E.current!==m.size&&(E.current=m.size,a(U(i,m,!0))),k.current!==g.size&&(k.current=g.size,u(U(r,g))),_.setState({userSelectionRect:h,userSelectionActive:!0,nodesSelectionActive:!1})}:y,onPointerUp:P?e=>{if(0!==e.button||!z.current)return;e.target?.releasePointerCapture?.(e.pointerId);let{userSelectionRect:n}=_.getState();!M&&n&&e.target===b.current&&R?.(e),E.current>0&&_.setState({nodesSelectionActive:!0}),A(),d?.(e),(t||o)&&(I.current=!1),z.current=!1}:void 0,onPointerLeave:w,ref:b,style:ec,children:[x,(0,i.jsx)(eh,{})]})}function ev({id:e,store:t,unselect:n=!1,nodeRef:r}){let{addSelectedNodes:o,unselectNodesAndEdges:i,multiSelectionActive:a,nodeLookup:u,onError:c}=t.getState(),l=u.get(e);if(!l){c?.("012",s.Qj.error012(e));return}t.setState({nodesSelectionActive:!1}),l.selected?(n||l.selected&&a)&&(i({nodes:[l],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):o([e])}function ey({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:o,isSelectable:i,nodeClickDistance:a}){let c=g(),[l,d]=(0,u.useState)(!1),f=(0,u.useRef)();return(0,u.useEffect)(()=>{f.current=(0,s.oC)({getStoreItems:()=>c.getState(),onNodeMouseDown:t=>{ev({id:t,store:c,nodeRef:e})},onDragStart:()=>{d(!0)},onDragStop:()=>{d(!1)}})},[]),(0,u.useEffect)(()=>{if(t)f.current?.destroy();else if(e.current)return f.current?.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:o,nodeClickDistance:a}),()=>{f.current?.destroy()}},[n,r,t,i,e,o]),l}let ew=e=>t=>t.selected&&(t.draggable||e&&void 0===t.draggable);function ex(){let e=g();return(0,u.useCallback)(t=>{let{nodeExtent:n,snapToGrid:r,snapGrid:o,nodesDraggable:i,onError:a,updateNodePositions:u,nodeLookup:c,nodeOrigin:l}=e.getState(),d=new Map,f=ew(i),h=r?o[0]:5,p=r?o[1]:5,g=t.direction.x*h*t.factor,m=t.direction.y*p*t.factor;for(let[,e]of c){if(!f(e))continue;let t={x:e.internals.positionAbsolute.x+g,y:e.internals.positionAbsolute.y+m};r&&(t=(0,s._2)(t,o));let{position:i,positionAbsolute:u}=(0,s.q7)({nodeId:e.id,nextPosition:t,nodeLookup:c,nodeExtent:n,nodeOrigin:l,onError:a});e.position=i,e.internals.positionAbsolute=u,d.set(e.id,e)}u(d)},[])}let eb=(0,u.createContext)(null),e_=eb.Provider;eb.Consumer;let eE=()=>(0,u.useContext)(eb),ek=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),eS=(e,t,n)=>r=>{let{connectionClickStartHandle:o,connectionMode:i,connection:a}=r,{fromHandle:u,toHandle:c,isValid:l}=a,d=c?.nodeId===e&&c?.id===t&&c?.type===n;return{connectingFrom:u?.nodeId===e&&u?.id===t&&u?.type===n,connectingTo:d,clickConnecting:o?.nodeId===e&&o?.id===t&&o?.type===n,isPossibleEndHandle:i===s.jD.Strict?u?.type!==n:e!==u?.nodeId||t!==u?.id,connectionInProcess:!!u,valid:d&&l}},eN=(0,u.memo)(J(function({type:e="source",position:t=s.Ly.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:o=!0,isConnectableEnd:u=!0,id:c,onConnect:d,children:f,className:h,onMouseDown:m,onTouchStart:v,...y},w){let x=c||null,b="target"===e,_=g(),E=eE(),{connectOnClick:k,noPanClassName:S,rfId:N}=p(ek,l.X),{connectingFrom:M,connectingTo:C,clickConnecting:Z,isPossibleEndHandle:P,connectionInProcess:I,valid:z}=p(eS(E,x,e),l.X);!E&&_.getState().onError?.("010",s.Qj.error010());let A=e=>{let{defaultEdgeOptions:t,onConnect:n,hasDefaultEdges:r}=_.getState(),o={...t,...e};if(r){let{edges:e,setEdges:t}=_.getState();t((0,s.Z_)(o,e))}n?.(o),d?.(o)},R=e=>{if(!E)return;let t=(0,s.N5)(e.nativeEvent);if(o&&(t&&0===e.button||!t)){let t=_.getState();s.Ql.onPointerDown(e.nativeEvent,{autoPanOnConnect:t.autoPanOnConnect,connectionMode:t.connectionMode,connectionRadius:t.connectionRadius,domNode:t.domNode,nodeLookup:t.nodeLookup,lib:t.lib,isTarget:b,handleId:x,nodeId:E,flowId:t.rfId,panBy:t.panBy,cancelConnection:t.cancelConnection,onConnectStart:t.onConnectStart,onConnectEnd:t.onConnectEnd,updateConnection:t.updateConnection,onConnect:A,isValidConnection:n||t.isValidConnection,getTransform:()=>_.getState().transform,getFromHandle:()=>_.getState().connection.fromHandle,autoPanSpeed:t.autoPanSpeed})}t?m?.(e):v?.(e)};return(0,i.jsx)("div",{"data-handleid":x,"data-nodeid":E,"data-handlepos":t,"data-id":`${N}-${E}-${x}-${e}`,className:(0,a.Z)(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",S,h,{source:!b,target:b,connectable:r,connectablestart:o,connectableend:u,clickconnecting:Z,connectingfrom:M,connectingto:C,valid:z,connectionindicator:r&&(!I||P)&&(I?u:o)}]),onMouseDown:R,onTouchStart:R,onClick:k?t=>{let{onClickConnectStart:r,onClickConnectEnd:i,connectionClickStartHandle:a,connectionMode:u,isValidConnection:c,lib:l,rfId:d,nodeLookup:f,connection:h}=_.getState();if(!E||!a&&!o)return;if(!a){r?.(t.nativeEvent,{nodeId:E,handleId:x,handleType:e}),_.setState({connectionClickStartHandle:{nodeId:E,type:e,id:x}});return}let p=(0,s.S2)(t.target),g=n||c,{connection:m,isValid:v}=s.Ql.isValid(t.nativeEvent,{handle:{nodeId:E,id:x,type:e},connectionMode:u,fromNodeId:a.nodeId,fromHandleId:a.id||null,fromType:a.type,isValidConnection:g,flowId:d,doc:p,lib:l,nodeLookup:f});v&&m&&A(m);let y=structuredClone(h);delete y.inProgress,y.toPosition=y.toHandle?y.toHandle.position:null,i?.(t,y),_.setState({connectionClickStartHandle:null})}:void 0,ref:w,...y,children:f})})),eM={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},eC={input:function({data:e,isConnectable:t,sourcePosition:n=s.Ly.Bottom}){return(0,i.jsxs)(i.Fragment,{children:[e?.label,(0,i.jsx)(eN,{type:"source",position:n,isConnectable:t})]})},default:function({data:e,isConnectable:t,targetPosition:n=s.Ly.Top,sourcePosition:r=s.Ly.Bottom}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eN,{type:"target",position:n,isConnectable:t}),e?.label,(0,i.jsx)(eN,{type:"source",position:r,isConnectable:t})]})},output:function({data:e,isConnectable:t,targetPosition:n=s.Ly.Top}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eN,{type:"target",position:n,isConnectable:t}),e?.label]})},group:function(){return null}},eZ=e=>{let{width:t,height:n,x:r,y:o}=(0,s.W0)(e.nodeLookup,{filter:e=>!!e.selected});return{width:(0,s.kE)(t)?t:null,height:(0,s.kE)(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${o}px)`}};function eP({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){let r=g(),{width:o,height:s,transformString:c,userSelectionActive:d}=p(eZ,l.X),f=ex(),h=(0,u.useRef)(null);if((0,u.useEffect)(()=>{!n&&h.current?.focus({preventScroll:!0})},[n]),ey({nodeRef:h}),d||!o||!s)return null;let m=e?t=>{e(t,r.getState().nodes.filter(e=>e.selected))}:void 0;return(0,i.jsx)("div",{className:(0,a.Z)(["react-flow__nodesselection","react-flow__container",t]),style:{transform:c},children:(0,i.jsx)("div",{ref:h,className:"react-flow__nodesselection-rect",onContextMenu:m,tabIndex:n?void 0:-1,onKeyDown:n?void 0:e=>{Object.prototype.hasOwnProperty.call(eM,e.key)&&(e.preventDefault(),f({direction:eM[e.key],factor:e.shiftKey?4:1}))},style:{width:o,height:s}})})}let eI="undefined"!=typeof window?window:void 0,ez=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function eA({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:a,onPaneScroll:s,paneClickDistance:c,deleteKeyCode:l,selectionKeyCode:d,selectionOnDrag:f,selectionMode:h,onSelectionStart:m,onSelectionEnd:v,multiSelectionKeyCode:y,panActivationKeyCode:w,zoomActivationKeyCode:x,elementsSelectable:b,zoomOnScroll:_,zoomOnPinch:E,panOnScroll:k,panOnScrollSpeed:S,panOnScrollMode:N,zoomOnDoubleClick:M,panOnDrag:C,defaultViewport:Z,translateExtent:P,minZoom:I,maxZoom:z,preventScrolling:A,onSelectionContextMenu:R,noWheelClassName:j,noPanClassName:$,disableKeyboardA11y:L,onViewportChange:D,isControlledViewport:O}){let{nodesSelectionActive:B,userSelectionActive:V}=p(ez),H=T(d,{target:eI}),F=T(w,{target:eI}),X=F||C,Y=F||k,W=f&&!0!==X,U=H||V||W;return!function({deleteKeyCode:e,multiSelectionKeyCode:t}){let n=g(),{deleteElements:r}=ei(),o=T(e,es),i=T(t,{target:eu});(0,u.useEffect)(()=>{if(o){let{edges:e,nodes:t}=n.getState();r({nodes:t.filter(ea),edges:e.filter(ea)}),n.setState({nodesSelectionActive:!1})}},[o]),(0,u.useEffect)(()=>{n.setState({multiSelectionActive:i})},[i])}({deleteKeyCode:l,multiSelectionKeyCode:y}),(0,i.jsx)(ed,{onPaneContextMenu:a,elementsSelectable:b,zoomOnScroll:_,zoomOnPinch:E,panOnScroll:Y,panOnScrollSpeed:S,panOnScrollMode:N,zoomOnDoubleClick:M,panOnDrag:!H&&X,defaultViewport:Z,translateExtent:P,minZoom:I,maxZoom:z,zoomActivationKeyCode:x,preventScrolling:A,noWheelClassName:j,noPanClassName:$,onViewportChange:D,isControlledViewport:O,paneClickDistance:c,children:(0,i.jsxs)(em,{onSelectionStart:m,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:o,onPaneContextMenu:a,onPaneScroll:s,panOnDrag:X,isSelecting:!!U,selectionMode:h,selectionKeyPressed:H,selectionOnDrag:W,children:[e,B&&(0,i.jsx)(eP,{onSelectionContextMenu:R,noPanClassName:$,disableKeyboardA11y:L})]})})}eA.displayName="FlowRenderer";let eR=(0,u.memo)(eA),ej=e=>t=>e?(0,s.f5)(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(e=>e.id):Array.from(t.nodeLookup.keys()),e$=e=>e.updateNodeInternals;function eL({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:o,onContextMenu:c,onDoubleClick:d,nodesDraggable:f,elementsSelectable:h,nodesConnectable:m,nodesFocusable:v,resizeObserver:w,noDragClassName:x,noPanClassName:b,disableKeyboardA11y:_,rfId:E,nodeTypes:k,nodeExtent:S,nodeClickDistance:N,onError:M}){var C;let{node:Z,internals:P,isParent:I}=p(t=>{let n=t.nodeLookup.get(e),r=t.parentLookup.has(e);return{node:n,internals:n.internals,isParent:r}},l.X),z=Z.type||"default",A=k?.[z]||eC[z];void 0===A&&(M?.("003",s.Qj.error003(z)),z="default",A=eC.default);let R=!!(Z.draggable||f&&void 0===Z.draggable),j=!!(Z.selectable||h&&void 0===Z.selectable),$=!!(Z.connectable||m&&void 0===Z.connectable),L=!!(Z.focusable||v&&void 0===Z.focusable),D=g(),O=(0,s.nb)(Z),T=function({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){let o=g(),i=(0,u.useRef)(null),a=(0,u.useRef)(null),s=(0,u.useRef)(e.sourcePosition),c=(0,u.useRef)(e.targetPosition),l=(0,u.useRef)(t),d=n&&!!e.internals.handleBounds;return(0,u.useEffect)(()=>{i.current&&!e.hidden&&(!d||a.current!==i.current)&&(a.current&&r?.unobserve(a.current),r?.observe(i.current),a.current=i.current)},[d,e.hidden]),(0,u.useEffect)(()=>()=>{a.current&&(r?.unobserve(a.current),a.current=null)},[]),(0,u.useEffect)(()=>{if(i.current){let n=l.current!==t,r=s.current!==e.sourcePosition,a=c.current!==e.targetPosition;(n||r||a)&&(l.current=t,s.current=e.sourcePosition,c.current=e.targetPosition,o.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}({node:Z,nodeType:z,hasDimensions:O,resizeObserver:w}),B=ey({nodeRef:T,disabled:Z.hidden||!R,noDragClassName:x,handleSelector:Z.dragHandle,nodeId:e,isSelectable:j,nodeClickDistance:N}),V=ex();if(Z.hidden)return null;let H=(0,s.Rf)(Z);let F=void 0===(C=Z).internals.handleBounds?{width:C.width??C.initialWidth??C.style?.width,height:C.height??C.initialHeight??C.style?.height}:{width:C.width??C.style?.width,height:C.height??C.style?.height},X=j||R||t||n||r||o,Y=n?e=>n(e,{...P.userNode}):void 0,W=r?e=>r(e,{...P.userNode}):void 0,U=o?e=>o(e,{...P.userNode}):void 0,q=c?e=>c(e,{...P.userNode}):void 0,K=d?e=>d(e,{...P.userNode}):void 0;return(0,i.jsx)("div",{className:(0,a.Z)(["react-flow__node",`react-flow__node-${z}`,{[b]:R},Z.className,{selected:Z.selected,selectable:j,parent:I,draggable:R,dragging:B}]),ref:T,style:{zIndex:P.z,transform:`translate(${P.positionAbsolute.x}px,${P.positionAbsolute.y}px)`,pointerEvents:X?"all":"none",visibility:O?"visible":"hidden",...Z.style,...F},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:Y,onMouseMove:W,onMouseLeave:U,onContextMenu:q,onClick:n=>{let{selectNodesOnDrag:r,nodeDragThreshold:o}=D.getState();j&&(!r||!R||o>0)&&ev({id:e,store:D,nodeRef:T}),t&&t(n,{...P.userNode})},onDoubleClick:K,onKeyDown:L?t=>{if(!(0,s.s$)(t.nativeEvent)&&!_)s.wQ.includes(t.key)&&j?ev({id:e,store:D,unselect:"Escape"===t.key,nodeRef:T}):R&&Z.selected&&Object.prototype.hasOwnProperty.call(eM,t.key)&&(t.preventDefault(),D.setState({ariaLiveMessage:`Moved selected node ${t.key.replace("Arrow","").toLowerCase()}. New position, x: ${~~P.positionAbsolute.x}, y: ${~~P.positionAbsolute.y}`}),V({direction:eM[t.key],factor:t.shiftKey?4:1}))}:void 0,tabIndex:L?0:void 0,role:L?"button":void 0,"aria-describedby":_?void 0:`${y}-${E}`,"aria-label":Z.ariaLabel,children:(0,i.jsx)(e_,{value:e,children:(0,i.jsx)(A,{id:e,data:Z.data,type:z,positionAbsoluteX:P.positionAbsolute.x,positionAbsoluteY:P.positionAbsolute.y,selected:Z.selected,selectable:j,draggable:R,deletable:Z.deletable??!0,isConnectable:$,sourcePosition:Z.sourcePosition,targetPosition:Z.targetPosition,dragging:B,dragHandle:Z.dragHandle,zIndex:P.z,parentId:Z.parentId,...H})})})}let eD=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function eO(e){var t;let{nodesDraggable:n,nodesConnectable:r,nodesFocusable:o,elementsSelectable:a,onError:s}=p(eD,l.X);let c=(t=e.onlyRenderVisibleElements,p((0,u.useCallback)(ej(t),[t]),l.X)),d=function(){let e=p(e$),[t]=(0,u.useState)(()=>"undefined"==typeof ResizeObserver?null:new ResizeObserver(t=>{let n=new Map;t.forEach(e=>{let t=e.target.getAttribute("data-id");n.set(t,{id:t,nodeElement:e.target,force:!0})}),e(n)}));return(0,u.useEffect)(()=>()=>{t?.disconnect()},[t]),t}();return(0,i.jsx)("div",{className:"react-flow__nodes",style:ec,children:c.map(t=>(0,i.jsx)(eL,{id:t,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:d,nodesDraggable:n,nodesConnectable:r,nodesFocusable:o,elementsSelectable:a,nodeClickDistance:e.nodeClickDistance,onError:s},t))})}eO.displayName="NodeRenderer";let eT=(0,u.memo)(eO),eB={[s.QZ.Arrow]:({color:e="none",strokeWidth:t=1})=>(0,i.jsx)("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),[s.QZ.ArrowClosed]:({color:e="none",strokeWidth:t=1})=>(0,i.jsx)("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},eV=({id:e,type:t,color:n,width:r=12.5,height:o=12.5,markerUnits:a="strokeWidth",strokeWidth:c,orient:l="auto-start-reverse"})=>{let d=function(e){let t=g();return(0,u.useMemo)(()=>Object.prototype.hasOwnProperty.call(eB,e)?eB[e]:(t.getState().onError?.("009",s.Qj.error009(e)),null),[e])}(t);return d?(0,i.jsx)("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${o}`,viewBox:"-10 -10 20 20",markerUnits:a,orient:l,refX:"0",refY:"0",children:(0,i.jsx)(d,{color:n,strokeWidth:c})}):null},eH=({defaultColor:e,rfId:t})=>{let n=p(e=>e.edges),r=p(e=>e.defaultEdgeOptions),o=(0,u.useMemo)(()=>(0,s.n3)(n,{id:t,defaultColor:e,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,t,e]);return o.length?(0,i.jsx)("svg",{className:"react-flow__marker",children:(0,i.jsx)("defs",{children:o.map(e=>(0,i.jsx)(eV,{id:e.id,type:e.type,color:e.color,width:e.width,height:e.height,markerUnits:e.markerUnits,strokeWidth:e.strokeWidth,orient:e.orient},e.id))})}):null};eH.displayName="MarkerDefinitions";var eF=(0,u.memo)(eH);function eX({x:e,y:t,label:n,labelStyle:r={},labelShowBg:o=!0,labelBgStyle:s={},labelBgPadding:c=[2,4],labelBgBorderRadius:l=2,children:d,className:f,...h}){let[p,g]=(0,u.useState)({x:1,y:0,width:0,height:0}),m=(0,a.Z)(["react-flow__edge-textwrapper",f]),v=(0,u.useRef)(null);return((0,u.useEffect)(()=>{if(v.current){let e=v.current.getBBox();g({x:e.x,y:e.y,width:e.width,height:e.height})}},[n]),void 0!==n&&n)?(0,i.jsxs)("g",{transform:`translate(${e-p.width/2} ${t-p.height/2})`,className:m,visibility:p.width?"visible":"hidden",...h,children:[o&&(0,i.jsx)("rect",{width:p.width+2*c[0],x:-c[0],y:-c[1],height:p.height+2*c[1],className:"react-flow__edge-textbg",style:s,rx:l,ry:l}),(0,i.jsx)("text",{className:"react-flow__edge-text",y:p.height/2,dy:"0.3em",ref:v,style:r,children:n}),d]}):null}eX.displayName="EdgeText";let eY=(0,u.memo)(eX);function eW({path:e,labelX:t,labelY:n,label:r,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:d,interactionWidth:f=20,...h}){return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("path",{...h,d:e,fill:"none",className:(0,a.Z)(["react-flow__edge-path",h.className])}),f&&(0,i.jsx)("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}),r&&(0,s.kE)(t)&&(0,s.kE)(n)?(0,i.jsx)(eY,{x:t,y:n,label:r,labelStyle:o,labelShowBg:u,labelBgStyle:c,labelBgPadding:l,labelBgBorderRadius:d}):null]})}function eU({pos:e,x1:t,y1:n,x2:r,y2:o}){return e===s.Ly.Left||e===s.Ly.Right?[.5*(t+r),n]:[t,.5*(n+o)]}function eq({sourceX:e,sourceY:t,sourcePosition:n=s.Ly.Bottom,targetX:r,targetY:o,targetPosition:i=s.Ly.Top}){let[a,u]=eU({pos:n,x1:e,y1:t,x2:r,y2:o}),[c,l]=eU({pos:i,x1:r,y1:o,x2:e,y2:t}),[d,f,h,p]=(0,s.lM)({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:a,sourceControlY:u,targetControlX:c,targetControlY:l});return[`M${e},${t} C${a},${u} ${c},${l} ${r},${o}`,d,f,h,p]}function eK(e){return(0,u.memo)(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:a,sourcePosition:u=s.Ly.Bottom,targetPosition:c=s.Ly.Top,label:l,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:v,markerStart:y,interactionWidth:w})=>{let[x,b,_]=eq({sourceX:n,sourceY:r,sourcePosition:u,targetX:o,targetY:a,targetPosition:c}),E=e.isInternal?void 0:t;return(0,i.jsx)(eW,{id:E,path:x,labelX:b,labelY:_,label:l,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:v,markerStart:y,interactionWidth:w})})}let eG=eK({isInternal:!1}),eQ=eK({isInternal:!0});function eJ(e){return(0,u.memo)(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:a,label:u,labelStyle:c,labelShowBg:l,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,sourcePosition:g=s.Ly.Bottom,targetPosition:m=s.Ly.Top,markerEnd:v,markerStart:y,pathOptions:w,interactionWidth:x})=>{let[b,_,E]=(0,s.OW)({sourceX:n,sourceY:r,sourcePosition:g,targetX:o,targetY:a,targetPosition:m,borderRadius:w?.borderRadius,offset:w?.offset}),k=e.isInternal?void 0:t;return(0,i.jsx)(eW,{id:k,path:b,labelX:_,labelY:E,label:u,labelStyle:c,labelShowBg:l,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:v,markerStart:y,interactionWidth:x})})}eG.displayName="SimpleBezierEdge",eQ.displayName="SimpleBezierEdgeInternal";let e0=eJ({isInternal:!1}),e1=eJ({isInternal:!0});function e2(e){return(0,u.memo)(({id:t,...n})=>{let r=e.isInternal?void 0:t;return(0,i.jsx)(e0,{...n,id:r,pathOptions:(0,u.useMemo)(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}e0.displayName="SmoothStepEdge",e1.displayName="SmoothStepEdgeInternal";let e3=e2({isInternal:!1}),e5=e2({isInternal:!0});function e4(e){return(0,u.memo)(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:a,label:u,labelStyle:c,labelShowBg:l,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:m,interactionWidth:v})=>{let[y,w,x]=(0,s.Hm)({sourceX:n,sourceY:r,targetX:o,targetY:a}),b=e.isInternal?void 0:t;return(0,i.jsx)(eW,{id:b,path:y,labelX:w,labelY:x,label:u,labelStyle:c,labelShowBg:l,labelBgStyle:d,labelBgPadding:f,labelBgBorderRadius:h,style:p,markerEnd:g,markerStart:m,interactionWidth:v})})}e3.displayName="StepEdge",e5.displayName="StepEdgeInternal";let e6=e4({isInternal:!1}),e7=e4({isInternal:!0});function e8(e){return(0,u.memo)(({id:t,sourceX:n,sourceY:r,targetX:o,targetY:a,sourcePosition:u=s.Ly.Bottom,targetPosition:c=s.Ly.Top,label:l,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:v,markerStart:y,pathOptions:w,interactionWidth:x})=>{let[b,_,E]=(0,s.OQ)({sourceX:n,sourceY:r,sourcePosition:u,targetX:o,targetY:a,targetPosition:c,curvature:w?.curvature}),k=e.isInternal?void 0:t;return(0,i.jsx)(eW,{id:k,path:b,labelX:_,labelY:E,label:l,labelStyle:d,labelShowBg:f,labelBgStyle:h,labelBgPadding:p,labelBgBorderRadius:g,style:m,markerEnd:v,markerStart:y,interactionWidth:x})})}e6.displayName="StraightEdge",e7.displayName="StraightEdgeInternal";let e9=e8({isInternal:!1}),te=e8({isInternal:!0});e9.displayName="BezierEdge",te.displayName="BezierEdgeInternal";let tt={default:te,straight:e7,step:e5,smoothstep:e1,simplebezier:eQ},tn={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},tr=(e,t,n)=>n===s.Ly.Left?e-t:n===s.Ly.Right?e+t:e,to=(e,t,n)=>n===s.Ly.Top?e-t:n===s.Ly.Bottom?e+t:e,ti="react-flow__edgeupdater";function ta({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:o,onMouseEnter:s,onMouseOut:u,type:c}){return(0,i.jsx)("circle",{onMouseDown:o,onMouseEnter:s,onMouseOut:u,className:(0,a.Z)([ti,`${ti}-${c}`]),cx:tr(t,r,e),cy:to(n,r,e),r:r,stroke:"transparent",fill:"transparent"})}function ts({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:o,targetX:a,targetY:u,sourcePosition:c,targetPosition:l,onReconnect:d,onReconnectStart:f,onReconnectEnd:h,setReconnecting:p,setUpdateHover:m}){let v=g(),y=(e,t)=>{if(0!==e.button)return;let{autoPanOnConnect:r,domNode:o,isValidConnection:i,connectionMode:a,connectionRadius:u,lib:c,onConnectStart:l,onConnectEnd:g,cancelConnection:m,nodeLookup:y,rfId:w,panBy:x,updateConnection:b}=v.getState(),_="target"===t.type;p(!0),f?.(e,n,t.type);s.Ql.onPointerDown(e.nativeEvent,{autoPanOnConnect:r,connectionMode:a,connectionRadius:u,domNode:o,handleId:t.id,nodeId:t.nodeId,nodeLookup:y,isTarget:_,edgeUpdaterType:t.type,lib:c,flowId:w,cancelConnection:m,panBy:x,isValidConnection:i,onConnect:e=>d?.(n,e),onConnectStart:l,onConnectEnd:g,onReconnectEnd:(e,r)=>{p(!1),h?.(e,n,t.type,r)},updateConnection:b,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle})},w=()=>m(!0),x=()=>m(!1);return(0,i.jsxs)(i.Fragment,{children:[(!0===e||"source"===e)&&(0,i.jsx)(ta,{position:c,centerX:r,centerY:o,radius:t,onMouseDown:e=>y(e,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),onMouseEnter:w,onMouseOut:x,type:"source"}),(!0===e||"target"===e)&&(0,i.jsx)(ta,{position:l,centerX:a,centerY:u,radius:t,onMouseDown:e=>y(e,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),onMouseEnter:w,onMouseOut:x,type:"target"})]})}function tu({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:o,onDoubleClick:c,onContextMenu:d,onMouseEnter:f,onMouseMove:h,onMouseLeave:m,reconnectRadius:v,onReconnect:y,onReconnectStart:x,onReconnectEnd:b,rfId:_,edgeTypes:E,noPanClassName:k,onError:S,disableKeyboardA11y:N}){let M=p(t=>t.edgeLookup.get(e)),C=p(e=>e.defaultEdgeOptions),Z=(M=C?{...C,...M}:M).type||"default",P=E?.[Z]||tt[Z];void 0===P&&(S?.("011",s.Qj.error011(Z)),Z="default",P=tt.default);let I=!!(M.focusable||t&&void 0===M.focusable),z=void 0!==y&&(M.reconnectable||n&&void 0===M.reconnectable),A=!!(M.selectable||r&&void 0===M.selectable),R=(0,u.useRef)(null),[j,$]=(0,u.useState)(!1),[L,D]=(0,u.useState)(!1),O=g(),{zIndex:T,sourceX:B,sourceY:V,targetX:H,targetY:F,sourcePosition:X,targetPosition:Y}=p((0,u.useCallback)(t=>{let n=t.nodeLookup.get(M.source),r=t.nodeLookup.get(M.target);if(!n||!r)return{zIndex:M.zIndex,...tn};let o=(0,s.JU)({id:e,sourceNode:n,targetNode:r,sourceHandle:M.sourceHandle||null,targetHandle:M.targetHandle||null,connectionMode:t.connectionMode,onError:S});return{zIndex:(0,s.xx)({selected:M.selected,zIndex:M.zIndex,sourceNode:n,targetNode:r,elevateOnSelect:t.elevateEdgesOnSelect}),...o||tn}},[M.source,M.target,M.sourceHandle,M.targetHandle,M.selected,M.zIndex]),l.X),W=(0,u.useMemo)(()=>M.markerStart?`url('#${(0,s.dW)(M.markerStart,_)}')`:void 0,[M.markerStart,_]),U=(0,u.useMemo)(()=>M.markerEnd?`url('#${(0,s.dW)(M.markerEnd,_)}')`:void 0,[M.markerEnd,_]);if(M.hidden||null===B||null===V||null===H||null===F)return null;let q=c?e=>{c(e,{...M})}:void 0,K=d?e=>{d(e,{...M})}:void 0,G=f?e=>{f(e,{...M})}:void 0,Q=h?e=>{h(e,{...M})}:void 0,J=m?e=>{m(e,{...M})}:void 0;return(0,i.jsx)("svg",{style:{zIndex:T},children:(0,i.jsxs)("g",{className:(0,a.Z)(["react-flow__edge",`react-flow__edge-${Z}`,M.className,k,{selected:M.selected,animated:M.animated,inactive:!A&&!o,updating:j,selectable:A}]),onClick:t=>{let{addSelectedEdges:n,unselectNodesAndEdges:r,multiSelectionActive:i}=O.getState();A&&(O.setState({nodesSelectionActive:!1}),M.selected&&i?(r({nodes:[],edges:[M]}),R.current?.blur()):n([e])),o&&o(t,M)},onDoubleClick:q,onContextMenu:K,onMouseEnter:G,onMouseMove:Q,onMouseLeave:J,onKeyDown:I?t=>{if(!N&&s.wQ.includes(t.key)&&A){let{unselectNodesAndEdges:n,addSelectedEdges:r}=O.getState();"Escape"===t.key?(R.current?.blur(),n({edges:[M]})):r([e])}}:void 0,tabIndex:I?0:void 0,role:I?"button":"img","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":null===M.ariaLabel?void 0:M.ariaLabel||`Edge from ${M.source} to ${M.target}`,"aria-describedby":I?`${w}-${_}`:void 0,ref:R,children:[!L&&(0,i.jsx)(P,{id:e,source:M.source,target:M.target,type:M.type,selected:M.selected,animated:M.animated,selectable:A,deletable:M.deletable??!0,label:M.label,labelStyle:M.labelStyle,labelShowBg:M.labelShowBg,labelBgStyle:M.labelBgStyle,labelBgPadding:M.labelBgPadding,labelBgBorderRadius:M.labelBgBorderRadius,sourceX:B,sourceY:V,targetX:H,targetY:F,sourcePosition:X,targetPosition:Y,data:M.data,style:M.style,sourceHandleId:M.sourceHandle,targetHandleId:M.targetHandle,markerStart:W,markerEnd:U,pathOptions:"pathOptions"in M?M.pathOptions:void 0,interactionWidth:M.interactionWidth}),z&&(0,i.jsx)(ts,{edge:M,isReconnectable:z,reconnectRadius:v,onReconnect:y,onReconnectStart:x,onReconnectEnd:b,sourceX:B,sourceY:V,targetX:H,targetY:F,sourcePosition:X,targetPosition:Y,setUpdateHover:$,setReconnecting:D})]})})}let tc=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function tl({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:o,onReconnect:a,onEdgeContextMenu:c,onEdgeMouseEnter:d,onEdgeMouseMove:f,onEdgeMouseLeave:h,onEdgeClick:g,reconnectRadius:m,onEdgeDoubleClick:v,onReconnectStart:y,onReconnectEnd:w,disableKeyboardA11y:x}){var b;let{edgesFocusable:_,edgesReconnectable:E,elementsSelectable:k,onError:S}=p(tc,l.X);let N=(b=t,p((0,u.useCallback)(e=>{if(!b)return e.edges.map(e=>e.id);let t=[];if(e.width&&e.height)for(let n of e.edges){let r=e.nodeLookup.get(n.source),o=e.nodeLookup.get(n.target);r&&o&&(0,s.RY)({sourceNode:r,targetNode:o,width:e.width,height:e.height,transform:e.transform})&&t.push(n.id)}return t},[b]),l.X));return(0,i.jsxs)("div",{className:"react-flow__edges",children:[(0,i.jsx)(eF,{defaultColor:e,rfId:n}),N.map(e=>(0,i.jsx)(tu,{id:e,edgesFocusable:_,edgesReconnectable:E,elementsSelectable:k,noPanClassName:o,onReconnect:a,onContextMenu:c,onMouseEnter:d,onMouseMove:f,onMouseLeave:h,onClick:g,reconnectRadius:m,onDoubleClick:v,onReconnectStart:y,onReconnectEnd:w,rfId:n,onError:S,edgeTypes:r,disableKeyboardA11y:x},e))]})}tl.displayName="EdgeRenderer";let td=(0,u.memo)(tl),tf=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function th({children:e}){let t=p(tf);return(0,i.jsx)("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}let tp=e=>e.panZoom?.syncViewport;function tg(e){return e.connection.inProgress?{...e.connection,to:(0,s.m)(e.connection.to,e.transform)}:{...e.connection}}let tm=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function tv({containerStyle:e,style:t,type:n,component:r}){let{nodesConnectable:o,width:u,height:c,isValid:d,inProgress:f}=p(tm,l.X);return u&&o&&f?(0,i.jsx)("svg",{style:e,width:u,height:c,className:"react-flow__connectionline react-flow__container",children:(0,i.jsx)("g",{className:(0,a.Z)(["react-flow__connection",(0,s.Zp)(d)]),children:(0,i.jsx)(ty,{style:t,type:n,CustomComponent:r,isValid:d})})}):null}let ty=({style:e,type:t=s.t8.Bezier,CustomComponent:n,isValid:r})=>{var o,a;let{inProgress:u,from:c,fromNode:d,fromHandle:f,fromPosition:h,to:g,toNode:m,toHandle:v,toPosition:y}=p((a=void 0,tg),l.X);if(!u)return;if(n)return(0,i.jsx)(n,{connectionLineType:t,connectionLineStyle:e,fromNode:d,fromHandle:f,fromX:c.x,fromY:c.y,toX:g.x,toY:g.y,fromPosition:h,toPosition:y,connectionStatus:(0,s.Zp)(r),toNode:m,toHandle:v});let w="",x={sourceX:c.x,sourceY:c.y,sourcePosition:h,targetX:g.x,targetY:g.y,targetPosition:y};switch(t){case s.t8.Bezier:[w]=(0,s.OQ)(x);break;case s.t8.SimpleBezier:[w]=eq(x);break;case s.t8.Step:[w]=(0,s.OW)({...x,borderRadius:0});break;case s.t8.SmoothStep:[w]=(0,s.OW)(x);break;default:[w]=(0,s.Hm)(x)}return(0,i.jsx)("path",{d:w,fill:"none",className:"react-flow__connection-path",style:e})};ty.displayName="ConnectionLine";let tw={};function tx(e=tw){(0,u.useRef)(e),g(),(0,u.useEffect)(()=>{},[e])}function tb({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:o,onNodeDoubleClick:a,onEdgeDoubleClick:s,onNodeMouseEnter:c,onNodeMouseMove:l,onNodeMouseLeave:d,onNodeContextMenu:f,onSelectionContextMenu:h,onSelectionStart:m,onSelectionEnd:v,connectionLineType:y,connectionLineStyle:w,connectionLineComponent:x,connectionLineContainerStyle:b,selectionKeyCode:_,selectionOnDrag:E,selectionMode:k,multiSelectionKeyCode:S,panActivationKeyCode:N,zoomActivationKeyCode:M,deleteKeyCode:C,onlyRenderVisibleElements:Z,elementsSelectable:P,defaultViewport:I,translateExtent:z,minZoom:A,maxZoom:R,preventScrolling:j,defaultMarkerColor:$,zoomOnScroll:L,zoomOnPinch:D,panOnScroll:O,panOnScrollSpeed:T,panOnScrollMode:B,zoomOnDoubleClick:V,panOnDrag:H,onPaneClick:F,onPaneMouseEnter:X,onPaneMouseMove:Y,onPaneMouseLeave:W,onPaneScroll:U,onPaneContextMenu:q,paneClickDistance:K,nodeClickDistance:G,onEdgeContextMenu:Q,onEdgeMouseEnter:J,onEdgeMouseMove:ee,onEdgeMouseLeave:et,reconnectRadius:en,onReconnect:er,onReconnectStart:eo,onReconnectEnd:ea,noDragClassName:es,noWheelClassName:eu,noPanClassName:ec,disableKeyboardA11y:el,nodeExtent:ed,rfId:ef,viewport:eh,onViewportChange:ep}){return tx(e),tx(t),g(),(0,u.useRef)(!1),(0,u.useEffect)(()=>{},[]),!function(e){let t=ei(),n=(0,u.useRef)(!1);(0,u.useEffect)(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}(n),!function(e){let t=p(tp),n=g();(0,u.useEffect)(()=>{e&&(t?.(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t])}(eh),(0,i.jsx)(eR,{onPaneClick:F,onPaneMouseEnter:X,onPaneMouseMove:Y,onPaneMouseLeave:W,onPaneContextMenu:q,onPaneScroll:U,paneClickDistance:K,deleteKeyCode:C,selectionKeyCode:_,selectionOnDrag:E,selectionMode:k,onSelectionStart:m,onSelectionEnd:v,multiSelectionKeyCode:S,panActivationKeyCode:N,zoomActivationKeyCode:M,elementsSelectable:P,zoomOnScroll:L,zoomOnPinch:D,zoomOnDoubleClick:V,panOnScroll:O,panOnScrollSpeed:T,panOnScrollMode:B,panOnDrag:H,defaultViewport:I,translateExtent:z,minZoom:A,maxZoom:R,onSelectionContextMenu:h,preventScrolling:j,noDragClassName:es,noWheelClassName:eu,noPanClassName:ec,disableKeyboardA11y:el,onViewportChange:ep,isControlledViewport:!!eh,children:(0,i.jsxs)(th,{children:[(0,i.jsx)(td,{edgeTypes:t,onEdgeClick:o,onEdgeDoubleClick:s,onReconnect:er,onReconnectStart:eo,onReconnectEnd:ea,onlyRenderVisibleElements:Z,onEdgeContextMenu:Q,onEdgeMouseEnter:J,onEdgeMouseMove:ee,onEdgeMouseLeave:et,reconnectRadius:en,defaultMarkerColor:$,noPanClassName:ec,disableKeyboardA11y:el,rfId:ef}),(0,i.jsx)(tv,{style:w,type:y,component:x,containerStyle:b}),(0,i.jsx)("div",{className:"react-flow__edgelabel-renderer"}),(0,i.jsx)(eT,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:a,onNodeMouseEnter:c,onNodeMouseMove:l,onNodeMouseLeave:d,onNodeContextMenu:f,nodeClickDistance:G,onlyRenderVisibleElements:Z,noPanClassName:ec,noDragClassName:es,disableKeyboardA11y:el,nodeExtent:ed,rfId:ef}),(0,i.jsx)("div",{className:"react-flow__viewport-portal"})]})})}tb.displayName="GraphView";let t_=(0,u.memo)(tb),tE=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:a,nodeOrigin:u,nodeExtent:c}={})=>{let l=new Map,d=new Map,f=new Map,h=new Map,p=r??t??[],g=n??e??[],m=u??[0,0],v=c??s.k5;(0,s.be)(f,h,p),(0,s.yF)(g,l,d,{nodeOrigin:m,nodeExtent:v,elevateNodesOnSelect:!1});let y=[0,0,1];if(a&&o&&i){let e=(0,s.W0)(l,{filter:e=>!!((e.width||e.initialWidth)&&(e.height||e.initialHeight))}),{x:t,y:n,zoom:r}=(0,s.$i)(e,o,i,.5,2,.1);y=[t,n,r]}return{rfId:"1",width:0,height:0,transform:y,nodes:g,nodeLookup:l,parentLookup:d,edges:p,edgeLookup:h,connectionLookup:f,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:void 0!==n,hasDefaultEdges:void 0!==r,panZoom:null,minZoom:.5,maxZoom:2,translateExtent:s.k5,nodeExtent:v,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:s.jD.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:m,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,fitViewOnInit:!1,fitViewDone:!1,fitViewOnInitOptions:void 0,selectNodesOnDrag:!0,multiSelectionActive:!1,connection:{...s.Ky},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:s.Ki,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},tk=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:i,fitView:a,nodeOrigin:u,nodeExtent:l})=>(0,c.F)((c,d)=>({...tE({nodes:e,edges:t,width:o,height:i,fitView:a,nodeOrigin:u,nodeExtent:l,defaultNodes:n,defaultEdges:r}),setNodes:e=>{let{nodeLookup:t,parentLookup:n,nodeOrigin:r,elevateNodesOnSelect:o}=d();(0,s.yF)(e,t,n,{nodeOrigin:r,nodeExtent:l,elevateNodesOnSelect:o,checkEquality:!0}),c({nodes:e})},setEdges:e=>{let{connectionLookup:t,edgeLookup:n}=d();(0,s.be)(t,n,e),c({edges:e})},setDefaultNodesAndEdges:(e,t)=>{if(e){let{setNodes:t}=d();t(e),c({hasDefaultNodes:!0})}if(t){let{setEdges:e}=d();e(t),c({hasDefaultEdges:!0})}},updateNodeInternals:(e,t={triggerFitView:!0})=>{let{triggerNodeChanges:n,nodeLookup:r,parentLookup:o,fitViewOnInit:i,fitViewDone:a,fitViewOnInitOptions:u,domNode:l,nodeOrigin:f,nodeExtent:h,debug:p,fitViewSync:g}=d(),{changes:m,updatedInternals:v}=(0,s.B1)(e,r,o,l,f,h);if(!!v){if((0,s.VV)(r,o,{nodeOrigin:f,nodeExtent:h}),t.triggerFitView){let e=a;!a&&i&&(e=g({...u,nodes:u?.nodes})),c({fitViewDone:e})}else c({});m?.length>0&&(p&&console.log("React Flow: trigger node changes",m),n?.(m))}},updateNodePositions:(e,t=!1)=>{let n=[],r=[];for(let[o,i]of e){let e=!!(i?.expandParent&&i?.parentId&&i?.position),a={id:o,type:"position",position:e?{x:Math.max(0,i.position.x),y:Math.max(0,i.position.y)}:i.position,dragging:t};e&&n.push({id:o,parentId:i.parentId,rect:{...i.internals.positionAbsolute,width:i.measured.width,height:i.measured.height}}),r.push(a)}if(n.length>0){let{nodeLookup:e,parentLookup:t,nodeOrigin:o}=d(),i=(0,s.so)(n,e,t,o);r.push(...i)}d().triggerNodeChanges(r)},triggerNodeChanges:e=>{let{onNodesChange:t,setNodes:n,nodes:r,hasDefaultNodes:o,debug:i}=d();if(e?.length){if(o)n(F(e,r));i&&console.log("React Flow: trigger node changes",e),t?.(e)}},triggerEdgeChanges:e=>{let{onEdgesChange:t,setEdges:n,edges:r,hasDefaultEdges:o,debug:i}=d();if(e?.length){if(o)n(F(e,r));i&&console.log("React Flow: trigger edge changes",e),t?.(e)}},addSelectedNodes:e=>{let{multiSelectionActive:t,edgeLookup:n,nodeLookup:r,triggerNodeChanges:o,triggerEdgeChanges:i}=d();if(t){o(e.map(e=>W(e,!0)));return}o(U(r,new Set([...e]),!0)),i(U(n))},addSelectedEdges:e=>{let{multiSelectionActive:t,edgeLookup:n,nodeLookup:r,triggerNodeChanges:o,triggerEdgeChanges:i}=d();if(t){i(e.map(e=>W(e,!0)));return}i(U(n,new Set([...e]))),o(U(r,new Set,!0))},unselectNodesAndEdges:({nodes:e,edges:t}={})=>{let{edges:n,nodes:r,nodeLookup:o,triggerNodeChanges:i,triggerEdgeChanges:a}=d(),s=(e||r).map(e=>{let t=o.get(e.id);return t&&(t.selected=!1),W(e.id,!1)}),u=(t||n).map(e=>W(e.id,!1));i(s),a(u)},setMinZoom:e=>{let{panZoom:t,maxZoom:n}=d();t?.setScaleExtent([e,n]),c({minZoom:e})},setMaxZoom:e=>{let{panZoom:t,minZoom:n}=d();t?.setScaleExtent([n,e]),c({maxZoom:e})},setTranslateExtent:e=>{d().panZoom?.setTranslateExtent(e),c({translateExtent:e})},setPaneClickDistance:e=>{d().panZoom?.setClickDistance(e)},resetSelectedElements:()=>{let{edges:e,nodes:t,triggerNodeChanges:n,triggerEdgeChanges:r}=d(),o=t.reduce((e,t)=>t.selected?[...e,W(t.id,!1)]:e,[]),i=e.reduce((e,t)=>t.selected?[...e,W(t.id,!1)]:e,[]);n(o),r(i)},setNodeExtent:e=>{let{nodes:t,nodeLookup:n,parentLookup:r,nodeOrigin:o,elevateNodesOnSelect:i,nodeExtent:a}=d();if(e[0][0]!==a[0][0]||e[0][1]!==a[0][1]||e[1][0]!==a[1][0]||e[1][1]!==a[1][1])(0,s.yF)(t,n,r,{nodeOrigin:o,nodeExtent:e,elevateNodesOnSelect:i,checkEquality:!1}),c({nodeExtent:e})},panBy:e=>{let{transform:t,width:n,height:r,panZoom:o,translateExtent:i}=d();return(0,s.hO)({delta:e,panZoom:o,transform:t,translateExtent:i,width:n,height:r})},fitView:e=>{let{panZoom:t,width:n,height:r,minZoom:o,maxZoom:i,nodeLookup:a}=d();if(!t)return Promise.resolve(!1);let u=(0,s.J6)(a,e);return(0,s.Qu)({nodes:u,width:n,height:r,panZoom:t,minZoom:o,maxZoom:i},e)},fitViewSync:e=>{let{panZoom:t,width:n,height:r,minZoom:o,maxZoom:i,nodeLookup:a}=d();if(!t)return!1;let u=(0,s.J6)(a,e);return(0,s.Qu)({nodes:u,width:n,height:r,panZoom:t,minZoom:o,maxZoom:i},e),u.size>0},cancelConnection:()=>{c({connection:{...s.Ky}})},updateConnection:e=>{c({connection:e})},reset:()=>c({...tE()})}),Object.is);function tS({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:o,initialHeight:a,fitView:s,nodeOrigin:c,nodeExtent:l,children:d}){let[h]=(0,u.useState)(()=>tk({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:o,height:a,fitView:s,nodeOrigin:c,nodeExtent:l}));return(0,i.jsx)(f,{value:h,children:(0,i.jsx)(er,{children:d})})}function tN({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:o,width:a,height:s,fitView:c,nodeOrigin:l,nodeExtent:f}){return(0,u.useContext)(d)?(0,i.jsx)(i.Fragment,{children:e}):(0,i.jsx)(tS,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:o,initialWidth:a,initialHeight:s,fitView:c,nodeOrigin:l,nodeExtent:f,children:e})}let tM={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};var tC=J(function({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:o,nodeTypes:c,edgeTypes:l,onNodeClick:d,onEdgeClick:f,onInit:h,onMove:p,onMoveStart:g,onMoveEnd:m,onConnect:v,onConnectStart:y,onConnectEnd:w,onClickConnectStart:x,onClickConnectEnd:b,onNodeMouseEnter:E,onNodeMouseMove:k,onNodeMouseLeave:N,onNodeContextMenu:M,onNodeDoubleClick:C,onNodeDragStart:Z,onNodeDrag:P,onNodeDragStop:R,onNodesDelete:j,onEdgesDelete:$,onDelete:O,onSelectionChange:T,onSelectionDragStart:B,onSelectionDrag:V,onSelectionDragStop:H,onSelectionContextMenu:F,onSelectionStart:X,onSelectionEnd:Y,onBeforeDelete:W,connectionMode:U,connectionLineType:q=s.t8.Bezier,connectionLineStyle:K,connectionLineComponent:G,connectionLineContainerStyle:Q,deleteKeyCode:J="Backspace",selectionKeyCode:ee="Shift",selectionOnDrag:et=!1,selectionMode:en=s.oW.Full,panActivationKeyCode:er="Space",multiSelectionKeyCode:eo=(0,s.Q5)()?"Meta":"Control",zoomActivationKeyCode:ei=(0,s.Q5)()?"Meta":"Control",snapToGrid:ea,snapGrid:es,onlyRenderVisibleElements:eu=!1,selectNodesOnDrag:ec,nodesDraggable:el,nodesConnectable:ed,nodesFocusable:ef,nodeOrigin:eh=z,edgesFocusable:ep,edgesReconnectable:eg,elementsSelectable:em=!0,defaultViewport:ev=A,minZoom:ey=.5,maxZoom:ew=2,translateExtent:ex=s.k5,preventScrolling:eb=!0,nodeExtent:e_,defaultMarkerColor:eE="#b1b1b7",zoomOnScroll:ek=!0,zoomOnPinch:eS=!0,panOnScroll:eN=!1,panOnScrollSpeed:eM=.5,panOnScrollMode:eC=s.IY.Free,zoomOnDoubleClick:eZ=!0,panOnDrag:eP=!0,onPaneClick:eI,onPaneMouseEnter:ez,onPaneMouseMove:eA,onPaneMouseLeave:eR,onPaneScroll:ej,onPaneContextMenu:e$,paneClickDistance:eL=0,nodeClickDistance:eD=0,children:eO,onReconnect:eT,onReconnectStart:eB,onReconnectEnd:eV,onEdgeContextMenu:eH,onEdgeDoubleClick:eF,onEdgeMouseEnter:eX,onEdgeMouseMove:eY,onEdgeMouseLeave:eW,reconnectRadius:eU=10,onNodesChange:eq,onEdgesChange:eK,noDragClassName:eG="nodrag",noWheelClassName:eQ="nowheel",noPanClassName:eJ="nopan",fitView:e0,fitViewOptions:e1,connectOnClick:e2,attributionPosition:e3,proOptions:e5,defaultEdgeOptions:e4,elevateNodesOnSelect:e6,elevateEdgesOnSelect:e7,disableKeyboardA11y:e8=!1,autoPanOnConnect:e9,autoPanOnNodeDrag:te,autoPanSpeed:tt,connectionRadius:tn,isValidConnection:tr,onError:to,style:ti,id:ta,nodeDragThreshold:ts,viewport:tu,onViewportChange:tc,width:tl,height:td,colorMode:tf="light",debug:th,...tp},tg){let tm=ta||"1",tv=function(e){let[t,n]=(0,u.useState)("system"===e?null:e);return(0,u.useEffect)(()=>{if("system"!==e){n(e);return}let t=D(),r=()=>n(t?.matches?"dark":"light");return r(),t?.addEventListener("change",r),()=>{t?.removeEventListener("change",r)}},[e]),null!==t?t:D()?.matches?"dark":"light"}(tf);return(0,i.jsx)("div",{"data-testid":"rf__wrapper",...tp,style:{...ti,...tM},ref:tg,className:(0,a.Z)(["react-flow",o,tv]),id:ta,children:(0,i.jsxs)(tN,{nodes:e,edges:t,width:tl,height:td,fitView:e0,nodeOrigin:eh,nodeExtent:e_,children:[(0,i.jsx)(t_,{onInit:h,onNodeClick:d,onEdgeClick:f,onNodeMouseEnter:E,onNodeMouseMove:k,onNodeMouseLeave:N,onNodeContextMenu:M,onNodeDoubleClick:C,nodeTypes:c,edgeTypes:l,connectionLineType:q,connectionLineStyle:K,connectionLineComponent:G,connectionLineContainerStyle:Q,selectionKeyCode:ee,selectionOnDrag:et,selectionMode:en,deleteKeyCode:J,multiSelectionKeyCode:eo,panActivationKeyCode:er,zoomActivationKeyCode:ei,onlyRenderVisibleElements:eu,defaultViewport:ev,translateExtent:ex,minZoom:ey,maxZoom:ew,preventScrolling:eb,zoomOnScroll:ek,zoomOnPinch:eS,zoomOnDoubleClick:eZ,panOnScroll:eN,panOnScrollSpeed:eM,panOnScrollMode:eC,panOnDrag:eP,onPaneClick:eI,onPaneMouseEnter:ez,onPaneMouseMove:eA,onPaneMouseLeave:eR,onPaneScroll:ej,onPaneContextMenu:e$,paneClickDistance:eL,nodeClickDistance:eD,onSelectionContextMenu:F,onSelectionStart:X,onSelectionEnd:Y,onReconnect:eT,onReconnectStart:eB,onReconnectEnd:eV,onEdgeContextMenu:eH,onEdgeDoubleClick:eF,onEdgeMouseEnter:eX,onEdgeMouseMove:eY,onEdgeMouseLeave:eW,reconnectRadius:eU,defaultMarkerColor:eE,noDragClassName:eG,noWheelClassName:eQ,noPanClassName:eJ,rfId:tm,disableKeyboardA11y:e8,nodeExtent:e_,viewport:tu,onViewportChange:tc}),(0,i.jsx)(L,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:v,onConnectStart:y,onConnectEnd:w,onClickConnectStart:x,onClickConnectEnd:b,nodesDraggable:el,nodesConnectable:ed,nodesFocusable:ef,edgesFocusable:ep,edgesReconnectable:eg,elementsSelectable:em,elevateNodesOnSelect:e6,elevateEdgesOnSelect:e7,minZoom:ey,maxZoom:ew,nodeExtent:e_,onNodesChange:eq,onEdgesChange:eK,snapToGrid:ea,snapGrid:es,connectionMode:U,translateExtent:ex,connectOnClick:e2,defaultEdgeOptions:e4,fitView:e0,fitViewOptions:e1,onNodesDelete:j,onEdgesDelete:$,onDelete:O,onNodeDragStart:Z,onNodeDrag:P,onNodeDragStop:R,onSelectionDrag:V,onSelectionDragStart:B,onSelectionDragStop:H,onMove:p,onMoveStart:g,onMoveEnd:m,noPanClassName:eJ,nodeOrigin:eh,rfId:tm,autoPanOnConnect:e9,autoPanOnNodeDrag:te,autoPanSpeed:tt,onError:to,connectionRadius:tn,isValidConnection:tr,selectNodesOnDrag:ec,nodeDragThreshold:ts,onBeforeDelete:W,paneClickDistance:eL,debug:th}),(0,i.jsx)(I,{onSelectionChange:T}),eO,(0,i.jsx)(S,{proOptions:e5,position:e3}),(0,i.jsx)(_,{rfId:tm,disableKeyboardA11y:e8})]})})});function tZ(e){let[t,n]=(0,u.useState)(e),r=(0,u.useCallback)(e=>n(t=>F(e,t)),[]);return[t,n,r]}function tP(e){let[t,n]=(0,u.useState)(e),r=(0,u.useCallback)(e=>n(t=>F(e,t)),[]);return[t,n,r]}function tI({dimensions:e,lineWidth:t,variant:n,className:r}){return(0,i.jsx)("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:(0,a.Z)(["react-flow__background-pattern",n,r])})}function tz({radius:e,className:t}){return(0,i.jsx)("circle",{cx:e,cy:e,r:e,className:(0,a.Z)(["react-flow__background-pattern","dots",t])})}(r=o||(o={})).Lines="lines",r.Dots="dots",r.Cross="cross";let tA={[o.Dots]:1,[o.Lines]:1,[o.Cross]:6},tR=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function tj({id:e,variant:t=o.Dots,gap:n=20,size:r,lineWidth:s=1,offset:c=0,color:d,bgColor:f,style:h,className:g,patternClassName:m}){let v=(0,u.useRef)(null),{transform:y,patternId:w}=p(tR,l.X),x=r||tA[t],b=t===o.Dots,_=t===o.Cross,E=Array.isArray(n)?n:[n,n],k=[E[0]*y[2]||1,E[1]*y[2]||1],S=x*y[2],N=Array.isArray(c)?c:[c,c],M=_?[S,S]:k,C=[N[0]*y[2]||1+M[0]/2,N[1]*y[2]||1+M[1]/2],Z=`${w}${e||""}`;return(0,i.jsxs)("svg",{className:(0,a.Z)(["react-flow__background",g]),style:{...h,...ec,"--xy-background-color-props":f,"--xy-background-pattern-color-props":d},ref:v,"data-testid":"rf__background",children:[(0,i.jsx)("pattern",{id:Z,x:y[0]%k[0],y:y[1]%k[1],width:k[0],height:k[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${C[0]},-${C[1]})`,children:b?(0,i.jsx)(tz,{radius:S/2,className:m}):(0,i.jsx)(tI,{dimensions:M,lineWidth:s,variant:t,className:m})}),(0,i.jsx)("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${Z})`})]})}tj.displayName="Background";let t$=(0,u.memo)(tj);function tL(){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:(0,i.jsx)("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function tD(){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:(0,i.jsx)("path",{d:"M0 0h32v4.2H0z"})})}function tO(){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:(0,i.jsx)("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function tT(){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,i.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function tB(){return(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:(0,i.jsx)("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function tV({children:e,className:t,...n}){return(0,i.jsx)("button",{type:"button",className:(0,a.Z)(["react-flow__controls-button",t]),...n,children:e})}let tH=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function tF({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:o,onZoomIn:s,onZoomOut:u,onFitView:c,onInteractiveChange:d,className:f,children:h,position:m="bottom-left",orientation:v="vertical","aria-label":y="React Flow controls"}){let w=g(),{isInteractive:x,minZoomReached:b,maxZoomReached:_}=p(tH,l.X),{zoomIn:E,zoomOut:S,fitView:N}=ei();return(0,i.jsxs)(k,{className:(0,a.Z)(["react-flow__controls","horizontal"===v?"horizontal":"vertical",f]),position:m,style:e,"data-testid":"rf__controls","aria-label":y,children:[t&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(tV,{onClick:()=>{E(),s?.()},className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:_,children:(0,i.jsx)(tL,{})}),(0,i.jsx)(tV,{onClick:()=>{S(),u?.()},className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b,children:(0,i.jsx)(tD,{})})]}),n&&(0,i.jsx)(tV,{className:"react-flow__controls-fitview",onClick:()=>{N(o),c?.()},title:"fit view","aria-label":"fit view",children:(0,i.jsx)(tO,{})}),r&&(0,i.jsx)(tV,{className:"react-flow__controls-interactive",onClick:()=>{w.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),d?.(!x)},title:"toggle interactivity","aria-label":"toggle interactivity",children:x?(0,i.jsx)(tB,{}):(0,i.jsx)(tT,{})}),h]})}tF.displayName="Controls",(0,u.memo)(tF);let tX=(0,u.memo)(function({id:e,x:t,y:n,width:r,height:o,style:s,color:u,strokeColor:c,strokeWidth:l,className:d,borderRadius:f,shapeRendering:h,selected:p,onClick:g}){let{background:m,backgroundColor:v}=s||{};return(0,i.jsx)("rect",{className:(0,a.Z)(["react-flow__minimap-node",{selected:p},d]),x:t,y:n,rx:f,ry:f,width:r,height:o,style:{fill:u||m||v,stroke:c,strokeWidth:l},shapeRendering:h,onClick:g?t=>g(t,e):void 0})}),tY=e=>e.nodes.map(e=>e.id),tW=e=>e instanceof Function?e:()=>e,tU=(0,u.memo)(function({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:o,nodeStrokeWidth:a,shapeRendering:u,NodeComponent:c,onClick:d}){let{node:f,x:h,y:g,width:m,height:v}=p(t=>{let n=t.nodeLookup.get(e),{x:r,y:o}=n.internals.positionAbsolute,{width:i,height:a}=(0,s.Rf)(n);return{node:n,x:r,y:o,width:i,height:a}},l.X);return f&&!f.hidden&&(0,s.nb)(f)?(0,i.jsx)(c,{x:h,y:g,width:m,height:v,style:f.style,selected:!!f.selected,className:r(f),color:t(f),borderRadius:o,strokeColor:n(f),strokeWidth:a,shapeRendering:u,onClick:d,id:f.id}):null});var tq=(0,u.memo)(function({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:o,nodeComponent:a=tX,onClick:s}){let u=p(tY,l.X),c=tW(t),d=tW(e),f=tW(n),h="undefined"==typeof window||window.chrome?"crispEdges":"geometricPrecision";return(0,i.jsx)(i.Fragment,{children:u.map(e=>(0,i.jsx)(tU,{id:e,nodeColorFunc:c,nodeStrokeColorFunc:d,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:o,NodeComponent:a,onClick:s,shapeRendering:h},e))})});let tK=e=>{let t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?(0,s.oI)((0,s.W0)(e.nodeLookup),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}};function tG({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:o="",nodeBorderRadius:c=5,nodeStrokeWidth:d,nodeComponent:f,bgColor:h,maskColor:m,maskStrokeColor:v,maskStrokeWidth:y,position:w="bottom-right",onClick:x,onNodeClick:b,pannable:_=!1,zoomable:E=!1,ariaLabel:S="React Flow mini map",inversePan:N,zoomStep:M=10,offsetScale:C=5}){let Z=g(),P=(0,u.useRef)(null),{boundingRect:I,viewBB:z,rfId:A,panZoom:R,translateExtent:j,flowWidth:$,flowHeight:L}=p(tK,l.X),D=e?.width??200,O=e?.height??150,T=I.width/D,B=Math.max(T,I.height/O),V=B*D,H=B*O,F=C*B,X=I.x-(V-I.width)/2-F,Y=I.y-(H-I.height)/2-F,W=V+2*F,U=H+2*F,q=`react-flow__minimap-desc-${A}`,K=(0,u.useRef)(0),G=(0,u.useRef)();K.current=B,(0,u.useEffect)(()=>{if(P.current&&R)return G.current=(0,s.FD)({domNode:P.current,panZoom:R,getTransform:()=>Z.getState().transform,getViewScale:()=>K.current}),()=>{G.current?.destroy()}},[R]),(0,u.useEffect)(()=>{G.current?.update({translateExtent:j,width:$,height:L,inversePan:N,pannable:_,zoomStep:M,zoomable:E})},[_,E,N,M,j,$,L]);let Q=x?e=>{let[t,n]=G.current?.pointer(e)||[0,0];x(e,{x:t,y:n})}:void 0,J=b?(0,u.useCallback)((e,t)=>{b(e,Z.getState().nodeLookup.get(t))},[]):void 0;return(0,i.jsx)(k,{position:w,style:{...e,"--xy-minimap-background-color-props":"string"==typeof h?h:void 0,"--xy-minimap-mask-background-color-props":"string"==typeof m?m:void 0,"--xy-minimap-mask-stroke-color-props":"string"==typeof v?v:void 0,"--xy-minimap-mask-stroke-width-props":"number"==typeof y?y*B:void 0,"--xy-minimap-node-background-color-props":"string"==typeof r?r:void 0,"--xy-minimap-node-stroke-color-props":"string"==typeof n?n:void 0,"--xy-minimap-node-stroke-width-props":"string"==typeof d?d:void 0},className:(0,a.Z)(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:(0,i.jsxs)("svg",{width:D,height:O,viewBox:`${X} ${Y} ${W} ${U}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":q,ref:P,onClick:Q,children:[S&&(0,i.jsx)("title",{id:q,children:S}),(0,i.jsx)(tq,{onClick:J,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:c,nodeClassName:o,nodeStrokeWidth:d,nodeComponent:f}),(0,i.jsx)("path",{className:"react-flow__minimap-mask",d:`M${X-F},${Y-F}h${W+2*F}v${U+2*F}h${-W-2*F}z
        M${z.x},${z.y}h${z.width}v${z.height}h${-z.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}tG.displayName="MiniMap",(0,u.memo)(tG);(0,u.memo)(function({nodeId:e,position:t,variant:n=s.pB.Handle,className:r,style:o={},children:c,color:l,minWidth:d=10,minHeight:f=10,maxWidth:h=Number.MAX_VALUE,maxHeight:p=Number.MAX_VALUE,keepAspectRatio:m=!1,shouldResize:v,onResizeStart:y,onResize:w,onResizeEnd:x}){let b=eE(),_="string"==typeof e?e:b,E=g(),k=(0,u.useRef)(null),S=n===s.pB.Line?"right":"bottom-right",N=t??S,M=(0,u.useRef)(null);(0,u.useEffect)(()=>{if(!!k.current&&!!_)return!M.current&&(M.current=(0,s.Cz)({domNode:k.current,nodeId:_,getStoreItems:()=>{let{nodeLookup:e,transform:t,snapGrid:n,snapToGrid:r,nodeOrigin:o,domNode:i}=E.getState();return{nodeLookup:e,transform:t,snapGrid:n,snapToGrid:r,nodeOrigin:o,paneDomNode:i}},onChange:(e,t)=>{let{triggerNodeChanges:n,nodeLookup:r,parentLookup:o,nodeOrigin:i}=E.getState(),a=[],u={x:e.x,y:e.y},c=r.get(_);if(c&&c.expandParent&&c.parentId){let t=c.origin??i,n=e.width??c.measured.width,l=e.height??c.measured.height,d={id:c.id,parentId:c.parentId,rect:{width:n,height:l,...(0,s.ZB)({x:e.x??c.position.x,y:e.y??c.position.y},{width:n,height:l},c.parentId,r,t)}},f=(0,s.so)([d],r,o,i);a.push(...f),u.x=e.x?Math.max(t[0]*n,e.x):void 0,u.y=e.y?Math.max(t[1]*l,e.y):void 0}if(void 0!==u.x&&void 0!==u.y){let e={id:_,type:"position",position:{...u}};a.push(e)}if(void 0!==e.width&&void 0!==e.height){let t={id:_,type:"dimensions",resizing:!0,setAttributes:!0,dimensions:{width:e.width,height:e.height}};a.push(t)}for(let e of t){let t={...e,type:"position"};a.push(t)}n(a)},onEnd:()=>{E.getState().triggerNodeChanges([{id:_,type:"dimensions",resizing:!1}])}})),M.current.update({controlPosition:N,boundaries:{minWidth:d,minHeight:f,maxWidth:h,maxHeight:p},keepAspectRatio:m,onResizeStart:y,onResize:w,onResizeEnd:x,shouldResize:v}),()=>{M.current?.destroy()}},[N,d,f,h,p,m,y,w,x,v]);let C=N.split("-"),Z=n===s.pB.Line?"borderColor":"backgroundColor",P=l?{...o,[Z]:l}:o;return(0,i.jsx)("div",{className:(0,a.Z)(["react-flow__resize-control","nodrag",...C,n,r]),ref:k,style:P,children:c})})},97413:function(e,t,n){"use strict";n.d(t,{$i:function(){return er},B1:function(){return eW},Cz:function(){return tc},FD:function(){return e5},Hm:function(){return eM},IY:function(){return d},J$:function(){return G},J3:function(){return M},J6:function(){return j},JU:function(){return eA},Ki:function(){return J},Ky:function(){return k},Ly:function(){return g},N5:function(){return ep},OQ:function(){return ex},OW:function(){return eI},PS:function(){return W},Q5:function(){return eo},QZ:function(){return p},Qj:function(){return b},Ql:function(){return e3},Qu:function(){return $},RX:function(){return I},RY:function(){return eE},Rf:function(){return ea},S2:function(){return ed},VV:function(){return eV},Vt:function(){return C},W0:function(){return z},WD:function(){return D},X6:function(){return tn},ZB:function(){return eu},Z_:function(){return eN},Zp:function(){return N},_2:function(){return ee},be:function(){return eq},dW:function(){return eL},f5:function(){return A},hO:function(){return eU},jD:function(){return l},k5:function(){return _},kE:function(){return Q},lM:function(){return ev},lp:function(){return K},m:function(){return et},n3:function(){return eD},nb:function(){return es},oC:function(){return eQ},oI:function(){return q},oW:function(){return f},oj:function(){return en},pB:function(){return m},q7:function(){return L},s$:function(){return eh},so:function(){return eY},t8:function(){return h},t_:function(){return el},wQ:function(){return E},wv:function(){return eg},xx:function(){return e_},yF:function(){return eH}});var r,o,i,a,s,u,c,l,d,f,h,p,g,m,v=n(39984),y=n(13249),w=n(86996),x=n(84074);let b={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${"source"===e?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`},_=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],E=["Enter"," ","Escape"];(r=l||(l={})).Strict="strict",r.Loose="loose",(o=d||(d={})).Free="free",o.Vertical="vertical",o.Horizontal="horizontal",(i=f||(f={})).Partial="partial",i.Full="full";let k={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};(a=h||(h={})).Bezier="default",a.Straight="straight",a.Step="step",a.SmoothStep="smoothstep",a.SimpleBezier="simplebezier",(s=p||(p={})).Arrow="arrow",s.ArrowClosed="arrowclosed",(u=g||(g={})).Left="left",u.Top="top",u.Right="right",u.Bottom="bottom";let S={[g.Left]:g.Right,[g.Right]:g.Left,[g.Top]:g.Bottom,[g.Bottom]:g.Top};function N(e){return null===e?null:e?"valid":"invalid"}let M=e=>"id"in e&&"source"in e&&"target"in e,C=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),Z=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),P=(e,t=[0,0])=>{let{width:n,height:r}=ea(e),o=e.origin??t,i=n*o[0],a=r*o[1];return{x:e.position.x-i,y:e.position.y-a}},I=(e,t={nodeOrigin:[0,0],nodeLookup:void 0})=>0===e.length?{x:0,y:0,width:0,height:0}:Y(e.reduce((e,n)=>{let r="string"==typeof n,o=t.nodeLookup||r?void 0:n;return t.nodeLookup&&(o=r?t.nodeLookup.get(n):Z(n)?n:t.nodeLookup.get(n.id)),F(e,o?U(o,t.nodeOrigin):{x:0,y:0,x2:0,y2:0})},{x:1/0,y:1/0,x2:-1/0,y2:-1/0})),z=(e,t={})=>{if(0===e.size)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(e=>{if(void 0===t.filter||t.filter(e)){let t=U(e);n=F(n,t)}}),Y(n)},A=(e,t,[n,r,o]=[0,0,1],i=!1,a=!1)=>{let s={...et(t,[n,r,o]),width:t.width/o,height:t.height/o},u=[];for(let t of e.values()){let{measured:e,selectable:n=!0,hidden:r=!1}=t;if(a&&!n||r)continue;let o=e.width??t.width??t.initialWidth??null,c=e.height??t.height??t.initialHeight??null,l=K(s,W(t)),d=(o??0)*(c??0),f=i&&l>0;(!t.internals.handleBounds||f||l>=d||t.dragging)&&u.push(t)}return u},R=(e,t)=>{let n=new Set;return e.forEach(e=>{n.add(e.id)}),t.filter(e=>n.has(e.source)||n.has(e.target))};function j(e,t){let n=new Map,r=t?.nodes?new Set(t.nodes.map(e=>e.id)):null;return e.forEach(e=>{e.measured.width&&e.measured.height&&(t?.includeHiddenNodes||!e.hidden)&&(!r||r.has(e.id))&&n.set(e.id,e)}),n}async function $({nodes:e,width:t,height:n,panZoom:r,minZoom:o,maxZoom:i},a){if(0===e.size)return Promise.resolve(!1);let s=er(z(e),t,n,a?.minZoom??o,a?.maxZoom??i,a?.padding??.1);return await r.setViewport(s,{duration:a?.duration}),Promise.resolve(!0)}function L({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:o,onError:i}){let a=n.get(e),s=a.parentId?n.get(a.parentId):void 0,{x:u,y:c}=s?s.internals.positionAbsolute:{x:0,y:0},l=a.origin??r,d=o;if("parent"!==a.extent||a.expandParent)s&&ei(a.extent)&&(d=[[a.extent[0][0]+u,a.extent[0][1]+c],[a.extent[1][0]+u,a.extent[1][1]+c]]);else if(s){let e=s.measured.width,t=s.measured.height;e&&t&&(d=[[u,c],[u+e,c+t]])}else i?.("005",b.error005());let f=ei(d)?T(t,d,a.measured):t;return{position:{x:f.x-u+a.measured.width*l[0],y:f.y-c+a.measured.height*l[1]},positionAbsolute:f}}async function D({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:o}){let i=new Set(e.map(e=>e.id)),a=[];for(let e of n){if(!1===e.deletable)continue;let t=i.has(e.id),n=!t&&e.parentId&&a.find(t=>t.id===e.parentId);(t||n)&&a.push(e)}let s=new Set(t.map(e=>e.id)),u=r.filter(e=>!1!==e.deletable),c=R(a,u);for(let e of u)s.has(e.id)&&!c.find(t=>t.id===e.id)&&c.push(e);if(!o)return{edges:c,nodes:a};let l=await o({nodes:a,edges:c});return"boolean"==typeof l?l?{edges:c,nodes:a}:{edges:[],nodes:[]}:l}let O=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),T=(e={x:0,y:0},t,n)=>({x:O(e.x,t[0][0],t[1][0]-(n?.width??0)),y:O(e.y,t[0][1],t[1][1]-(n?.height??0))});function B(e,t,n){let{width:r,height:o}=ea(n),{x:i,y:a}=n.internals.positionAbsolute;return T(e,[[i,a],[i+r,a+o]],t)}let V=(e,t,n)=>e<t?O(Math.abs(e-t),1,t)/t:e>n?-O(Math.abs(e-n),1,t)/t:0,H=(e,t,n=15,r=40)=>{let o=V(e.x,r,t.width-r)*n;return[o,V(e.y,r,t.height-r)*n]},F=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),X=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Y=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),W=(e,t=[0,0])=>{let{x:n,y:r}=Z(e)?e.internals.positionAbsolute:P(e,t);return{x:n,y:r,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},U=(e,t=[0,0])=>{let{x:n,y:r}=Z(e)?e.internals.positionAbsolute:P(e,t);return{x:n,y:r,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:r+(e.measured?.height??e.height??e.initialHeight??0)}},q=(e,t)=>Y(F(X(e),X(t))),K=(e,t)=>{let n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x));return Math.ceil(n*Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y)))},G=e=>Q(e.width)&&Q(e.height)&&Q(e.x)&&Q(e.y),Q=e=>!isNaN(e)&&isFinite(e),J=(e,t)=>{},ee=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),et=({x:e,y:t},[n,r,o],i=!1,a=[1,1])=>{let s={x:(e-n)/o,y:(t-r)/o};return i?ee(s,a):s},en=({x:e,y:t},[n,r,o])=>({x:e*o+n,y:t*o+r}),er=(e,t,n,r,o,i)=>{let a=t/(e.width*(1+i)),s=O(Math.min(a,n/(e.height*(1+i))),r,o),u=e.x+e.width/2,c=e.y+e.height/2;return{x:t/2-u*s,y:n/2-c*s,zoom:s}},eo=()=>"undefined"!=typeof navigator&&navigator?.userAgent?.indexOf("Mac")>=0;function ei(e){return void 0!==e&&"parent"!==e}function ea(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function es(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function eu(e,t={width:0,height:0},n,r,o){let i={...e},a=r.get(n);if(a){let e=a.origin||o;i.x+=a.internals.positionAbsolute.x-(t.width??0)*e[0],i.y+=a.internals.positionAbsolute.y-(t.height??0)*e[1]}return i}function ec(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:o}){let{x:i,y:a}=eg(e),s=et({x:i-(o?.left??0),y:a-(o?.top??0)},r),{x:u,y:c}=n?ee(s,t):s;return{xSnapped:u,ySnapped:c,...s}}let el=e=>({width:e.offsetWidth,height:e.offsetHeight}),ed=e=>e.getRootNode?.()||window?.document,ef=["INPUT","SELECT","TEXTAREA"];function eh(e){let t=e.composedPath?.()?.[0]||e.target;return ef.includes(t?.nodeName)||t?.hasAttribute?.("contenteditable")||!!t?.closest(".nokey")}let ep=e=>"clientX"in e,eg=(e,t)=>{let n=ep(e),r=n?e.clientX:e.touches?.[0].clientX,o=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:o-(t?.top??0)}},em=(e,t,n,r,o)=>{let i=t.querySelectorAll(`.${e}`);return i&&i.length?Array.from(i).map(t=>{let i=t.getBoundingClientRect();return{id:t.getAttribute("data-handleid"),type:e,nodeId:o,position:t.getAttribute("data-handlepos"),x:(i.left-n.left)/r,y:(i.top-n.top)/r,...el(t)}}):null};function ev({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:o,sourceControlY:i,targetControlX:a,targetControlY:s}){let u=.125*e+.375*o+.375*a+.125*n,c=.125*t+.375*i+.375*s+.125*r,l=Math.abs(u-e),d=Math.abs(c-t);return[u,c,l,d]}function ey(e,t){return e>=0?.5*e:25*t*Math.sqrt(-e)}function ew({pos:e,x1:t,y1:n,x2:r,y2:o,c:i}){switch(e){case g.Left:return[t-ey(t-r,i),n];case g.Right:return[t+ey(r-t,i),n];case g.Top:return[t,n-ey(n-o,i)];case g.Bottom:return[t,n+ey(o-n,i)]}}function ex({sourceX:e,sourceY:t,sourcePosition:n=g.Bottom,targetX:r,targetY:o,targetPosition:i=g.Top,curvature:a=.25}){let[s,u]=ew({pos:n,x1:e,y1:t,x2:r,y2:o,c:a}),[c,l]=ew({pos:i,x1:r,y1:o,x2:e,y2:t,c:a}),[d,f,h,p]=ev({sourceX:e,sourceY:t,targetX:r,targetY:o,sourceControlX:s,sourceControlY:u,targetControlX:c,targetControlY:l});return[`M${e},${t} C${s},${u} ${c},${l} ${r},${o}`,d,f,h,p]}function eb({sourceX:e,sourceY:t,targetX:n,targetY:r}){let o=Math.abs(n-e)/2,i=Math.abs(r-t)/2;return[n<e?n+o:n-o,r<t?r+i:r-i,o,i]}function e_({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:o=!1}){if(!o)return r;let i=n||t.selected||e.selected,a=Math.max(e.internals.z||0,t.internals.z||0,1e3);return r+(i?a:0)}function eE({sourceNode:e,targetNode:t,width:n,height:r,transform:o}){let i=F(U(e),U(t));return i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1),K({x:-o[0]/o[2],y:-o[1]/o[2],width:n/o[2],height:r/o[2]},Y(i))>0}let ek=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,eS=(e,t)=>t.some(t=>t.source===e.source&&t.target===e.target&&(t.sourceHandle===e.sourceHandle||!t.sourceHandle&&!e.sourceHandle)&&(t.targetHandle===e.targetHandle||!t.targetHandle&&!e.targetHandle)),eN=(e,t)=>{let n;return e.source&&e.target?eS(n=M(e)?{...e}:{...e,id:ek(e)},t)?t:(null===n.sourceHandle&&delete n.sourceHandle,null===n.targetHandle&&delete n.targetHandle,t.concat(n)):(J("006",b.error006()),t)};function eM({sourceX:e,sourceY:t,targetX:n,targetY:r}){let[o,i,a,s]=eb({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,o,i,a,s]}let eC={[g.Left]:{x:-1,y:0},[g.Right]:{x:1,y:0},[g.Top]:{x:0,y:-1},[g.Bottom]:{x:0,y:1}},eZ=({source:e,sourcePosition:t=g.Bottom,target:n})=>t===g.Left||t===g.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},eP=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function eI({sourceX:e,sourceY:t,sourcePosition:n=g.Bottom,targetX:r,targetY:o,targetPosition:i=g.Top,borderRadius:a=5,centerX:s,centerY:u,offset:c=20}){let[l,d,f,h,p]=function({source:e,sourcePosition:t=g.Bottom,target:n,targetPosition:r=g.Top,center:o,offset:i}){let a,s;let u=eC[t],c=eC[r],l={x:e.x+u.x*i,y:e.y+u.y*i},d={x:n.x+c.x*i,y:n.y+c.y*i},f=eZ({source:l,sourcePosition:t,target:d}),h=0!==f.x?"x":"y",p=f[h],m=[],v={x:0,y:0},y={x:0,y:0},[w,x,b,_]=eb({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(u[h]*c[h]==-1){a=o.x??w,s=o.y??x;let e=[{x:a,y:l.y},{x:a,y:d.y}],t=[{x:l.x,y:s},{x:d.x,y:s}];m=u[h]===p?"x"===h?e:t:"x"===h?t:e}else{let o=[{x:l.x,y:d.y}],f=[{x:d.x,y:l.y}];if(m="x"===h?u.x===p?f:o:u.y===p?o:f,t===r){let t=Math.abs(e[h]-n[h]);if(t<=i){let r=Math.min(i-1,i-t);u[h]===p?v[h]=(l[h]>e[h]?-1:1)*r:y[h]=(d[h]>n[h]?-1:1)*r}}if(t!==r){let e="x"===h?"y":"x",t=u[h]===c[e],n=l[e]>d[e],r=l[e]<d[e];(1===u[h]&&(!t&&n||t&&r)||1!==u[h]&&(!t&&r||t&&n))&&(m="x"===h?o:f)}let g={x:l.x+v.x,y:l.y+v.y},w={x:d.x+y.x,y:d.y+y.y},x=Math.max(Math.abs(g.x-m[0].x),Math.abs(w.x-m[0].x));x>=Math.max(Math.abs(g.y-m[0].y),Math.abs(w.y-m[0].y))?(a=(g.x+w.x)/2,s=m[0].y):(a=m[0].x,s=(g.y+w.y)/2)}return[[e,{x:l.x+v.x,y:l.y+v.y},...m,{x:d.x+y.x,y:d.y+y.y},n],a,s,b,_]}({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:o},targetPosition:i,center:{x:s,y:u},offset:c});return[l.reduce((e,t,n)=>{let r="";return e+=r=n>0&&n<l.length-1?function(e,t,n,r){let o=Math.min(eP(e,t)/2,eP(t,n)/2,r),{x:i,y:a}=t;if(e.x===i&&i===n.x||e.y===a&&a===n.y)return`L${i} ${a}`;if(e.y===a){let t=e.x<n.x?-1:1,r=e.y<n.y?1:-1;return`L ${i+o*t},${a}Q ${i},${a} ${i},${a+o*r}`}let s=e.x<n.x?1:-1,u=e.y<n.y?-1:1;return`L ${i},${a+o*u}Q ${i},${a} ${i+o*s},${a}`}(l[n-1],t,l[n+1],a):`${0===n?"M":"L"}${t.x} ${t.y}`},""),d,f,h,p]}function ez(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function eA(e){let{sourceNode:t,targetNode:n}=e;if(!ez(t)||!ez(n))return null;let r=t.internals.handleBounds||eR(t.handles),o=n.internals.handleBounds||eR(n.handles),i=e$(r?.source??[],e.sourceHandle),a=e$(e.connectionMode===l.Strict?o?.target??[]:(o?.target??[]).concat(o?.source??[]),e.targetHandle);if(!i||!a)return e.onError?.("008",b.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;let s=i?.position||g.Bottom,u=a?.position||g.Top,c=ej(t,i,s),d=ej(n,a,u);return{sourceX:c.x,sourceY:c.y,targetX:d.x,targetY:d.y,sourcePosition:s,targetPosition:u}}function eR(e){if(!e)return null;let t=[],n=[];for(let r of e)r.width=r.width??1,r.height=r.height??1,"source"===r.type?t.push(r):"target"===r.type&&n.push(r);return{source:t,target:n}}function ej(e,t,n=g.Left,r=!1){let o=(t?.x??0)+e.internals.positionAbsolute.x,i=(t?.y??0)+e.internals.positionAbsolute.y,{width:a,height:s}=t??ea(e);if(r)return{x:o+a/2,y:i+s/2};switch(t?.position??n){case g.Top:return{x:o+a/2,y:i};case g.Right:return{x:o+a,y:i+s/2};case g.Bottom:return{x:o+a/2,y:i+s};case g.Left:return{x:o,y:i+s/2}}}function e$(e,t){return e&&(t?e.find(e=>e.id===t):e[0])||null}function eL(e,t){if(!e)return"";if("string"==typeof e)return e;let n=t?`${t}__`:"";return`${n}${Object.keys(e).sort().map(t=>`${t}=${e[t]}`).join("&")}`}function eD(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:o}){let i=new Set;return e.reduce((e,a)=>([a.markerStart||r,a.markerEnd||o].forEach(r=>{if(r&&"object"==typeof r){let o=eL(r,t);!i.has(o)&&(e.push({id:o,color:r.color||n,...r}),i.add(o))}}),e),[]).sort((e,t)=>e.id.localeCompare(t.id))}let eO={nodeOrigin:[0,0],nodeExtent:_,elevateNodesOnSelect:!0,defaults:{}},eT={...eO,checkEquality:!0};function eB(e,t){let n={...e};for(let e in t)void 0!==t[e]&&(n[e]=t[e]);return n}function eV(e,t,n){let r=eB(eO,n);for(let n of e.values())if(n.parentId)eF(n,e,t,r);else{let e=P(n,r.nodeOrigin),t=T(e,ei(n.extent)?n.extent:r.nodeExtent,ea(n));n.internals.positionAbsolute=t}}function eH(e,t,n,r){let o=eB(eT,r),i=new Map(t),a=o?.elevateNodesOnSelect?1e3:0;for(let s of(t.clear(),n.clear(),e)){let e=i.get(s.id);if(o.checkEquality&&s===e?.internals.userNode)t.set(s.id,e);else{let n=P(s,o.nodeOrigin),r=T(n,ei(s.extent)?s.extent:o.nodeExtent,ea(s));e={...o.defaults,...s,measured:{width:s.measured?.width,height:s.measured?.height},internals:{positionAbsolute:r,handleBounds:s.measured?e?.internals.handleBounds:void 0,z:eX(s,a),userNode:s}},t.set(s.id,e)}s.parentId&&eF(e,t,n,r)}}function eF(e,t,n,r){let{elevateNodesOnSelect:o,nodeOrigin:i,nodeExtent:a}=eB(eO,r),s=e.parentId,u=t.get(s);if(!u){console.warn(`Parent node ${s} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}!function(e,t){if(!e.parentId)return;let n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}(e,n);let{x:c,y:l,z:d}=function(e,t,n,r,o){let{x:i,y:a}=t.internals.positionAbsolute,s=ea(e),u=P(e,n),c=ei(e.extent)?T(u,e.extent,s):u,l=T({x:i+c.x,y:a+c.y},r,s);"parent"===e.extent&&(l=B(l,s,t));let d=eX(e,o),f=t.internals.z??0;return{x:l.x,y:l.y,z:f>d?f:d}}(e,u,i,a,o?1e3:0),{positionAbsolute:f}=e.internals,h=c!==f.x||l!==f.y;(h||d!==e.internals.z)&&(e.internals={...e.internals,positionAbsolute:h?{x:c,y:l}:f,z:d})}function eX(e,t){return(Q(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function eY(e,t,n,r=[0,0]){let o=[],i=new Map;for(let n of e){let e=t.get(n.parentId);if(!e)continue;let r=q(i.get(n.parentId)?.expandedRect??W(e),n.rect);i.set(n.parentId,{expandedRect:r,parent:e})}return i.size>0&&i.forEach(({expandedRect:t,parent:i},a)=>{let s=i.internals.positionAbsolute,u=ea(i),c=i.origin??r,l=t.x<s.x?Math.round(Math.abs(s.x-t.x)):0,d=t.y<s.y?Math.round(Math.abs(s.y-t.y)):0,f=Math.max(u.width,Math.round(t.width)),h=Math.max(u.height,Math.round(t.height)),p=(f-u.width)*c[0],g=(h-u.height)*c[1];(l>0||d>0||p||g)&&(o.push({id:a,type:"position",position:{x:i.position.x-l+p,y:i.position.y-d+g}}),n.get(a)?.forEach(t=>{!e.some(e=>e.id===t.id)&&o.push({id:t.id,type:"position",position:{x:t.position.x+l,y:t.position.y+d}})})),(u.width<t.width||u.height<t.height||l||d)&&o.push({id:a,type:"dimensions",setAttributes:!0,dimensions:{width:f+(l?c[0]*l-p:0),height:h+(d?c[1]*d-g:0)}})}),o}function eW(e,t,n,r,o,i){let a=r?.querySelector(".xyflow__viewport"),s=!1;if(!a)return{changes:[],updatedInternals:s};let u=[],c=window.getComputedStyle(a),{m22:l}=new window.DOMMatrixReadOnly(c.transform),d=[];for(let r of e.values()){let e=t.get(r.id);if(!!e)if(e.hidden)e.internals={...e.internals,handleBounds:void 0},s=!0;else{let a=el(r.nodeElement),c=e.measured.width!==a.width||e.measured.height!==a.height;if(a.width&&a.height&&(c||!e.internals.handleBounds||r.force)){let f=r.nodeElement.getBoundingClientRect(),h=ei(e.extent)?e.extent:i,{positionAbsolute:p}=e.internals;e.parentId&&"parent"===e.extent?p=B(p,a,t.get(e.parentId)):h&&(p=T(p,h,a)),e.measured=a,e.internals={...e.internals,positionAbsolute:p,handleBounds:{source:em("source",r.nodeElement,f,l,e.id),target:em("target",r.nodeElement,f,l,e.id)}},e.parentId&&eF(e,t,n,{nodeOrigin:o}),s=!0,c&&(u.push({id:e.id,type:"dimensions",dimensions:a}),e.expandParent&&e.parentId&&d.push({id:e.id,parentId:e.parentId,rect:W(e,o)}))}}}if(d.length>0){let e=eY(d,t,n,o);u.push(...e)}return{changes:u,updatedInternals:s}}async function eU({delta:e,panZoom:t,transform:n,translateExtent:r,width:o,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);let a=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[o,i]],r);return Promise.resolve(!!a&&(a.x!==n[0]||a.y!==n[1]||a.k!==n[2]))}function eq(e,t,n){for(let r of(e.clear(),t.clear(),n)){let{source:n,target:o,sourceHandle:i=null,targetHandle:a=null}=r,s=`${n}-source-${i}`,u=`${o}-target-${a}`,c=e.get(s)||new Map,l=e.get(u)||new Map,d={edgeId:r.id,source:n,target:o,sourceHandle:i,targetHandle:a};t.set(r.id,r),e.set(s,c.set(`${o}-${a}`,d)),e.set(u,l.set(`${n}-${i}`,d))}}function eK(e,t,n){let r=e;do{if(r?.matches(t))return!0;if(r===n)break;r=r.parentElement}while(r);return!1}function eG({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){let o=[];for(let[e,i]of t){let t=n.get(e)?.internals.userNode;t&&o.push({...t,position:i.position,dragging:r})}if(!e)return[o[0],o];let i=n.get(e)?.internals.userNode;return[i?{...i,position:t.get(e)?.position||i.position,dragging:r}:o[0],o]}function eQ({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:o}){let i={x:null,y:null},a=0,s=new Map,u=!1,c={x:0,y:0},l=null,d=!1,f=null,h=!1;return{update:function({noDragClassName:p,handleSelector:g,domNode:m,isSelectable:w,nodeId:x,nodeClickDistance:b=0}){function _({x:e,y:n},o){let{nodeLookup:a,nodeExtent:u,snapGrid:c,snapToGrid:l,nodeOrigin:d,onNodeDrag:f,onSelectionDrag:h,onError:p,updateNodePositions:g}=t();i={x:e,y:n};let m=!1,v={x:0,y:0,x2:0,y2:0};for(let[t,r]of(s.size>1&&u&&(v=X(z(s))),s)){if(!a.has(t))continue;let o={x:e-r.distance.x,y:n-r.distance.y};l&&(o=ee(o,c));let i=[[u[0][0],u[0][1]],[u[1][0],u[1][1]]];if(s.size>1&&u&&!r.extent){let{positionAbsolute:e}=r.internals,t=e.x-v.x+u[0][0],n=e.x+r.measured.width-v.x2+u[1][0],o=e.y-v.y+u[0][1];i=[[t,o],[n,e.y+r.measured.height-v.y2+u[1][1]]]}let{position:f,positionAbsolute:h}=L({nodeId:t,nextPosition:o,nodeLookup:a,nodeExtent:i,nodeOrigin:d,onError:p});m=m||r.position.x!==f.x||r.position.y!==f.y,r.position=f,r.internals.positionAbsolute=h}if(!!m){if(g(s,!0),o&&(r||f||!x&&h)){let[e,t]=eG({nodeId:x,dragItems:s,nodeLookup:a});r?.(o,s,e,t),f?.(o,e,t),!x&&h?.(o,t)}}}async function E(){if(!l)return;let{transform:e,panBy:n,autoPanSpeed:r}=t(),[o,s]=H(c,l,r);(0!==o||0!==s)&&(i.x=(i.x??0)-o/e[2],i.y=(i.y??0)-s/e[2],await n({x:o,y:s})&&_(i,null)),a=requestAnimationFrame(E)}function k(r){let{nodeLookup:o,multiSelectionActive:a,nodesDraggable:u,transform:c,snapGrid:f,snapToGrid:h,selectNodesOnDrag:p,onNodeDragStart:g,onSelectionDragStart:m,unselectNodesAndEdges:v}=t();d=!0,(!p||!w)&&!a&&x&&!o.get(x)?.selected&&v(),w&&p&&x&&e?.(x);let y=ec(r.sourceEvent,{transform:c,snapGrid:f,snapToGrid:h,containerBounds:l});if(i=y,(s=function(e,t,n,r){let o=new Map;for(let[i,a]of e)if((a.selected||a.id===r)&&(!a.parentId||!function e(t,n){if(!t.parentId)return!1;let r=n.get(t.parentId);return!!r&&(!!r.selected||e(r,n))}(a,e))&&(a.draggable||t&&void 0===a.draggable)){let t=e.get(i);t&&o.set(i,{id:i,position:t.position||{x:0,y:0},distance:{x:n.x-t.internals.positionAbsolute.x,y:n.y-t.internals.positionAbsolute.y},extent:t.extent,parentId:t.parentId,origin:t.origin,expandParent:t.expandParent,internals:{positionAbsolute:t.internals.positionAbsolute||{x:0,y:0}},measured:{width:t.measured.width??0,height:t.measured.height??0}})}return o}(o,u,y,x)).size>0&&(n||g||!x&&m)){let[e,t]=eG({nodeId:x,dragItems:s,nodeLookup:o});n?.(r.sourceEvent,s,e,t),g?.(r.sourceEvent,e,t),!x&&m?.(r.sourceEvent,t)}}f=(0,y.Z)(m);let S=(0,v.Z)().clickDistance(b).on("start",e=>{let{domNode:n,nodeDragThreshold:r,transform:o,snapGrid:a,snapToGrid:s}=t();l=n?.getBoundingClientRect()||null,h=!1,0===r&&k(e),i=ec(e.sourceEvent,{transform:o,snapGrid:a,snapToGrid:s,containerBounds:l}),c=eg(e.sourceEvent,l)}).on("drag",e=>{let{autoPanOnNodeDrag:n,transform:r,snapGrid:o,snapToGrid:a,nodeDragThreshold:f,nodeLookup:p}=t(),g=ec(e.sourceEvent,{transform:r,snapGrid:o,snapToGrid:a,containerBounds:l});if(("touchmove"===e.sourceEvent.type&&e.sourceEvent.touches.length>1||x&&!p.has(x))&&(h=!0),!h){if(!u&&n&&d&&(u=!0,E()),!d){let t=g.xSnapped-(i.x??0),n=g.ySnapped-(i.y??0);Math.sqrt(t*t+n*n)>f&&k(e)}(i.x!==g.xSnapped||i.y!==g.ySnapped)&&s&&d&&(c=eg(e.sourceEvent,l),_(g,e.sourceEvent))}}).on("end",e=>{if(!!d&&!h){if(u=!1,d=!1,cancelAnimationFrame(a),s.size>0){let{nodeLookup:n,updateNodePositions:r,onNodeDragStop:i,onSelectionDragStop:a}=t();if(r(s,!1),o||i||!x&&a){let[t,r]=eG({nodeId:x,dragItems:s,nodeLookup:n,dragging:!1});o?.(e.sourceEvent,s,t,r),i?.(e.sourceEvent,t,r),!x&&a?.(e.sourceEvent,r)}}}}).filter(e=>{let t=e.target;return!e.button&&(!p||!eK(t,`.${p}`,m))&&(!g||eK(t,g,m))});f.call(S)},destroy:function(){f?.on(".drag",null)}}}function eJ(e,t,n,r,o,i=!1){let a=r.get(e);if(!a)return null;let s="strict"===o?a.internals.handleBounds?.[t]:[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]],u=(n?s?.find(e=>e.id===n):s?.[0])??null;return u&&i?{...u,...ej(a,u,u.position,!0)}:u}function e0(e,t){if(e)return e;if(t?.classList.contains("target"))return"target";if(t?.classList.contains("source"))return"source";return null}let e1=()=>!0;function e2(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:o,fromType:i,doc:a,lib:s,flowId:u,isValidConnection:c=e1,nodeLookup:d}){let f="target"===i,h=t?a.querySelector(`.${s}-flow__handle[data-id="${u}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:p,y:g}=eg(e),m=a.elementFromPoint(p,g),v=m?.classList.contains(`${s}-flow__handle`)?m:h,y={handleDomNode:v,isValid:!1,connection:null,toHandle:null};if(v){let e=e0(void 0,v),t=v.getAttribute("data-nodeid"),i=v.getAttribute("data-handleid"),a=v.classList.contains("connectable"),s=v.classList.contains("connectableend");if(!t||!e)return y;let u={source:f?t:r,sourceHandle:f?i:o,target:f?r:t,targetHandle:f?o:i};y.connection=u;let h=a&&s&&(n===l.Strict?f&&"source"===e||!f&&"target"===e:t!==r||i!==o);y.isValid=h&&c(u),y.toHandle=eJ(t,e,i,d,n,!1)}return y}let e3={onPointerDown:function(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:o,edgeUpdaterType:i,isTarget:a,domNode:s,nodeLookup:u,lib:c,autoPanOnConnect:l,flowId:d,panBy:f,cancelConnection:h,onConnectStart:p,onConnect:m,onConnectEnd:v,isValidConnection:y=e1,onReconnectEnd:w,updateConnection:x,getTransform:b,getFromHandle:_,autoPanSpeed:E}){let k;let N=ed(e.target),M=0,{x:C,y:Z}=eg(e),P=e0(i,N?.elementFromPoint(C,Z)),I=s?.getBoundingClientRect();if(!I||!P)return;let z=eJ(o,P,r,u,t);if(!z)return;let A=eg(e,I),R=!1,j=null,$=!1,L=null,D={...z,nodeId:o,type:P,position:z.position},O=u.get(o),T={inProgress:!0,isValid:null,from:ej(O,D,g.Left,!0),fromHandle:D,fromPosition:D.position,fromNode:O,to:A,toHandle:null,toPosition:S[D.position],toNode:null};x(T);let B=T;function V(e){var i,s;let h;if(!_()||!D){F(e);return}let p=b();k=function(e,t,n,r){let o=[],i=1/0;for(let a of function(e,t,n){let r=[],o={x:e.x-n,y:e.y-n,width:2*n,height:2*n};for(let e of t.values())K(o,W(e))>0&&r.push(e);return r}(e,n,t+250))for(let n of[...a.internals.handleBounds?.source??[],...a.internals.handleBounds?.target??[]]){if(r.nodeId===n.nodeId&&r.type===n.type&&r.id===n.id)continue;let{x:s,y:u}=ej(a,n,n.position,!0),c=Math.sqrt(Math.pow(s-e.x,2)+Math.pow(u-e.y,2));if(!(c>t))c<i?(o=[{...n,x:s,y:u}],i=c):c===i&&o.push({...n,x:s,y:u})}if(!o.length)return null;if(o.length>1){let e="source"===r.type?"target":"source";return o.find(t=>t.type===e)??o[0]}return o[0]}(et(A=eg(e,I),p,!1,[1,1]),n,u,D),!R&&(!function e(){if(!l||!I)return;let[t,n]=H(A,I,E);f({x:t,y:n}),M=requestAnimationFrame(e)}(),R=!0);let g=e2(e,{handle:k,connectionMode:t,fromNodeId:o,fromHandleId:r,fromType:a?"target":"source",isValidConnection:y,doc:N,lib:c,flowId:d,nodeLookup:u});L=g.handleDomNode,j=g.connection;i=!!k,s=g.isValid,h=null,s?h=!0:i&&!s&&(h=!1),$=h;let m={...B,isValid:$,to:k&&$?en({x:k.x,y:k.y},p):A,toHandle:g.toHandle,toPosition:$&&g.toHandle?g.toHandle.position:S[D.position],toNode:g.toHandle?u.get(g.toHandle.nodeId):null};if(!$||!k||!B.toHandle||!m.toHandle||B.toHandle.type!==m.toHandle.type||B.toHandle.nodeId!==m.toHandle.nodeId||B.toHandle.id!==m.toHandle.id||B.to.x!==m.to.x||B.to.y!==m.to.y)x(m),B=m}function F(e){(k||L)&&j&&$&&m?.(j);let{inProgress:t,...n}=B,r={...n,toPosition:B.toHandle?B.toPosition:null};v?.(e,r),i&&w?.(e,r),h(),cancelAnimationFrame(M),R=!1,$=!1,j=null,L=null,N.removeEventListener("mousemove",V),N.removeEventListener("mouseup",F),N.removeEventListener("touchmove",V),N.removeEventListener("touchend",F)}p?.(e,{nodeId:o,handleId:r,handleType:P}),N.addEventListener("mousemove",V),N.addEventListener("mouseup",F),N.addEventListener("touchmove",V),N.addEventListener("touchend",F)},isValid:e2};function e5({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){let o=(0,y.Z)(e);return{update:function({translateExtent:e,width:i,height:a,zoomStep:s=10,pannable:u=!0,zoomable:c=!0,inversePan:l=!1}){let d=[0,0],f=(0,x.sP)().on("start",e=>{("mousedown"===e.sourceEvent.type||"touchstart"===e.sourceEvent.type)&&(d=[e.sourceEvent.clientX??e.sourceEvent.touches[0].clientX,e.sourceEvent.clientY??e.sourceEvent.touches[0].clientY])}).on("zoom",u?o=>{let s=n();if("mousemove"!==o.sourceEvent.type&&"touchmove"!==o.sourceEvent.type||!t)return;let u=[o.sourceEvent.clientX??o.sourceEvent.touches[0].clientX,o.sourceEvent.clientY??o.sourceEvent.touches[0].clientY],c=[u[0]-d[0],u[1]-d[1]];d=u;let f=r()*Math.max(s[2],Math.log(s[2]))*(l?-1:1),h={x:s[0]-c[0]*f,y:s[1]-c[1]*f},p=[[0,0],[i,a]];t.setViewportConstrained({x:h.x,y:h.y,zoom:s[2]},p,e)}:null).on("zoom.wheel",c?e=>{let r=n();if("wheel"!==e.sourceEvent.type||!t)return;let o=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*s,i=r[2]*Math.pow(2,o);t.scaleTo(i)}:null);o.call(f,{})},destroy:function(){o.on("zoom",null)},pointer:w.Z}}let e4=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,e6=e=>({x:e.x,y:e.y,zoom:e.k}),e7=({x:e,y:t,zoom:n})=>x.CR.translate(e,t).scale(n),e8=(e,t)=>e.target.closest(`.${t}`),e9=(e,t)=>2===t&&Array.isArray(e)&&e.includes(2),te=(e,t=0,n=()=>{})=>{let r="number"==typeof t&&t>0;return!r&&n(),r?e.transition().duration(t).on("end",n):e},tt=e=>{let t=e.ctrlKey&&eo()?10:1;return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*t};function tn({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:o,viewport:i,onPanZoom:a,onPanZoomStart:s,onPanZoomEnd:u,onDraggingChange:c}){let l={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),h=(0,x.sP)().clickDistance(!Q(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(o),p=(0,y.Z)(e).call(h);_({x:i.x,y:i.y,zoom:O(i.zoom,t,n)},[[0,0],[f.width,f.height]],o);let g=p.on("wheel.zoom"),m=p.on("dblclick.zoom");function v(e,t){return p?new Promise(n=>{h?.transform(te(p,t?.duration,()=>n(!0)),e)}):Promise.resolve(!1)}h.wheelDelta(tt);function b(){h.on("zoom",null)}async function _(e,t,n){let r=e7(e),o=h?.constrain()(r,t,n);return o&&await v(o),new Promise(e=>e(o))}async function E(e,t){let n=e7(e);return await v(n,t),new Promise(e=>e(n))}return{update:function({noWheelClassName:e,noPanClassName:t,onPaneContextMenu:n,userSelectionActive:r,panOnScroll:o,panOnDrag:i,panOnScrollMode:f,panOnScrollSpeed:v,preventScrolling:y,zoomOnPinch:x,zoomOnScroll:_,zoomOnDoubleClick:E,zoomActivationKeyPressed:k,lib:S,onTransformChange:N}){r&&!l.isZoomingOrPanning&&b();let M=!o||k||r?function({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,o){if(!t&&"wheel"===r.type&&!r.ctrlKey||e8(r,e))return null;r.preventDefault(),n.call(this,r,o)}}({noWheelClassName:e,preventScrolling:y,d3ZoomHandler:g}):function({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:o,panOnScrollSpeed:i,zoomOnPinch:a,onPanZoomStart:s,onPanZoom:u,onPanZoomEnd:c}){return l=>{if(e8(l,t))return!1;l.preventDefault(),l.stopImmediatePropagation();let f=n.property("__zoom").k||1;if(l.ctrlKey&&a){let e=(0,w.Z)(l),t=f*Math.pow(2,tt(l));r.scaleTo(n,t,e,l);return}let h=1===l.deltaMode?20:1,p=o===d.Vertical?0:l.deltaX*h,g=o===d.Horizontal?0:l.deltaY*h;!eo()&&l.shiftKey&&o!==d.Vertical&&(p=l.deltaY*h,g=0),r.translateBy(n,-(p/f)*i,-(g/f)*i,{internal:!0});let m=e6(n.property("__zoom"));clearTimeout(e.panScrollTimeout),!e.isPanScrolling&&(e.isPanScrolling=!0,s?.(l,m)),e.isPanScrolling&&(u?.(l,m),e.panScrollTimeout=setTimeout(()=>{c?.(l,m),e.isPanScrolling=!1},150))}}({zoomPanValues:l,noWheelClassName:e,d3Selection:p,d3Zoom:h,panOnScrollMode:f,panOnScrollSpeed:v,zoomOnPinch:x,onPanZoomStart:s,onPanZoom:a,onPanZoomEnd:u});if(p.on("wheel.zoom",M,{passive:!1}),!r){let e=function({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;let o=e6(r.transform);e.mouseButton=r.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=o,r.sourceEvent?.type==="mousedown"&&t(!0),n&&n?.(r.sourceEvent,o)}}({zoomPanValues:l,onDraggingChange:c,onPanZoomStart:s});h.on("start",e);let t=function({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:o}){return i=>{e.usedRightMouseButton=!!(n&&e9(t,e.mouseButton??0)),!i.sourceEvent?.sync&&r([i.transform.x,i.transform.y,i.transform.k]),o&&!i.sourceEvent?.internal&&o?.(i.sourceEvent,e6(i.transform))}}({zoomPanValues:l,panOnDrag:i,onPaneContextMenu:!!n,onPanZoom:a,onTransformChange:N});h.on("zoom",t);let r=function({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:o,onPaneContextMenu:i}){return a=>{if(!a.sourceEvent?.internal){if(e.isZoomingOrPanning=!1,i&&e9(t,e.mouseButton??0)&&!e.usedRightMouseButton&&a.sourceEvent&&i(a.sourceEvent),e.usedRightMouseButton=!1,r(!1),o&&e4(e.prevViewport,a.transform)){let t=e6(a.transform);e.prevViewport=t,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{o?.(a.sourceEvent,t)},n?150:0)}}}}({zoomPanValues:l,panOnDrag:i,panOnScroll:o,onPaneContextMenu:n,onPanZoomEnd:u,onDraggingChange:c});h.on("end",r)}let C=function({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:o,zoomOnDoubleClick:i,userSelectionActive:a,noWheelClassName:s,noPanClassName:u,lib:c}){return l=>{let d=e||t,f=n&&l.ctrlKey;if(1===l.button&&"mousedown"===l.type&&(e8(l,`${c}-flow__node`)||e8(l,`${c}-flow__edge`)))return!0;if(!r&&!d&&!o&&!i&&!n||a||e8(l,s)&&"wheel"===l.type||e8(l,u)&&("wheel"!==l.type||o&&"wheel"===l.type&&!e)||!n&&l.ctrlKey&&"wheel"===l.type)return!1;if(!n&&"touchstart"===l.type&&l.touches?.length>1)return l.preventDefault(),!1;if(!d&&!o&&!f&&"wheel"===l.type||!r&&("mousedown"===l.type||"touchstart"===l.type)||Array.isArray(r)&&!r.includes(l.button)&&"mousedown"===l.type)return!1;let h=Array.isArray(r)&&r.includes(l.button)||!l.button||l.button<=1;return(!l.ctrlKey||"wheel"===l.type)&&h}}({zoomActivationKeyPressed:k,panOnDrag:i,zoomOnScroll:_,panOnScroll:o,zoomOnDoubleClick:E,zoomOnPinch:x,userSelectionActive:r,noPanClassName:t,noWheelClassName:e,lib:S});h.filter(C),E?p.on("dblclick.zoom",m):p.on("dblclick.zoom",null)},destroy:b,setViewport:E,setViewportConstrained:_,getViewport:function(){let e=p?(0,x.P2)(p.node()):{x:0,y:0,k:1};return{x:e.x,y:e.y,zoom:e.k}},scaleTo:function(e,t){return p?new Promise(n=>{h?.scaleTo(te(p,t?.duration,()=>n(!0)),e)}):Promise.resolve(!1)},scaleBy:function(e,t){return p?new Promise(n=>{h?.scaleBy(te(p,t?.duration,()=>n(!0)),e)}):Promise.resolve(!1)},setScaleExtent:function(e){h?.scaleExtent(e)},setTranslateExtent:function(e){h?.translateExtent(e)},syncViewport:function(e){if(p){let t=e7(e),n=p.property("__zoom");(n.k!==e.zoom||n.x!==e.x||n.y!==e.y)&&h?.transform(p,t,null,{sync:!0})}},setClickDistance:function(e){let t=!Q(e)||e<0?0:e;h?.clickDistance(t)}}}(c=m||(m={})).Line="line",c.Handle="handle";function tr(e,t){return Math.max(0,t-e)}function to(e,t){return Math.max(0,e-t)}function ti(e,t,n){return Math.max(0,t-e,e-n)}function ta(e,t){return e?!t:t}let ts={width:0,height:0,x:0,y:0},tu={...ts,pointerX:0,pointerY:0,aspectRatio:1};function tc({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:o}){let i=(0,y.Z)(e);return{update:function({controlPosition:e,boundaries:a,keepAspectRatio:s,onResizeStart:u,onResize:c,onResizeEnd:l,shouldResize:d}){let f,h,p,g,m={...ts},y={...tu},w=function(e){let t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:e.includes("top")}}(e);let x=null,b=[];let _=(0,v.Z)().on("start",e=>{let{nodeLookup:r,transform:o,snapGrid:i,snapToGrid:a,nodeOrigin:s,paneDomNode:c}=n();if(!(f=r.get(t)))return;x=c?.getBoundingClientRect()??null;let{xSnapped:l,ySnapped:d}=ec(e.sourceEvent,{transform:o,snapGrid:i,snapToGrid:a,containerBounds:x});if(y={...m={width:f.measured.width??0,height:f.measured.height??0,x:f.position.x??0,y:f.position.y??0},pointerX:l,pointerY:d,aspectRatio:m.width/m.height},h=void 0,f.parentId&&("parent"===f.extent||f.expandParent)){var v;p=(h=r.get(f.parentId))&&"parent"===f.extent?[[0,0],[(v=h).measured.width,v.measured.height]]:void 0}for(let[e,n]of(b=[],g=void 0,r))if(n.parentId===t&&(b.push({id:e,position:{...n.position},extent:n.extent}),"parent"===n.extent||n.expandParent)){let e=function(e,t,n){let r=t.position.x+e.position.x,o=t.position.y+e.position.y,i=e.measured.width??0,a=e.measured.height??0,s=n[0]*i,u=n[1]*a;return[[r-s,o-u],[r+i-s,o+a-u]]}(n,f,n.origin??s);g=g?[[Math.min(e[0][0],g[0][0]),Math.min(e[0][1],g[0][1])],[Math.max(e[1][0],g[1][0]),Math.max(e[1][1],g[1][1])]]:e}u?.(e,{...m})}).on("drag",e=>{let{transform:t,snapGrid:o,snapToGrid:i,nodeOrigin:u}=n(),l=ec(e.sourceEvent,{transform:t,snapGrid:o,snapToGrid:i,containerBounds:x}),v=[];if(!f)return;let{x:_,y:E,width:k,height:S}=m,N={},M=f.origin??u,{width:C,height:Z,x:P,y:I}=function(e,t,n,r,o,i,a,s){let{affectsX:u,affectsY:c}=t,{isHorizontal:l,isVertical:d}=t,f=l&&d,{xSnapped:h,ySnapped:p}=n,{minWidth:g,maxWidth:m,minHeight:v,maxHeight:y}=r,{x:w,y:x,width:b,height:_,aspectRatio:E}=e,k=Math.floor(l?h-e.pointerX:0),S=Math.floor(d?p-e.pointerY:0),N=b+(u?-k:k),M=_+(c?-S:S),C=-i[0]*b,Z=-i[1]*_,P=ti(N,g,m),I=ti(M,v,y);if(a){let e=0,t=0;u&&k<0?e=tr(w+k+C,a[0][0]):!u&&k>0&&(e=to(w+N+C,a[1][0])),c&&S<0?t=tr(x+S+Z,a[0][1]):!c&&S>0&&(t=to(x+M+Z,a[1][1])),P=Math.max(P,e),I=Math.max(I,t)}if(s){let e=0,t=0;u&&k>0?e=to(w+k,s[0][0]):!u&&k<0&&(e=tr(w+N,s[1][0])),c&&S>0?t=to(x+S,s[0][1]):!c&&S<0&&(t=tr(x+M,s[1][1])),P=Math.max(P,e),I=Math.max(I,t)}if(o){if(l){if(P=Math.max(P,ti(N/E,v,y)*E),a){let e=0;P=Math.max(P,e=(u||c)&&(!u||c||!f)?tr(x+Z+(u?k:-k)/E,a[0][1])*E:to(x+Z+N/E,a[1][1])*E)}if(s){let e=0;P=Math.max(P,e=(u||c)&&(!u||c||!f)?to(x+(u?k:-k)/E,s[0][1])*E:tr(x+N/E,s[1][1])*E)}}if(d){if(I=Math.max(I,ti(M*E,g,m)/E),a){let e=0;I=Math.max(I,e=(u||c)&&(!c||u||!f)?tr(w+(c?S:-S)*E+C,a[0][0])/E:to(w+M*E+C,a[1][0])/E)}if(s){let e=0;I=Math.max(I,e=(u||c)&&(!c||u||!f)?to(w+(c?S:-S)*E,s[0][0])/E:tr(w+M*E,s[1][0])/E)}}}if(S+=S<0?I:-I,k+=k<0?P:-P,o){if(f){var z,A,R,j;if(N>M*E){;S=((z=u,A=c,z?!A:A)?-k:k)/E}else{;k=((R=u,j=c,R?!j:j)?-S:S)*E}}else l?(S=k/E,c=u):(k=S*E,u=c)}let $=u?w+k:w,L=c?x+S:x;return{width:b+(u?-k:k),height:_+(c?-S:S),x:i[0]*k*(u?-1:1)+$,y:i[1]*S*(c?-1:1)+L}}(y,w,l,a,s,M,p,g),z=C!==k,A=Z!==S,R=P!==_&&z,j=I!==E&&A;if(!R&&!j&&!z&&!A)return;if((R||j||1===M[0]||1===M[1])&&(N.x=R?P:m.x,N.y=j?I:m.y,m.x=N.x,m.y=N.y,b.length>0)){let e=P-_,t=I-E;for(let n of b)n.position={x:n.position.x-e+M[0]*(C-k),y:n.position.y-t+M[1]*(Z-S)},v.push(n)}if((z||A)&&(N.width=z?C:m.width,N.height=A?Z:m.height,m.width=N.width,m.height=N.height),h&&f.expandParent){let e=M[0]*(N.width??0);N.x&&N.x<e&&(m.x=e,y.x=y.x-(N.x-e));let t=M[1]*(N.height??0);N.y&&N.y<t&&(m.y=t,y.y=y.y-(N.y-t))}let $=function({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:o,affectsY:i}){let a=e-t,s=n-r,u=[a>0?1:a<0?-1:0,s>0?1:s<0?-1:0];return a&&o&&(u[0]=-1*u[0]),s&&i&&(u[1]=-1*u[1]),u}({width:m.width,prevWidth:k,height:m.height,prevHeight:S,affectsX:w.affectsX,affectsY:w.affectsY}),L={...m,direction:$};if(!1!==d?.(e,L))c?.(e,L),r(N,v)}).on("end",e=>{l?.(e,{...m}),o?.()});i.call(_)},destroy:function(){i.on(".drag",null)}}}},6724:function(e,t,n){e.exports={graphlib:n(68509),layout:n(13104),debug:n(36939),util:{time:n(92304).time,notime:n(92304).notime},version:n(90975)}},93143:function(e,t,n){"use strict";var r=n(8217),o=n(23742);e.exports={run:function(e){var t="greedy"===e.graph().acyclicer?o(e,function(e){return function(t){return e.edge(t).weight}}(e)):function(e){var t=[],n={},o={};return r.forEach(e.nodes(),function i(a){if(!r.has(o,a))o[a]=!0,n[a]=!0,r.forEach(e.outEdges(a),function(e){r.has(n,e.w)?t.push(e):i(e.w)}),delete n[a]}),t}(e);r.forEach(t,function(t){var n=e.edge(t);e.removeEdge(t),n.forwardName=t.name,n.reversed=!0,e.setEdge(t.w,t.v,n,r.uniqueId("rev"))})},undo:function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);if(n.reversed){e.removeEdge(t);var r=n.forwardName;delete n.reversed,delete n.forwardName,e.setEdge(t.w,t.v,n,r)}})}}},24186:function(e,t,n){var r=n(8217),o=n(92304);e.exports=function(e){r.forEach(e.children(),function t(n){var o=e.children(n),a=e.node(n);if(o.length&&r.forEach(o,t),r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var s=a.minRank,u=a.maxRank+1;s<u;++s)i(e,"borderLeft","_bl",n,a,s),i(e,"borderRight","_br",n,a,s)}})};function i(e,t,n,r,i,a){var s=i[t][a-1],u=o.addDummyNode(e,"border",{width:0,height:0,rank:a,borderType:t},n);i[t][a]=u,e.setParent(u,r),s&&e.setEdge(s,u,{weight:1})}},83032:function(e,t,n){"use strict";var r=n(8217);e.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();("lr"===t||"rl"===t)&&o(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();("bt"===t||"rl"===t)&&function(e){r.forEach(e.nodes(),function(t){a(e.node(t))}),r.forEach(e.edges(),function(t){var n=e.edge(t);r.forEach(n.points,a),r.has(n,"y")&&a(n)})}(e),("lr"===t||"rl"===t)&&(function(e){r.forEach(e.nodes(),function(t){s(e.node(t))}),r.forEach(e.edges(),function(t){var n=e.edge(t);r.forEach(n.points,s),r.has(n,"x")&&s(n)})}(e),o(e))}};function o(e){r.forEach(e.nodes(),function(t){i(e.node(t))}),r.forEach(e.edges(),function(t){i(e.edge(t))})}function i(e){var t=e.width;e.width=e.height,e.height=t}function a(e){e.y=-e.y}function s(e){var t=e.x;e.x=e.y,e.y=t}},40094:function(e){function t(){var e={};e._next=e._prev=e,this._sentinel=e}function n(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function r(e,t){if("_next"!==e&&"_prev"!==e)return t}e.exports=t,t.prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return n(t),t},t.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&n(e),e._next=t._next,t._next._prev=e,t._next=e,e._prev=t},t.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,r)),n=n._prev;return"["+e.join(", ")+"]"}},36939:function(e,t,n){var r=n(8217),o=n(92304),i=n(68509).Graph;e.exports={debugOrdering:function(e){var t=o.buildLayerMatrix(e),n=new i({compound:!0,multigraph:!0}).setGraph({});return r.forEach(e.nodes(),function(t){n.setNode(t,{label:t}),n.setParent(t,"layer"+e.node(t).rank)}),r.forEach(e.edges(),function(e){n.setEdge(e.v,e.w,{},e.name)}),r.forEach(t,function(e,t){n.setNode("layer"+t,{rank:"same"}),r.reduce(e,function(e,t){return n.setEdge(e,t,{style:"invis"}),t})}),n}}},68509:function(e,t,n){var r;try{r=n(16239)}catch(e){}!r&&(r=window.graphlib),e.exports=r},23742:function(e,t,n){var r=n(8217),o=n(68509).Graph,i=n(40094);e.exports=function(e,t){if(1>=e.nodeCount())return[];var n=function(e,t){var n=new o,a=0,s=0;r.forEach(e.nodes(),function(e){n.setNode(e,{v:e,in:0,out:0})}),r.forEach(e.edges(),function(e){var r=n.edge(e.v,e.w)||0,o=t(e);n.setEdge(e.v,e.w,r+o),s=Math.max(s,n.node(e.v).out+=o),a=Math.max(a,n.node(e.w).in+=o)});var c=r.range(s+a+3).map(function(){return new i}),l=a+1;return r.forEach(n.nodes(),function(e){u(c,l,n.node(e))}),{graph:n,buckets:c,zeroIdx:l}}(e,t||a),c=function(e,t,n){for(var r,o=[],i=t[t.length-1],a=t[0];e.nodeCount();){for(;r=a.dequeue();)s(e,t,n,r);for(;r=i.dequeue();)s(e,t,n,r);if(e.nodeCount()){for(var u=t.length-2;u>0;--u)if(r=t[u].dequeue()){o=o.concat(s(e,t,n,r,!0));break}}}return o}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(c,function(t){return e.outEdges(t.v,t.w)}),!0)};var a=r.constant(1);function s(e,t,n,o,i){var a=i?[]:void 0;return r.forEach(e.inEdges(o.v),function(r){var o=e.edge(r),s=e.node(r.v);i&&a.push({v:r.v,w:r.w}),s.out-=o,u(t,n,s)}),r.forEach(e.outEdges(o.v),function(r){var o=e.edge(r),i=r.w,a=e.node(i);a.in-=o,u(t,n,a)}),e.removeNode(o.v),a}function u(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},13104:function(e,t,n){"use strict";var r=n(8217),o=n(93143),i=n(67099),a=n(65511),s=n(92304).normalizeRanks,u=n(24685),c=n(92304).removeEmptyRanks,l=n(59832),d=n(24186),f=n(83032),h=n(89717),p=n(63363),g=n(92304),m=n(68509).Graph;e.exports=function(e,t){var n=t&&t.debugTiming?g.time:g.notime;n("layout",function(){var t=n("  buildLayoutGraph",function(){return function(e){var t=new m({multigraph:!0,compound:!0}),n=N(e.graph());return t.setGraph(r.merge({},y,S(n,v),r.pick(n,w))),r.forEach(e.nodes(),function(n){var o=N(e.node(n));t.setNode(n,r.defaults(S(o,x),b)),t.setParent(n,e.parent(n))}),r.forEach(e.edges(),function(n){var o=N(e.edge(n));t.setEdge(n,r.merge({},E,S(o,_),r.pick(o,k)))}),t}(e)});n("  runLayout",function(){(function(e,t){t("    makeSpaceForEdgeLabels",function(){(function(e){var t=e.graph();t.ranksep/=2,r.forEach(e.edges(),function(n){var r=e.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===t.rankdir||"BT"===t.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)})})(e)}),t("    removeSelfEdges",function(){(function(e){r.forEach(e.edges(),function(t){if(t.v===t.w){var n=e.node(t.v);!n.selfEdges&&(n.selfEdges=[]),n.selfEdges.push({e:t,label:e.edge(t)}),e.removeEdge(t)}})})(e)}),t("    acyclic",function(){o.run(e)}),t("    nestingGraph.run",function(){l.run(e)}),t("    rank",function(){a(g.asNonCompoundGraph(e))}),t("    injectEdgeLabelProxies",function(){(function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);if(n.width&&n.height){var r=e.node(t.v),o={rank:(e.node(t.w).rank-r.rank)/2+r.rank,e:t};g.addDummyNode(e,"edge-proxy",o,"_ep")}})})(e)}),t("    removeEmptyRanks",function(){c(e)}),t("    nestingGraph.cleanup",function(){l.cleanup(e)}),t("    normalizeRanks",function(){s(e)}),t("    assignRankMinMax",function(){(function(e){var t=0;r.forEach(e.nodes(),function(n){var o=e.node(n);o.borderTop&&(o.minRank=e.node(o.borderTop).rank,o.maxRank=e.node(o.borderBottom).rank,t=r.max(t,o.maxRank))}),e.graph().maxRank=t})(e)}),t("    removeEdgeLabelProxies",function(){(function(e){r.forEach(e.nodes(),function(t){var n=e.node(t);"edge-proxy"===n.dummy&&(e.edge(n.e).labelRank=n.rank,e.removeNode(t))})})(e)}),t("    normalize.run",function(){i.run(e)}),t("    parentDummyChains",function(){u(e)}),t("    addBorderSegments",function(){d(e)}),t("    order",function(){h(e)}),t("    insertSelfEdges",function(){(function(e){var t=g.buildLayerMatrix(e);r.forEach(t,function(t){var n=0;r.forEach(t,function(t,o){var i=e.node(t);i.order=o+n,r.forEach(i.selfEdges,function(t){g.addDummyNode(e,"selfedge",{width:t.label.width,height:t.label.height,rank:i.rank,order:o+ ++n,e:t.e,label:t.label},"_se")}),delete i.selfEdges})})})(e)}),t("    adjustCoordinateSystem",function(){f.adjust(e)}),t("    position",function(){p(e)}),t("    positionSelfEdges",function(){(function(e){r.forEach(e.nodes(),function(t){var n=e.node(t);if("selfedge"===n.dummy){var r=e.node(n.e.v),o=r.x+r.width/2,i=r.y,a=n.x-o,s=r.height/2;e.setEdge(n.e,n.label),e.removeNode(t),n.label.points=[{x:o+2*a/3,y:i-s},{x:o+5*a/6,y:i-s},{x:o+a,y:i},{x:o+5*a/6,y:i+s},{x:o+2*a/3,y:i+s}],n.label.x=n.x,n.label.y=n.y}})})(e)}),t("    removeBorderNodes",function(){(function(e){r.forEach(e.nodes(),function(t){if(e.children(t).length){var n=e.node(t),o=e.node(n.borderTop),i=e.node(n.borderBottom),a=e.node(r.last(n.borderLeft)),s=e.node(r.last(n.borderRight));n.width=Math.abs(s.x-a.x),n.height=Math.abs(i.y-o.y),n.x=a.x+n.width/2,n.y=o.y+n.height/2}}),r.forEach(e.nodes(),function(t){"border"===e.node(t).dummy&&e.removeNode(t)})})(e)}),t("    normalize.undo",function(){i.undo(e)}),t("    fixupEdgeLabelCoords",function(){(function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);if(r.has(n,"x"))switch(("l"===n.labelpos||"r"===n.labelpos)&&(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}})})(e)}),t("    undoCoordinateSystem",function(){f.undo(e)}),t("    translateGraph",function(){(function(e){var t=Number.POSITIVE_INFINITY,n=0,o=Number.POSITIVE_INFINITY,i=0,a=e.graph(),s=a.marginx||0,u=a.marginy||0;function c(e){var r=e.x,a=e.y,s=e.width,u=e.height;t=Math.min(t,r-s/2),n=Math.max(n,r+s/2),o=Math.min(o,a-u/2),i=Math.max(i,a+u/2)}r.forEach(e.nodes(),function(t){c(e.node(t))}),r.forEach(e.edges(),function(t){var n=e.edge(t);r.has(n,"x")&&c(n)}),t-=s,o-=u,r.forEach(e.nodes(),function(n){var r=e.node(n);r.x-=t,r.y-=o}),r.forEach(e.edges(),function(n){var i=e.edge(n);r.forEach(i.points,function(e){e.x-=t,e.y-=o}),r.has(i,"x")&&(i.x-=t),r.has(i,"y")&&(i.y-=o)}),a.width=n-t+s,a.height=i-o+u})(e)}),t("    assignNodeIntersects",function(){(function(e){r.forEach(e.edges(),function(t){var n,r,o=e.edge(t),i=e.node(t.v),a=e.node(t.w);o.points?(n=o.points[0],r=o.points[o.points.length-1]):(o.points=[],n=a,r=i),o.points.unshift(g.intersectRect(i,n)),o.points.push(g.intersectRect(a,r))})})(e)}),t("    reversePoints",function(){(function(e){r.forEach(e.edges(),function(t){var n=e.edge(t);n.reversed&&n.points.reverse()})})(e)}),t("    acyclic.undo",function(){o.undo(e)})})(t,n)}),n("  updateInputGraph",function(){(function(e,t){r.forEach(e.nodes(),function(n){var r=e.node(n),o=t.node(n);r&&(r.x=o.x,r.y=o.y,t.children(n).length&&(r.width=o.width,r.height=o.height))}),r.forEach(e.edges(),function(n){var o=e.edge(n),i=t.edge(n);o.points=i.points,r.has(i,"x")&&(o.x=i.x,o.y=i.y)}),e.graph().width=t.graph().width,e.graph().height=t.graph().height})(e,t)})})};var v=["nodesep","edgesep","ranksep","marginx","marginy"],y={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},w=["acyclicer","ranker","rankdir","align"],x=["width","height"],b={width:0,height:0},_=["minlen","weight","width","height","labeloffset"],E={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},k=["labelpos"];function S(e,t){return r.mapValues(r.pick(e,t),Number)}function N(e){var t={};return r.forEach(e,function(e,n){t[n.toLowerCase()]=e}),t}},8217:function(e,t,n){var r;try{r={cloneDeep:n(32222),constant:n(64806),defaults:n(91099),each:n(15828),filter:n(3149),find:n(33170),flatten:n(22612),forEach:n(17489),forIn:n(37229),has:n(56611),isUndefined:n(89300),last:n(25674),map:n(65512),mapValues:n(65632),max:n(80212),merge:n(67929),min:n(71516),minBy:n(88371),now:n(76668),pick:n(19334),range:n(61178),reduce:n(6355),sortBy:n(84715),uniqueId:n(53274),values:n(61017),zipObject:n(64058)}}catch(e){}!r&&(r=window._),e.exports=r},59832:function(e,t,n){var r=n(8217),o=n(92304);e.exports={run:function(e){var t=o.addDummyNode(e,"root",{},"_root"),n=function(e){var t={};return r.forEach(e.children(),function(n){!function n(o,i){var a=e.children(o);a&&a.length&&r.forEach(a,function(e){n(e,i+1)}),t[o]=i}(n,1)}),t}(e),i=r.max(r.values(n))-1,a=2*i+1;e.graph().nestingRoot=t,r.forEach(e.edges(),function(t){e.edge(t).minlen*=a});var s=function(e){return r.reduce(e.edges(),function(t,n){return t+e.edge(n).weight},0)}(e)+1;r.forEach(e.children(),function(u){(function e(t,n,i,a,s,u,c){var l=t.children(c);if(!l.length){c!==n&&t.setEdge(n,c,{weight:0,minlen:i});return}var d=o.addBorderNode(t,"_bt"),f=o.addBorderNode(t,"_bb"),h=t.node(c);t.setParent(d,c),h.borderTop=d,t.setParent(f,c),h.borderBottom=f,r.forEach(l,function(r){e(t,n,i,a,s,u,r);var o=t.node(r),l=o.borderTop?o.borderTop:r,h=o.borderBottom?o.borderBottom:r,p=o.borderTop?a:2*a,g=l!==h?1:s-u[c]+1;t.setEdge(d,l,{weight:p,minlen:g,nestingEdge:!0}),t.setEdge(h,f,{weight:p,minlen:g,nestingEdge:!0})}),!t.parent(c)&&t.setEdge(n,d,{weight:0,minlen:s+u[c]})})(e,t,a,s,i,n,u)}),e.graph().nodeRankFactor=a},cleanup:function(e){var t=e.graph();e.removeNode(t.nestingRoot),delete t.nestingRoot,r.forEach(e.edges(),function(t){e.edge(t).nestingEdge&&e.removeEdge(t)})}}},67099:function(e,t,n){"use strict";var r=n(8217),o=n(92304);e.exports={run:function(e){e.graph().dummyChains=[],r.forEach(e.edges(),function(t){(function(e,t){var n,r,i,a=t.v,s=e.node(a).rank,u=t.w,c=e.node(u).rank,l=t.name,d=e.edge(t),f=d.labelRank;if(c!==s+1){for(e.removeEdge(t),i=0,++s;s<c;++i,++s)d.points=[],r={width:0,height:0,edgeLabel:d,edgeObj:t,rank:s},n=o.addDummyNode(e,"edge",r,"_d"),s===f&&(r.width=d.width,r.height=d.height,r.dummy="edge-label",r.labelpos=d.labelpos),e.setEdge(a,n,{weight:d.weight},l),0===i&&e.graph().dummyChains.push(n),a=n;e.setEdge(a,u,{weight:d.weight},l)}})(e,t)})},undo:function(e){r.forEach(e.graph().dummyChains,function(t){var n,r=e.node(t),o=r.edgeLabel;for(e.setEdge(r.edgeObj,o);r.dummy;)n=e.successors(t)[0],e.removeNode(t),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),t=n,r=e.node(t)})}}},77080:function(e,t,n){var r=n(8217);e.exports=function(e,t,n){var o,i={};r.forEach(n,function(n){for(var r,a,s=e.parent(n);s;){if((r=e.parent(s))?(a=i[r],i[r]=s):(a=o,o=s),a&&a!==s){t.setEdge(a,s);return}s=r}})}},22207:function(e,t,n){var r=n(8217);e.exports=function(e,t){return r.map(t,function(t){var n=e.inEdges(t);if(!n.length)return{v:t};var o=r.reduce(n,function(t,n){var r=e.edge(n),o=e.node(n.v);return{sum:t.sum+r.weight*o.order,weight:t.weight+r.weight}},{sum:0,weight:0});return{v:t,barycenter:o.sum/o.weight,weight:o.weight}})}},9643:function(e,t,n){var r=n(8217),o=n(68509).Graph;e.exports=function(e,t,n){var i=function(e){for(var t;e.hasNode(t=r.uniqueId("_root")););return t}(e),a=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel(function(t){return e.node(t)});return r.forEach(e.nodes(),function(o){var s=e.node(o),u=e.parent(o);(s.rank===t||s.minRank<=t&&t<=s.maxRank)&&(a.setNode(o),a.setParent(o,u||i),r.forEach(e[n](o),function(t){var n=t.v===o?t.w:t.v,i=a.edge(n,o),s=r.isUndefined(i)?0:i.weight;a.setEdge(n,o,{weight:e.edge(t).weight+s})}),r.has(s,"minRank")&&a.setNode(o,{borderLeft:s.borderLeft[t],borderRight:s.borderRight[t]}))}),a}},51094:function(e,t,n){"use strict";var r=n(8217);e.exports=function(e,t){for(var n=0,o=1;o<t.length;++o)n+=function(e,t,n){for(var o=r.zipObject(n,r.map(n,function(e,t){return t})),i=r.flatten(r.map(t,function(t){return r.sortBy(r.map(e.outEdges(t),function(t){return{pos:o[t.w],weight:e.edge(t).weight}}),"pos")}),!0),a=1;a<n.length;)a<<=1;var s=2*a-1;a-=1;var u=r.map(Array(s),function(){return 0}),c=0;return r.forEach(i.forEach(function(e){var t=e.pos+a;u[t]+=e.weight;for(var n=0;t>0;)t%2&&(n+=u[t+1]),t=t-1>>1,u[t]+=e.weight;c+=e.weight*n})),c}(e,t[o-1],t[o]);return n}},89717:function(e,t,n){"use strict";var r=n(8217),o=n(89853),i=n(51094),a=n(66675),s=n(9643),u=n(77080),c=n(68509).Graph,l=n(92304);e.exports=function(e){var t=l.maxRank(e),n=d(e,r.range(1,t+1),"inEdges"),s=d(e,r.range(t-1,-1,-1),"outEdges"),h=o(e);f(e,h);for(var p,g=Number.POSITIVE_INFINITY,m=0,v=0;v<4;++m,++v){(function(e,t){var n=new c;r.forEach(e,function(e){var o=e.graph().root,i=a(e,o,n,t);r.forEach(i.vs,function(t,n){e.node(t).order=n}),u(e,n,i.vs)})})(m%2?n:s,m%4>=2),h=l.buildLayerMatrix(e);var y=i(e,h);y<g&&(v=0,p=r.cloneDeep(h),g=y)}f(e,p)};function d(e,t,n){return r.map(t,function(t){return s(e,t,n)})}function f(e,t){r.forEach(t,function(t){r.forEach(t,function(t,n){e.node(t).order=n})})}},89853:function(e,t,n){"use strict";var r=n(8217);e.exports=function(e){var t={},n=r.filter(e.nodes(),function(t){return!e.children(t).length}),o=r.max(r.map(n,function(t){return e.node(t).rank})),i=r.map(r.range(o+1),function(){return[]}),a=r.sortBy(n,function(t){return e.node(t).rank});return r.forEach(a,function n(o){!r.has(t,o)&&(t[o]=!0,i[e.node(o).rank].push(o),r.forEach(e.successors(o),n))}),i}},5171:function(e,t,n){"use strict";var r=n(8217);e.exports=function(e,t){var n={};return r.forEach(e,function(e,t){var o=n[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};!r.isUndefined(e.barycenter)&&(o.barycenter=e.barycenter,o.weight=e.weight)}),r.forEach(t.edges(),function(e){var t=n[e.v],o=n[e.w];!r.isUndefined(t)&&!r.isUndefined(o)&&(o.indegree++,t.out.push(n[e.w]))}),function(e){for(var t=[];e.length;){var n=e.pop();t.push(n),r.forEach(n.in.reverse(),function(e){return function(t){if(!t.merged)(r.isUndefined(t.barycenter)||r.isUndefined(e.barycenter)||t.barycenter>=e.barycenter)&&function(e,t){var n=0,r=0;e.weight&&(n+=e.barycenter*e.weight,r+=e.weight),t.weight&&(n+=t.barycenter*t.weight,r+=t.weight),e.vs=t.vs.concat(e.vs),e.barycenter=n/r,e.weight=r,e.i=Math.min(t.i,e.i),t.merged=!0}(e,t)}}(n)),r.forEach(n.out,function(t){return function(n){n.in.push(t),0==--n.indegree&&e.push(n)}}(n))}return r.map(r.filter(t,function(e){return!e.merged}),function(e){return r.pick(e,["vs","i","barycenter","weight"])})}(r.filter(n,function(e){return!e.indegree}))}},66675:function(e,t,n){var r=n(8217),o=n(22207),i=n(5171),a=n(45737);e.exports=function e(t,n,s,u){var c=t.children(n),l=t.node(n),d=l?l.borderLeft:void 0,f=l?l.borderRight:void 0,h={};d&&(c=r.filter(c,function(e){return e!==d&&e!==f}));var p=o(t,c);r.forEach(p,function(n){if(t.children(n.v).length){var o=e(t,n.v,s,u);h[n.v]=o,r.has(o,"barycenter")&&function(e,t){r.isUndefined(e.barycenter)?(e.barycenter=t.barycenter,e.weight=t.weight):(e.barycenter=(e.barycenter*e.weight+t.barycenter*t.weight)/(e.weight+t.weight),e.weight+=t.weight)}(n,o)}});var g=i(p,s);(function(e,t){r.forEach(e,function(e){e.vs=r.flatten(e.vs.map(function(e){return t[e]?t[e].vs:e}),!0)})})(g,h);var m=a(g,u);if(d&&(m.vs=r.flatten([d,m.vs,f],!0),t.predecessors(d).length)){var v=t.node(t.predecessors(d)[0]),y=t.node(t.predecessors(f)[0]);!r.has(m,"barycenter")&&(m.barycenter=0,m.weight=0),m.barycenter=(m.barycenter*m.weight+v.order+y.order)/(m.weight+2),m.weight+=2}return m}},45737:function(e,t,n){var r=n(8217),o=n(92304);e.exports=function(e,t){var n=o.partition(e,function(e){return r.has(e,"barycenter")}),a=n.lhs,s=r.sortBy(n.rhs,function(e){return-e.i}),u=[],c=0,l=0,d=0;a.sort(function(e){return function(t,n){return t.barycenter<n.barycenter?-1:t.barycenter>n.barycenter?1:e?n.i-t.i:t.i-n.i}}(!!t)),d=i(u,s,d),r.forEach(a,function(e){d+=e.vs.length,u.push(e.vs),c+=e.barycenter*e.weight,l+=e.weight,d=i(u,s,d)});var f={vs:r.flatten(u,!0)};return l&&(f.barycenter=c/l,f.weight=l),f};function i(e,t,n){for(var o;t.length&&(o=r.last(t)).i<=n;)t.pop(),e.push(o.vs),n++;return n}},24685:function(e,t,n){var r=n(8217);e.exports=function(e){var t=function(e){var t={},n=0;return r.forEach(e.children(),function o(i){var a=n;r.forEach(e.children(i),o),t[i]={low:a,lim:n++}}),t}(e);r.forEach(e.graph().dummyChains,function(n){for(var r=e.node(n),o=r.edgeObj,i=function(e,t,n,r){var o,i,a=[],s=[],u=Math.min(t[n].low,t[r].low),c=Math.max(t[n].lim,t[r].lim);o=n;do o=e.parent(o),a.push(o);while(o&&(t[o].low>u||c>t[o].lim));for(i=o,o=r;(o=e.parent(o))!==i;)s.push(o);return{path:a.concat(s.reverse()),lca:i}}(e,t,o.v,o.w),a=i.path,s=i.lca,u=0,c=a[0],l=!0;n!==o.w;){if(r=e.node(n),l){for(;(c=a[u])!==s&&e.node(c).maxRank<r.rank;)u++;c===s&&(l=!1)}if(!l){for(;u<a.length-1&&e.node(c=a[u+1]).minRank<=r.rank;)u++;c=a[u]}e.setParent(n,c),n=e.successors(n)[0]}})}},21006:function(e,t,n){"use strict";var r=n(8217),o=n(68509).Graph,i=n(92304);function a(e,t){var n={};return r.reduce(t,function(t,o){var i=0,a=0,s=t.length,c=r.last(o);return r.forEach(o,function(t,l){var d=function(e,t){if(e.node(t).dummy)return r.find(e.predecessors(t),function(t){return e.node(t).dummy})}(e,t),f=d?e.node(d).order:s;(d||t===c)&&(r.forEach(o.slice(a,l+1),function(t){r.forEach(e.predecessors(t),function(r){var o=e.node(r),a=o.order;(a<i||f<a)&&!(o.dummy&&e.node(t).dummy)&&u(n,r,t)})}),a=l+1,i=f)}),o}),n}function s(e,t){var n={};function o(t,o,i,a,s){var c;r.forEach(r.range(o,i),function(o){c=t[o],e.node(c).dummy&&r.forEach(e.predecessors(c),function(t){var r=e.node(t);r.dummy&&(r.order<a||r.order>s)&&u(n,t,c)})})}return r.reduce(t,function(t,n){var i,a=-1,s=0;return r.forEach(n,function(r,u){if("border"===e.node(r).dummy){var c=e.predecessors(r);c.length&&(i=e.node(c[0]).order,o(n,s,u,a,i),s=u,a=i)}o(n,s,n.length,i,t.length)}),n}),n}e.exports={positionX:function(e){var t,n=i.buildLayerMatrix(e),o=r.merge(a(e,n),s(e,n)),u={};r.forEach(["u","d"],function(i){t="u"===i?n:r.values(n).reverse(),r.forEach(["l","r"],function(n){"r"===n&&(t=r.map(t,function(e){return r.values(e).reverse()}));var a=("u"===i?e.predecessors:e.successors).bind(e),s=l(e,t,o,a),c=d(e,t,s.root,s.align,"r"===n);"r"===n&&(c=r.mapValues(c,function(e){return-e})),u[i+n]=c})});var c=f(e,u);return h(u,c),p(u,e.graph().align)},findType1Conflicts:a,findType2Conflicts:s,addConflict:u,hasConflict:c,verticalAlignment:l,horizontalCompaction:d,alignCoordinates:h,findSmallestWidthAlignment:f,balance:p};function u(e,t,n){if(t>n){var r=t;t=n,n=r}var o=e[t];!o&&(e[t]=o={}),o[n]=!0}function c(e,t,n){if(t>n){var o=t;t=n,n=o}return r.has(e[t],n)}function l(e,t,n,o){var i={},a={},s={};return r.forEach(t,function(e){r.forEach(e,function(e,t){i[e]=e,a[e]=e,s[e]=t})}),r.forEach(t,function(e){var t=-1;r.forEach(e,function(e){var u=o(e);if(u.length){for(var l=((u=r.sortBy(u,function(e){return s[e]})).length-1)/2,d=Math.floor(l),f=Math.ceil(l);d<=f;++d){var h=u[d];a[e]===e&&t<s[h]&&!c(n,e,h)&&(a[h]=e,a[e]=i[e]=i[h],t=s[h])}}})}),{root:i,align:a}}function d(e,t,n,i,a){var s={},u=function(e,t,n,i){var a=new o,s=e.graph(),u=function(e,t,n){return function(o,i,a){var s,u,c=o.node(i),l=o.node(a);if(s=0+c.width/2,r.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":u=-c.width/2;break;case"r":u=c.width/2}if(u&&(s+=n?u:-u),u=0,s+=(c.dummy?t:e)/2+(l.dummy?t:e)/2+l.width/2,r.has(l,"labelpos"))switch(l.labelpos.toLowerCase()){case"l":u=l.width/2;break;case"r":u=-l.width/2}return u&&(s+=n?u:-u),u=0,s}}(s.nodesep,s.edgesep,i);return r.forEach(t,function(t){var o;r.forEach(t,function(t){var r=n[t];if(a.setNode(r),o){var i=n[o],s=a.edge(i,r);a.setEdge(i,r,Math.max(u(e,t,o),s||0))}o=t})}),a}(e,t,n,a),c=a?"borderLeft":"borderRight";function l(e,t){for(var n=u.nodes(),r=n.pop(),o={};r;)o[r]?e(r):(o[r]=!0,n.push(r),n=n.concat(t(r))),r=n.pop()}return l(function(e){s[e]=u.inEdges(e).reduce(function(e,t){return Math.max(e,s[t.v]+u.edge(t))},0)},u.predecessors.bind(u)),l(function(t){var n=u.outEdges(t).reduce(function(e,t){return Math.min(e,s[t.w]-u.edge(t))},Number.POSITIVE_INFINITY),r=e.node(t);n!==Number.POSITIVE_INFINITY&&r.borderType!==c&&(s[t]=Math.max(s[t],n))},u.successors.bind(u)),r.forEach(i,function(e){s[e]=s[n[e]]}),s}function f(e,t){return r.minBy(r.values(t),function(t){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return r.forIn(t,function(t,r){var i=function(e,t){return e.node(t).width}(e,r)/2;n=Math.max(t+i,n),o=Math.min(t-i,o)}),n-o})}function h(e,t){var n=r.values(t),o=r.min(n),i=r.max(n);r.forEach(["u","d"],function(n){r.forEach(["l","r"],function(a){var s,u=n+a,c=e[u];if(c!==t){var l=r.values(c);(s="l"===a?o-r.min(l):i-r.max(l))&&(e[u]=r.mapValues(c,function(e){return e+s}))}})})}function p(e,t){return r.mapValues(e.ul,function(n,o){if(t)return e[t.toLowerCase()][o];var i=r.sortBy(r.map(e,o));return(i[1]+i[2])/2})}},63363:function(e,t,n){"use strict";var r=n(8217),o=n(92304),i=n(21006).positionX;e.exports=function(e){(function(e){var t=o.buildLayerMatrix(e),n=e.graph().ranksep,i=0;r.forEach(t,function(t){var o=r.max(r.map(t,function(t){return e.node(t).height}));r.forEach(t,function(t){e.node(t).y=i+o/2}),i+=o+n})})(e=o.asNonCompoundGraph(e)),r.forEach(i(e),function(t,n){e.node(n).x=t})}},31848:function(e,t,n){"use strict";var r=n(8217),o=n(68509).Graph,i=n(74211).slack;e.exports=function(e){var t,n,a=new o({directed:!1}),s=e.nodes()[0],u=e.nodeCount();for(a.setNode(s,{});function(e,t){return r.forEach(e.nodes(),function n(o){r.forEach(t.nodeEdges(o),function(r){var a=r.v,s=o===a?r.w:a;!e.hasNode(s)&&!i(t,r)&&(e.setNode(s,{}),e.setEdge(o,s,{}),n(s))})}),e.nodeCount()}(a,e)<u;)t=function(e,t){return r.minBy(t.edges(),function(n){if(e.hasNode(n.v)!==e.hasNode(n.w))return i(t,n)})}(a,e),n=a.hasNode(t.v)?i(e,t):-i(e,t),function(e,t,n){r.forEach(e.nodes(),function(e){t.node(e).rank+=n})}(a,e,n);return a}},65511:function(e,t,n){"use strict";var r=n(74211).longestPath,o=n(31848),i=n(37736);e.exports=function(e){switch(e.graph().ranker){case"network-simplex":default:s(e);break;case"tight-tree":(function(e){r(e),o(e)})(e);break;case"longest-path":a(e)}};var a=r;function s(e){i(e)}},37736:function(e,t,n){"use strict";var r=n(8217),o=n(31848),i=n(74211).slack,a=n(74211).longestPath,s=n(68509).alg.preorder,u=n(68509).alg.postorder,c=n(92304).simplify;function l(e){a(e=c(e));var t,n,r=o(e);for(h(r),d(r,e);t=p(r);)n=g(r,e,t),m(r,e,t,n)}function d(e,t){var n=u(e,e.nodes());n=n.slice(0,n.length-1),r.forEach(n,function(n){(function(e,t,n){var r=e.node(n).parent;e.edge(n,r).cutvalue=f(e,t,n)})(e,t,n)})}e.exports=l,l.initLowLimValues=h,l.initCutValues=d,l.calcCutValue=f,l.leaveEdge=p,l.enterEdge=g,l.exchangeEdges=m;function f(e,t,n){var o=e.node(n).parent,i=!0,a=t.edge(n,o),s=0;return!a&&(i=!1,a=t.edge(o,n)),s=a.weight,r.forEach(t.nodeEdges(n),function(r){var a=r.v===n,u=a?r.w:r.v;if(u!==o){var c=a===i,l=t.edge(r).weight;if(s+=c?l:-l,function(e,t,n){return e.hasEdge(t,n)}(e,n,u)){var d=e.edge(n,u).cutvalue;s+=c?-d:d}}}),s}function h(e,t){arguments.length<2&&(t=e.nodes()[0]),function e(t,n,o,i,a){var s=o,u=t.node(i);return n[i]=!0,r.forEach(t.neighbors(i),function(a){!r.has(n,a)&&(o=e(t,n,o,a,i))}),u.low=s,u.lim=o++,a?u.parent=a:delete u.parent,o}(e,{},1,t)}function p(e){return r.find(e.edges(),function(t){return e.edge(t).cutvalue<0})}function g(e,t,n){var o=n.v,a=n.w;!t.hasEdge(o,a)&&(o=n.w,a=n.v);var s=e.node(o),u=e.node(a),c=s,l=!1;s.lim>u.lim&&(c=u,l=!0);var d=r.filter(t.edges(),function(t){return l===v(e,e.node(t.v),c)&&l!==v(e,e.node(t.w),c)});return r.minBy(d,function(e){return i(t,e)})}function m(e,t,n,o){var i=n.v,a=n.w;e.removeEdge(i,a),e.setEdge(o.v,o.w,{}),h(e),d(e,t),function(e,t){var n=r.find(e.nodes(),function(e){return!t.node(e).parent}),o=s(e,n);o=o.slice(1),r.forEach(o,function(n){var r=e.node(n).parent,o=t.edge(n,r),i=!1;!o&&(o=t.edge(r,n),i=!0),t.node(n).rank=t.node(r).rank+(i?o.minlen:-o.minlen)})}(e,t)}function v(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}},74211:function(e,t,n){"use strict";var r=n(8217);e.exports={longestPath:function(e){var t={};r.forEach(e.sources(),function n(o){var i=e.node(o);if(r.has(t,o))return i.rank;t[o]=!0;var a=r.min(r.map(e.outEdges(o),function(t){return n(t.w)-e.edge(t).minlen}));return(a===Number.POSITIVE_INFINITY||null==a)&&(a=0),i.rank=a})},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},92304:function(e,t,n){"use strict";var r=n(8217),o=n(68509).Graph;function i(e,t,n,o){var i;do i=r.uniqueId(o);while(e.hasNode(i));return n.dummy=t,e.setNode(i,n),i}e.exports={addDummyNode:i,simplify:function(e){var t=new o().setGraph(e.graph());return r.forEach(e.nodes(),function(n){t.setNode(n,e.node(n))}),r.forEach(e.edges(),function(n){var r=t.edge(n.v,n.w)||{weight:0,minlen:1},o=e.edge(n);t.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})}),t},asNonCompoundGraph:function(e){var t=new o({multigraph:e.isMultigraph()}).setGraph(e.graph());return r.forEach(e.nodes(),function(n){!e.children(n).length&&t.setNode(n,e.node(n))}),r.forEach(e.edges(),function(n){t.setEdge(n,e.edge(n))}),t},successorWeights:function(e){var t=r.map(e.nodes(),function(t){var n={};return r.forEach(e.outEdges(t),function(t){n[t.w]=(n[t.w]||0)+e.edge(t).weight}),n});return r.zipObject(e.nodes(),t)},predecessorWeights:function(e){var t=r.map(e.nodes(),function(t){var n={};return r.forEach(e.inEdges(t),function(t){n[t.v]=(n[t.v]||0)+e.edge(t).weight}),n});return r.zipObject(e.nodes(),t)},intersectRect:function(e,t){var n,r,o=e.x,i=e.y,a=t.x-o,s=t.y-i,u=e.width/2,c=e.height/2;if(!a&&!s)throw Error("Not possible to find intersection inside of the rectangle");return Math.abs(s)*u>Math.abs(a)*c?(s<0&&(c=-c),n=c*a/s,r=c):(a<0&&(u=-u),n=u,r=u*s/a),{x:o+n,y:i+r}},buildLayerMatrix:function(e){var t=r.map(r.range(a(e)+1),function(){return[]});return r.forEach(e.nodes(),function(n){var o=e.node(n),i=o.rank;!r.isUndefined(i)&&(t[i][o.order]=n)}),t},normalizeRanks:function(e){var t=r.min(r.map(e.nodes(),function(t){return e.node(t).rank}));r.forEach(e.nodes(),function(n){var o=e.node(n);r.has(o,"rank")&&(o.rank-=t)})},removeEmptyRanks:function(e){var t=r.min(r.map(e.nodes(),function(t){return e.node(t).rank})),n=[];r.forEach(e.nodes(),function(r){var o=e.node(r).rank-t;!n[o]&&(n[o]=[]),n[o].push(r)});var o=0,i=e.graph().nodeRankFactor;r.forEach(n,function(t,n){r.isUndefined(t)&&n%i!=0?--o:o&&r.forEach(t,function(t){e.node(t).rank+=o})})},addBorderNode:function(e,t,n,r){var o={width:0,height:0};return arguments.length>=4&&(o.rank=n,o.order=r),i(e,"border",o,t)},maxRank:a,partition:function(e,t){var n={lhs:[],rhs:[]};return r.forEach(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n},time:function(e,t){var n=r.now();try{return t()}finally{console.log(e+" time: "+(r.now()-n)+"ms")}},notime:function(e,t){return t()}};function a(e){return r.max(r.map(e.nodes(),function(t){var n=e.node(t).rank;if(!r.isUndefined(n))return n}))}},90975:function(e){e.exports="0.8.5"},16239:function(e,t,n){var r=n(23617);e.exports={Graph:r.Graph,json:n(53988),alg:n(92010),version:r.version}},49004:function(e,t,n){var r=n(91124);e.exports=function(e){var t,n={},o=[];return r.each(e.nodes(),function(i){t=[],!function o(i){!r.has(n,i)&&(n[i]=!0,t.push(i),r.each(e.successors(i),o),r.each(e.predecessors(i),o))}(i),t.length&&o.push(t)}),o}},10689:function(e,t,n){var r=n(91124);e.exports=function(e,t,n){!r.isArray(t)&&(t=[t]);var o=(e.isDirected()?e.successors:e.neighbors).bind(e),i=[],a={};return r.each(t,function(t){if(!e.hasNode(t))throw Error("Graph does not have node: "+t);(function e(t,n,o,i,a,s){!r.has(i,n)&&(i[n]=!0,!o&&s.push(n),r.each(a(n),function(n){e(t,n,o,i,a,s)}),o&&s.push(n))})(e,t,"post"===n,a,o,i)}),i}},53659:function(e,t,n){var r=n(95070),o=n(91124);e.exports=function(e,t,n){return o.transform(e.nodes(),function(o,i){o[i]=r(e,i,t,n)},{})}},95070:function(e,t,n){var r=n(91124),o=n(60392);e.exports=function(e,t,n,r){return function(e,t,n,r){var i,a,s={},u=new o,c=function(e){var t=e.v!==i?e.v:e.w,r=s[t],o=n(e),c=a.distance+o;if(o<0)throw Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+o);c<r.distance&&(r.distance=c,r.predecessor=i,u.decrease(t,c))};for(e.nodes().forEach(function(e){var n=e===t?0:Number.POSITIVE_INFINITY;s[e]={distance:n},u.add(e,n)});u.size()>0&&(a=s[i=u.removeMin()]).distance!==Number.POSITIVE_INFINITY;){;r(i).forEach(c)}return s}(e,String(t),n||i,r||function(t){return e.outEdges(t)})};var i=r.constant(1)},53548:function(e,t,n){var r=n(91124),o=n(87299);e.exports=function(e){return r.filter(o(e),function(t){return t.length>1||1===t.length&&e.hasEdge(t[0],t[0])})}},1637:function(e,t,n){var r=n(91124);e.exports=function(e,t,n){return function(e,t,n){var r={},o=e.nodes();return o.forEach(function(e){r[e]={},r[e][e]={distance:0},o.forEach(function(t){e!==t&&(r[e][t]={distance:Number.POSITIVE_INFINITY})}),n(e).forEach(function(n){var o=n.v===e?n.w:n.v,i=t(n);r[e][o]={distance:i,predecessor:e}})}),o.forEach(function(e){var t=r[e];o.forEach(function(n){var i=r[n];o.forEach(function(n){var r=i[e],o=t[n],a=i[n],s=r.distance+o.distance;s<a.distance&&(a.distance=s,a.predecessor=o.predecessor)})})}),r}(e,t||o,n||function(t){return e.outEdges(t)})};var o=r.constant(1)},92010:function(e,t,n){e.exports={components:n(49004),dijkstra:n(95070),dijkstraAll:n(53659),findCycles:n(53548),floydWarshall:n(1637),isAcyclic:n(52974),postorder:n(88021),preorder:n(35954),prim:n(61102),tarjan:n(87299),topsort:n(12177)}},52974:function(e,t,n){var r=n(12177);e.exports=function(e){try{r(e)}catch(e){if(e instanceof r.CycleException)return!1;throw e}return!0}},88021:function(e,t,n){var r=n(10689);e.exports=function(e,t){return r(e,t,"post")}},35954:function(e,t,n){var r=n(10689);e.exports=function(e,t){return r(e,t,"pre")}},61102:function(e,t,n){var r=n(91124),o=n(58415),i=n(60392);e.exports=function(e,t){var n,a=new o,s={},u=new i;function c(e){var r=e.v===n?e.w:e.v,o=u.priority(r);if(void 0!==o){var i=t(e);i<o&&(s[r]=n,u.decrease(r,i))}}if(0===e.nodeCount())return a;r.each(e.nodes(),function(e){u.add(e,Number.POSITIVE_INFINITY),a.setNode(e)}),u.decrease(e.nodes()[0],0);for(var l=!1;u.size()>0;){if(n=u.removeMin(),r.has(s,n))a.setEdge(n,s[n]);else if(l)throw Error("Input graph is not connected: "+e);else l=!0;e.nodeEdges(n).forEach(c)}return a}},87299:function(e,t,n){var r=n(91124);e.exports=function(e){var t=0,n=[],o={},i=[];return e.nodes().forEach(function(a){!r.has(o,a)&&!function a(s){var u=o[s]={onStack:!0,lowlink:t,index:t++};if(n.push(s),e.successors(s).forEach(function(e){r.has(o,e)?o[e].onStack&&(u.lowlink=Math.min(u.lowlink,o[e].index)):(a(e),u.lowlink=Math.min(u.lowlink,o[e].lowlink))}),u.lowlink===u.index){var c,l=[];do o[c=n.pop()].onStack=!1,l.push(c);while(s!==c);i.push(l)}}(a)}),i}},12177:function(e,t,n){var r=n(91124);function o(e){var t={},n={},o=[];if(r.each(e.sinks(),function a(s){if(r.has(n,s))throw new i;!r.has(t,s)&&(n[s]=!0,t[s]=!0,r.each(e.predecessors(s),a),delete n[s],o.push(s))}),r.size(t)!==e.nodeCount())throw new i;return o}function i(){}e.exports=o,o.CycleException=i,i.prototype=Error()},60392:function(e,t,n){var r=n(91124);function o(){this._arr=[],this._keyIndices={}}e.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map(function(e){return e.key})},o.prototype.has=function(e){return r.has(this._keyIndices,e)},o.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},o.prototype.min=function(){if(0===this.size())throw Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),!r.has(n,e)){var o=this._arr,i=o.length;return n[e]=i,o.push({key:e,priority:t}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},o.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},o.prototype._heapify=function(e){var t=this._arr,n=2*e,r=n+1,o=e;n<t.length&&(o=t[n].priority<t[o].priority?n:o,r<t.length&&(o=t[r].priority<t[o].priority?r:o),o!==e&&(this._swap(e,o),this._heapify(o)))},o.prototype._decrease=function(e){for(var t,n=this._arr,r=n[e].priority;0!==e&&!(n[t=e>>1].priority<r);){;this._swap(e,t),e=t}},o.prototype._swap=function(e,t){var n=this._arr,r=this._keyIndices,o=n[e],i=n[t];n[e]=i,n[t]=o,r[i.key]=e,r[o.key]=t}},58415:function(e,t,n){"use strict";var r=n(91124);e.exports=o;function o(e){this._isDirected=!r.has(e,"directed")||e.directed,this._isMultigraph=!!r.has(e,"multigraph")&&e.multigraph,this._isCompound=!!r.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function i(e,t){e[t]?e[t]++:e[t]=1}function a(e,t){!--e[t]&&delete e[t]}function s(e,t,n,o){var i=""+t,a=""+n;if(!e&&i>a){var s=i;i=a,a=s}return i+"\x01"+a+"\x01"+(r.isUndefined(o)?"\0":o)}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(e){return this._label=e,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(e){return!r.isFunction(e)&&(e=r.constant(e)),this._defaultNodeLabelFn=e,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return r.keys(this._nodes)},o.prototype.sources=function(){var e=this;return r.filter(this.nodes(),function(t){return r.isEmpty(e._in[t])})},o.prototype.sinks=function(){var e=this;return r.filter(this.nodes(),function(t){return r.isEmpty(e._out[t])})},o.prototype.setNodes=function(e,t){var n=arguments,o=this;return r.each(e,function(e){n.length>1?o.setNode(e,t):o.setNode(e)}),this},o.prototype.setNode=function(e,t){return r.has(this._nodes,e)?(arguments.length>1&&(this._nodes[e]=t),this):(this._nodes[e]=arguments.length>1?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]="\0",this._children[e]={},this._children["\0"][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount,this)},o.prototype.node=function(e){return this._nodes[e]},o.prototype.hasNode=function(e){return r.has(this._nodes,e)},o.prototype.removeNode=function(e){var t=this;if(r.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],r.each(this.children(e),function(e){t.setParent(e)}),delete this._children[e]),r.each(r.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],r.each(r.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},o.prototype.setParent=function(e,t){if(!this._isCompound)throw Error("Cannot set parent in a non-compound graph");if(r.isUndefined(t))t="\0";else{t+="";for(var n=t;!r.isUndefined(n);n=this.parent(n))if(n===e)throw Error("Setting "+t+" as parent of "+e+" would create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},o.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},o.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if("\0"!==t)return t}},o.prototype.children=function(e){if(r.isUndefined(e)&&(e="\0"),this._isCompound){var t=this._children[e];if(t)return r.keys(t)}else if("\0"===e)return this.nodes();else if(this.hasNode(e))return[]},o.prototype.predecessors=function(e){var t=this._preds[e];if(t)return r.keys(t)},o.prototype.successors=function(e){var t=this._sucs[e];if(t)return r.keys(t)},o.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return r.union(t,this.successors(e))},o.prototype.isLeaf=function(e){var t;return 0===(t=this.isDirected()?this.successors(e):this.neighbors(e)).length},o.prototype.filterNodes=function(e){var t=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});t.setGraph(this.graph());var n=this;r.each(this._nodes,function(n,r){e(r)&&t.setNode(r,n)}),r.each(this._edgeObjs,function(e){t.hasNode(e.v)&&t.hasNode(e.w)&&t.setEdge(e,n.edge(e))});var o={};return this._isCompound&&r.each(t.nodes(),function(e){t.setParent(e,function e(r){var i=n.parent(r);return void 0===i||t.hasNode(i)?(o[r]=i,i):i in o?o[i]:e(i)}(e))}),t},o.prototype.setDefaultEdgeLabel=function(e){return!r.isFunction(e)&&(e=r.constant(e)),this._defaultEdgeLabelFn=e,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return r.values(this._edgeObjs)},o.prototype.setPath=function(e,t){var n=this,o=arguments;return r.reduce(e,function(e,r){return o.length>1?n.setEdge(e,r,t):n.setEdge(e,r),r}),this},o.prototype.setEdge=function(){var e,t,n,o,a=!1,u=arguments[0];"object"==typeof u&&null!==u&&"v"in u?(e=u.v,t=u.w,n=u.name,2==arguments.length&&(o=arguments[1],a=!0)):(e=u,t=arguments[1],n=arguments[3],arguments.length>2&&(o=arguments[2],a=!0)),e=""+e,t=""+t,!r.isUndefined(n)&&(n=""+n);var c=s(this._isDirected,e,t,n);if(r.has(this._edgeLabels,c))return a&&(this._edgeLabels[c]=o),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[c]=a?o:this._defaultEdgeLabelFn(e,t,n);var l=function(e,t,n,r){var o=""+t,i=""+n;if(!e&&o>i){var a=o;o=i,i=a}var s={v:o,w:i};return r&&(s.name=r),s}(this._isDirected,e,t,n);return e=l.v,t=l.w,Object.freeze(l),this._edgeObjs[c]=l,i(this._preds[t],e),i(this._sucs[e],t),this._in[t][c]=l,this._out[e][c]=l,this._edgeCount++,this},o.prototype.edge=function(e,t,n){var r=1==arguments.length?u(this._isDirected,arguments[0]):s(this._isDirected,e,t,n);return this._edgeLabels[r]},o.prototype.hasEdge=function(e,t,n){var o=1==arguments.length?u(this._isDirected,arguments[0]):s(this._isDirected,e,t,n);return r.has(this._edgeLabels,o)},o.prototype.removeEdge=function(e,t,n){var r=1==arguments.length?u(this._isDirected,arguments[0]):s(this._isDirected,e,t,n),o=this._edgeObjs[r];return o&&(e=o.v,t=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],a(this._preds[t],e),a(this._sucs[e],t),delete this._in[t][r],delete this._out[e][r],this._edgeCount--),this},o.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var o=r.values(n);return t?r.filter(o,function(e){return e.v===t}):o}},o.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var o=r.values(n);return t?r.filter(o,function(e){return e.w===t}):o}},o.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))};function u(e,t){return s(e,t.v,t.w,t.name)}},23617:function(e,t,n){e.exports={Graph:n(58415),version:n(58183)}},53988:function(e,t,n){var r=n(91124),o=n(58415);e.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:function(e){return r.map(e.nodes(),function(t){var n=e.node(t),o=e.parent(t),i={v:t};return!r.isUndefined(n)&&(i.value=n),!r.isUndefined(o)&&(i.parent=o),i})}(e),edges:function(e){return r.map(e.edges(),function(t){var n=e.edge(t),o={v:t.v,w:t.w};return!r.isUndefined(t.name)&&(o.name=t.name),!r.isUndefined(n)&&(o.value=n),o})}(e)};return!r.isUndefined(e.graph())&&(t.value=r.clone(e.graph())),t},read:function(e){var t=new o(e.options).setGraph(e.value);return r.each(e.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),r.each(e.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}}},91124:function(e,t,n){var r;try{r={clone:n(55824),constant:n(64806),each:n(15828),filter:n(3149),has:n(56611),isArray:n(24669),isEmpty:n(82691),isFunction:n(92042),isUndefined:n(89300),keys:n(50579),map:n(65512),reduce:n(6355),size:n(81430),transform:n(68742),union:n(29974),values:n(61017)}}catch(e){}!r&&(r=window._),e.exports=r},58183:function(e){e.exports="2.1.8"},71953:function(e,t,n){"use strict";var r=n(75271),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useState,a=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var l="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,l=r[1];return s(function(){o.value=n,o.getSnapshot=t,c(o)&&l({inst:o})},[e,n,t]),a(function(){return c(o)&&l({inst:o}),e(function(){c(o)&&l({inst:o})})},[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},48626:function(e,t,n){"use strict";var r=n(75271),o=n(4060),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=s(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;var h=a(e,(d=c(function(){function e(e){if(!u){if(u=!0,a=e,e=r(e),void 0!==o&&f.hasValue){var t=f.value;if(o(t,e))return s=t}return s=e}if(t=s,i(a,e))return t;var n=r(e);return void 0!==o&&o(t,n)?t:(a=e,s=n)}var a,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,o]))[0],d[1]);return u(function(){f.hasValue=!0,f.value=h},[h]),l(h),h}},4060:function(e,t,n){"use strict";e.exports=n(71953)},42598:function(e,t,n){"use strict";e.exports=n(48626)},23257:function(e,t,n){"use strict";n.d(t,{Z:function(){return function e(t){if("string"==typeof t||"number"==typeof t)return""+t;let n="";if(Array.isArray(t))for(let r=0,o;r<t.length;r++)""!==(o=e(t[r]))&&(n+=(n&&" ")+o);else for(let e in t)t[e]&&(n+=(n&&" ")+e);return n}}})},86396:function(e,t,n){"use strict";n.d(t,{B8:function(){return _},ZP:function(){return w}});var r=n(75842);function o(){}var i=1.4285714285714286,a="\\s*([+-]?\\d+)\\s*",s="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c=/^#([0-9a-f]{3,8})$/,l=RegExp(`^rgb\\(${a},${a},${a}\\)$`),d=RegExp(`^rgb\\(${u},${u},${u}\\)$`),f=RegExp(`^rgba\\(${a},${a},${a},${s}\\)$`),h=RegExp(`^rgba\\(${u},${u},${u},${s}\\)$`),p=RegExp(`^hsl\\(${s},${u},${u}\\)$`),g=RegExp(`^hsla\\(${s},${u},${u},${s}\\)$`),m={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function v(){return this.rgb().formatHex()}(0,r.Z)(o,w,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:v,formatHex:v,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return P(this).formatHsl()},formatRgb:y,toString:y});function y(){return this.rgb().formatRgb()}function w(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=c.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?x(t):3===n?new E(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?b(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?b(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=l.exec(e))?new E(t[1],t[2],t[3],1):(t=d.exec(e))?new E(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=f.exec(e))?b(t[1],t[2],t[3],t[4]):(t=h.exec(e))?b(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=p.exec(e))?Z(t[1],t[2]/100,t[3]/100,1):(t=g.exec(e))?Z(t[1],t[2]/100,t[3]/100,t[4]):m.hasOwnProperty(e)?x(m[e]):"transparent"===e?new E(NaN,NaN,NaN,0):null}function x(e){return new E(e>>16&255,e>>8&255,255&e,1)}function b(e,t,n,r){return r<=0&&(e=t=n=NaN),new E(e,t,n,r)}function _(e,t,n,r){var i;return 1==arguments.length?(!((i=e)instanceof o)&&(i=w(i)),i)?new E((i=i.rgb()).r,i.g,i.b,i.opacity):new E:new E(e,t,n,null==r?1:r)}function E(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function k(){return`#${C(this.r)}${C(this.g)}${C(this.b)}`}(0,r.Z)(E,_,(0,r.l)(o,{brighter(e){return e=null==e?i:Math.pow(i,e),new E(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new E(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new E(M(this.r),M(this.g),M(this.b),N(this.opacity))},displayable(){return -.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k,formatHex:k,formatHex8:function(){return`#${C(this.r)}${C(this.g)}${C(this.b)}${C((isNaN(this.opacity)?1:this.opacity)*255)}`},formatRgb:S,toString:S}));function S(){let e=N(this.opacity);return`${1===e?"rgb(":"rgba("}${M(this.r)}, ${M(this.g)}, ${M(this.b)}${1===e?")":`, ${e})`}`}function N(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function M(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function C(e){return((e=M(e))<16?"0":"")+e.toString(16)}function Z(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new I(e,t,n,r)}function P(e){if(e instanceof I)return new I(e.h,e.s,e.l,e.opacity);if(!(e instanceof o)&&(e=w(e)),!e)return new I;if(e instanceof I)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,u=a-i,c=(a+i)/2;return u?(s=t===a?(n-r)/u+(n<r)*6:n===a?(r-t)/u+2:(t-n)/u+4,u/=c<.5?a+i:2-a-i,s*=60):u=c>0&&c<1?0:s,new I(s,u,c,e.opacity)}function I(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function z(e){return(e=(e||0)%360)<0?e+360:e}function A(e){return Math.max(0,Math.min(1,e||0))}function R(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}(0,r.Z)(I,function(e,t,n,r){return 1==arguments.length?P(e):new I(e,t,n,null==r?1:r)},(0,r.l)(o,{brighter(e){return e=null==e?i:Math.pow(i,e),new I(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?.7:Math.pow(.7,e),new I(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,o=2*n-r;return new E(R(e>=240?e-240:e+120,o,r),R(e,o,r),R(e<120?e+240:e-120,o,r),this.opacity)},clamp(){return new I(z(this.h),A(this.s),A(this.l),N(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){let e=N(this.opacity);return`${1===e?"hsl(":"hsla("}${z(this.h)}, ${100*A(this.s)}%, ${100*A(this.l)}%${1===e?")":`, ${e})`}`}}))},75842:function(e,t,n){"use strict";function r(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function o(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}n.d(t,{Z:function(){return r},l:function(){return o}})},42574:function(e,t){"use strict";var n={value:()=>{}};function r(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw Error("illegal type: "+e);r[e]=[]}return new o(r)}function o(e){this._=e}o.prototype=r.prototype={constructor:o,on:function(e,t){var n,r,o,a=this._,s=(n=e+"",r=a,n.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw Error("unknown type: "+e);return{type:e,name:t}})),u=-1,c=s.length;if(arguments.length<2){for(;++u<c;)if((o=(e=s[u]).type)&&(o=function(e,t){for(var n,r=0,o=e.length;r<o;++r)if((n=e[r]).name===t)return n.value}(a[o],e.name)))return o;return}if(null!=t&&"function"!=typeof t)throw Error("invalid callback: "+t);for(;++u<c;)if(o=(e=s[u]).type)a[o]=i(a[o],e.name,t);else if(null==t)for(o in a)a[o]=i(a[o],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new o(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,o=Array(n),i=0;i<n;++i)o[i]=arguments[i+2];if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(r=this._[e],i=0,n=r.length;i<n;++i)r[i].value.apply(t,o)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw Error("unknown type: "+e);for(var r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)}};function i(e,t,r){for(var o=0,i=e.length;o<i;++o)if(e[o].name===t){e[o]=n,e=e.slice(0,o).concat(e.slice(o+1));break}return null!=r&&e.push({name:t,value:r}),e}t.Z=r},44688:function(e,t){"use strict";t.Z=e=>()=>e},39984:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(42574),o=n(13249),i=n(86996),a=n(90560),s=n(51107),u=n(44688),c=n(44006);function l(e){return!e.ctrlKey&&!e.button}function d(){return this.parentNode}function f(e,t){return null==t?{x:e.x,y:e.y}:t}function h(){return navigator.maxTouchPoints||"ontouchstart"in this}function p(){var e,t,n,p,g=l,m=d,v=f,y=h,w={},x=(0,r.Z)("start","drag","end"),b=0,_=0;function E(e){e.on("mousedown.drag",k).filter(y).on("touchstart.drag",M).on("touchmove.drag",C,s.Q7).on("touchend.drag touchcancel.drag",Z).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function k(r,i){if(!p&&!!g.call(this,r,i)){var u=P(this,m.call(this,r,i),r,i,"mouse");u&&((0,o.Z)(r.view).on("mousemove.drag",S,s.Dd).on("mouseup.drag",N,s.Dd),(0,a.Z)(r.view),(0,s.rG)(r),n=!1,e=r.clientX,t=r.clientY,u("start",r))}}function S(r){if((0,s.ZP)(r),!n){var o=r.clientX-e,i=r.clientY-t;n=o*o+i*i>_}w.mouse("drag",r)}function N(e){(0,o.Z)(e.view).on("mousemove.drag mouseup.drag",null),(0,a.D)(e.view,n),(0,s.ZP)(e),w.mouse("end",e)}function M(e,t){if(g.call(this,e,t)){var n,r,o=e.changedTouches,i=m.call(this,e,t),a=o.length;for(n=0;n<a;++n)(r=P(this,i,e,t,o[n].identifier,o[n]))&&((0,s.rG)(e),r("start",e,o[n]))}}function C(e){var t,n,r=e.changedTouches,o=r.length;for(t=0;t<o;++t)(n=w[r[t].identifier])&&((0,s.ZP)(e),n("drag",e,r[t]))}function Z(e){var t,n,r=e.changedTouches,o=r.length;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),t=0;t<o;++t)(n=w[r[t].identifier])&&((0,s.rG)(e),n("end",e,r[t]))}function P(e,t,n,r,o,a){var s,u,l,d=x.copy(),f=(0,i.Z)(a||n,t);if(null!=(l=v.call(e,new c.Z("beforestart",{sourceEvent:n,target:E,identifier:o,active:b,x:f[0],y:f[1],dx:0,dy:0,dispatch:d}),r)))return s=l.x-f[0]||0,u=l.y-f[1]||0,function n(a,h,p){var g,m=f;switch(a){case"start":w[o]=n,g=b++;break;case"end":delete w[o],--b;case"drag":f=(0,i.Z)(p||h,t),g=b}d.call(a,e,new c.Z(a,{sourceEvent:h,subject:l,target:E,identifier:o,active:g,x:f[0]+s,y:f[1]+u,dx:f[0]-m[0],dy:f[1]-m[1],dispatch:d}),r)}}return E.filter=function(e){return arguments.length?(g="function"==typeof e?e:(0,u.Z)(!!e),E):g},E.container=function(e){return arguments.length?(m="function"==typeof e?e:(0,u.Z)(e),E):m},E.subject=function(e){return arguments.length?(v="function"==typeof e?e:(0,u.Z)(e),E):v},E.touchable=function(e){return arguments.length?(y="function"==typeof e?e:(0,u.Z)(!!e),E):y},E.on=function(){var e=x.on.apply(x,arguments);return e===x?E:e},E.clickDistance=function(e){return arguments.length?(_=(e=+e)*e,E):Math.sqrt(_)},E}},44006:function(e,t,n){"use strict";function r(e,{sourceEvent:t,subject:n,target:r,identifier:o,active:i,x:a,y:s,dx:u,dy:c,dispatch:l}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:o,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:l}})}n.d(t,{Z:function(){return r}}),r.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e}},90560:function(e,t,n){"use strict";n.d(t,{D:function(){return a},Z:function(){return i}});var r=n(13249),o=n(51107);function i(e){var t=e.document.documentElement,n=(0,r.Z)(e).on("dragstart.drag",o.ZP,o.Dd);"onselectstart"in t?n.on("selectstart.drag",o.ZP,o.Dd):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function a(e,t){var n=e.document.documentElement,i=(0,r.Z)(e).on("dragstart.drag",null);t&&(i.on("click.drag",o.ZP,o.Dd),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in n?i.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}},51107:function(e,t,n){"use strict";n.d(t,{Dd:function(){return o},Q7:function(){return r},ZP:function(){return a},rG:function(){return i}});let r={passive:!1},o={capture:!0,passive:!1};function i(e){e.stopImmediatePropagation()}function a(e){e.preventDefault(),e.stopImmediatePropagation()}},76567:function(e,t,n){"use strict";function r(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}n.d(t,{tw:function(){return r}})},8074:function(e,t,n){"use strict";function r(e,t,n,r,o){var i=e*e,a=i*e;return((1-3*e+3*i-a)*t+(4-6*i+3*a)*n+(1+3*e+3*i-3*a)*r+a*o)/6}function o(e){var t=e.length-1;return function(n){var o=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[o],a=e[o+1],s=o>0?e[o-1]:2*i-a,u=o<t-1?e[o+2]:2*a-i;return r((n-o/t)*t,s,i,a,u)}}n.d(t,{Z:function(){return o},t:function(){return r}})},11641:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(8074);function o(e){var t=e.length;return function(n){var o=Math.floor(((n%=1)<0?++n:n)*t),i=e[(o+t-1)%t],a=e[o%t],s=e[(o+1)%t],u=e[(o+2)%t];return(0,r.t)((n-o/t)*t,i,a,s,u)}}},8476:function(e,t,n){"use strict";n.d(t,{ZP:function(){return i},yi:function(){return o}});var r=n(25460);function o(e){return 1==(e=+e)?i:function(t,n){var o,i,a;return n-t?(o=t,i=n,o=Math.pow(o,a=e),i=Math.pow(i,a)-o,a=1/a,function(e){return Math.pow(o+e*i,a)}):(0,r.Z)(isNaN(t)?n:t)}}function i(e,t){var n,o,i=t-e;return i?(n=e,o=i,function(e){return n+e*o}):(0,r.Z)(isNaN(e)?t:e)}},25460:function(e,t){"use strict";t.Z=e=>()=>e},36258:function(e,t,n){"use strict";function r(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}n.d(t,{Z:function(){return r}})},42670:function(e,t,n){"use strict";var r=n(86396),o=n(8074),i=n(11641),a=n(8476);function s(e){return function(t){var n,o,i=t.length,a=Array(i),s=Array(i),u=Array(i);for(n=0;n<i;++n)o=(0,r.B8)(t[n]),a[n]=o.r||0,s[n]=o.g||0,u[n]=o.b||0;return a=e(a),s=e(s),u=e(u),o.opacity=1,function(e){return o.r=a(e),o.g=s(e),o.b=u(e),o+""}}}t.ZP=function e(t){var n=(0,a.yi)(t);function o(e,t){var o=n((e=(0,r.B8)(e)).r,(t=(0,r.B8)(t)).r),i=n(e.g,t.g),s=n(e.b,t.b),u=(0,a.ZP)(e.opacity,t.opacity);return function(t){return e.r=o(t),e.g=i(t),e.b=s(t),e.opacity=u(t),e+""}}return o.gamma=e,o}(1),s(o.Z),s(i.Z)},52384:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(36258),o=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,i=RegExp(o.source,"g");function a(e,t){var n,a,s,u,c,l=o.lastIndex=i.lastIndex=0,d=-1,f=[],h=[];for(e+="",t+="";(s=o.exec(e))&&(u=i.exec(t));)(c=u.index)>l&&(c=t.slice(l,c),f[d]?f[d]+=c:f[++d]=c),(s=s[0])===(u=u[0])?f[d]?f[d]+=u:f[++d]=u:(f[++d]=null,h.push({i:d,x:(0,r.Z)(s,u)})),l=i.lastIndex;return l<t.length&&(c=t.slice(l),f[d]?f[d]+=c:f[++d]=c),f.length<2?h[0]?(n=h[0].x,function(e){return n(e)+""}):(a=t,function(){return a}):(t=h.length,function(e){for(var n,r=0;r<t;++r)f[(n=h[r]).i]=n.x(e);return f.join("")})}},78339:function(e,t,n){"use strict";n.d(t,{Z:function(){return i},y:function(){return o}});var r=180/Math.PI,o={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function i(e,t,n,o,i,a){var s,u,c;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(c=e*n+t*o)&&(n-=e*c,o-=t*c),(u=Math.sqrt(n*n+o*o))&&(n/=u,o/=u,c/=u),e*o<t*n&&(e=-e,t=-t,c=-c,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*r,skewX:Math.atan(c)*r,scaleX:s,scaleY:u}}},43653:function(e,t,n){"use strict";n.d(t,{Y:function(){return a},w:function(){return s}});var r=n(36258),o=n(79285);function i(e,t,n,o){function i(e){return e.length?e.pop()+" ":""}return function(a,s){var u,c,l,d,f,h,p,g,m=[],v=[];return a=e(a),s=e(s),!function(e,o,i,a,s,u){if(e!==i||o!==a){var c=s.push("translate(",null,t,null,n);u.push({i:c-4,x:(0,r.Z)(e,i)},{i:c-2,x:(0,r.Z)(o,a)})}else(i||a)&&s.push("translate("+i+t+a+n)}(a.translateX,a.translateY,s.translateX,s.translateY,m,v),u=a.rotate,c=s.rotate,l=m,d=v,u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:l.push(i(l)+"rotate(",null,o)-2,x:(0,r.Z)(u,c)})):c&&l.push(i(l)+"rotate("+c+o),f=a.skewX,h=s.skewX,p=m,g=v,f!==h?g.push({i:p.push(i(p)+"skewX(",null,o)-2,x:(0,r.Z)(f,h)}):h&&p.push(i(p)+"skewX("+h+o),!function(e,t,n,o,a,s){if(e!==n||t!==o){var u=a.push(i(a)+"scale(",null,",",null,")");s.push({i:u-4,x:(0,r.Z)(e,n)},{i:u-2,x:(0,r.Z)(t,o)})}else(1!==n||1!==o)&&a.push(i(a)+"scale("+n+","+o+")")}(a.scaleX,a.scaleY,s.scaleX,s.scaleY,m,v),a=s=null,function(e){for(var t,n=-1,r=v.length;++n<r;)m[(t=v[n]).i]=t.x(e);return m.join("")}}}var a=i(o.z,"px, ","px)","deg)"),s=i(o.X,", ",")",")")},79285:function(e,t,n){"use strict";n.d(t,{X:function(){return a},z:function(){return i}});var r,o=n(78339);function i(e){let t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?o.y:(0,o.Z)(t.a,t.b,t.c,t.d,t.e,t.f)}function a(e){return null==e?o.y:(!r&&(r=document.createElementNS("http://www.w3.org/2000/svg","g")),r.setAttribute("transform",e),e=r.transform.baseVal.consolidate())?(e=e.matrix,(0,o.Z)(e.a,e.b,e.c,e.d,e.e,e.f)):o.y}},40487:function(e,t){"use strict";function n(e){return((e=Math.exp(e))+1/e)/2}t.Z=function e(t,r,o){function i(e,i){var a,s,u=e[0],c=e[1],l=e[2],d=i[0],f=i[1],h=i[2],p=d-u,g=f-c,m=p*p+g*g;if(m<1e-12)s=Math.log(h/l)/t,a=function(e){return[u+e*p,c+e*g,l*Math.exp(t*e*s)]};else{var v=Math.sqrt(m),y=(h*h-l*l+o*m)/(2*l*r*v),w=(h*h-l*l-o*m)/(2*h*r*v),x=Math.log(Math.sqrt(y*y+1)-y);s=(Math.log(Math.sqrt(w*w+1)-w)-x)/t,a=function(e){var o,i,a=e*s,d=n(x),f=l/(r*v)*(d*(((o=Math.exp(2*(o=t*a+x)))-1)/(o+1))-((i=Math.exp(i=x))-1/i)/2);return[u+f*p,c+f*g,l*d/n(t*a+x)]}}return a.duration=1e3*s*t/Math.SQRT2,a}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4)},62128:function(e,t,n){"use strict";function r(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}n.d(t,{Z:function(){return r}})},15287:function(e,t,n){"use strict";function r(e){return function(){return e}}n.d(t,{Z:function(){return r}})},53460:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(99149),o=n(31182);function i(e){var t=(0,r.Z)(e);return(t.local?function(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===o.P&&t.documentElement.namespaceURI===o.P?t.createElement(e):t.createElementNS(n,e)}})(t)}},43518:function(e,t,n){"use strict";function r(e){return function(){return this.matches(e)}}function o(e){return function(t){return t.matches(e)}}n.d(t,{P:function(){return o},Z:function(){return r}})},99149:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(31182);function o(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),r.Z.hasOwnProperty(t)?{space:r.Z[t],local:e}:e}},31182:function(e,t,n){"use strict";n.d(t,{P:function(){return r}});var r="http://www.w3.org/1999/xhtml";t.Z={svg:"http://www.w3.org/2000/svg",xhtml:r,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"}},86996:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(62383);function o(e,t){if(e=(0,r.Z)(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,[(o=o.matrixTransform(t.getScreenCTM().inverse())).x,o.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}},13249:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(81797);function o(e){return"string"==typeof e?new r.Y1([[document.querySelector(e)]],[document.documentElement]):new r.Y1([[e]],r.Jz)}},57343:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(53460);function o(e){var t="function"==typeof e?e:(0,r.Z)(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}},59517:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(99149);function o(e,t){var n=(0,r.Z)(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((null==t?n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}}:"function"==typeof t?n.local?function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}:function(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}:n.local?function(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}:function(e,t){return function(){this.setAttribute(e,t)}})(n,t))}},46294:function(e,t,n){"use strict";function r(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}n.d(t,{Z:function(){return r}})},55153:function(e,t,n){"use strict";function r(e){return e.trim().split(/^|\s+/)}function o(e){return e.classList||new i(e)}function i(e){this._node=e,this._names=r(e.getAttribute("class")||"")}function a(e,t){for(var n=o(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function s(e,t){for(var n=o(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}n.d(t,{Z:function(){return u}}),i.prototype={add:function(e){0>this._names.indexOf(e)&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function u(e,t){var n=r(e+"");if(arguments.length<2){for(var i=o(this.node()),u=-1,c=n.length;++u<c;)if(!i.contains(n[u]))return!1;return!0}return this.each(("function"==typeof t?function(e,t){return function(){(t.apply(this,arguments)?a:s)(this,e)}}:t?function(e){return function(){a(this,e)}}:function(e){return function(){s(this,e)}})(n,t))}},30654:function(e,t,n){"use strict";function r(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function o(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function i(e){return this.select(e?o:r)}n.d(t,{Z:function(){return i}})},3767:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(81797),o=n(3657),i=n(15287);function a(e,t,n,r,i,a){for(var s,u=0,c=t.length,l=a.length;u<l;++u)(s=t[u])?(s.__data__=a[u],r[u]=s):n[u]=new o.F(e,a[u]);for(;u<c;++u)(s=t[u])&&(i[u]=s)}function s(e,t,n,r,i,a,s){var u,c,l,d=new Map,f=t.length,h=a.length,p=Array(f);for(u=0;u<f;++u)(c=t[u])&&(p[u]=l=s.call(c,c.__data__,u,t)+"",d.has(l)?i[u]=c:d.set(l,c));for(u=0;u<h;++u)l=s.call(e,a[u],u,a)+"",(c=d.get(l))?(r[u]=c,c.__data__=a[u],d.delete(l)):n[u]=new o.F(e,a[u]);for(u=0;u<f;++u)(c=t[u])&&d.get(p[u])===c&&(i[u]=c)}function u(e){return e.__data__}function c(e,t){if(!arguments.length)return Array.from(this,u);var n=t?s:a,o=this._parents,c=this._groups;"function"!=typeof e&&(e=(0,i.Z)(e));for(var l=c.length,d=Array(l),f=Array(l),h=Array(l),p=0;p<l;++p){var g=o[p],m=c[p],v=m.length,y=function(e){return"object"==typeof e&&"length"in e?e:Array.from(e)}(e.call(g,g&&g.__data__,p,o)),w=y.length,x=f[p]=Array(w),b=d[p]=Array(w);n(g,m,x,b,h[p]=Array(v),y,t);for(var _,E,k=0,S=0;k<w;++k)if(_=x[k]){for(k>=S&&(S=k+1);!(E=b[S])&&++S<w;);_._next=E||null}}return(d=new r.Y1(d,o))._enter=f,d._exit=h,d}},25860:function(e,t,n){"use strict";function r(e){return arguments.length?this.property("__data__",e):this.node().__data__}n.d(t,{Z:function(){return r}})},13846:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(82989);function o(e,t,n){var o=(0,r.Z)(e),i=o.CustomEvent;"function"==typeof i?i=new i(t,n):(i=o.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function i(e,t){return this.each(("function"==typeof t?function(e,t){return function(){return o(this,e,t.apply(this,arguments))}}:function(e,t){return function(){return o(this,e,t)}})(e,t))}},82411:function(e,t,n){"use strict";function r(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var o,i=t[n],a=0,s=i.length;a<s;++a)(o=i[a])&&e.call(o,o.__data__,a,i);return this}n.d(t,{Z:function(){return r}})},1477:function(e,t,n){"use strict";function r(){return!this.node()}n.d(t,{Z:function(){return r}})},3657:function(e,t,n){"use strict";n.d(t,{F:function(){return a},Z:function(){return i}});var r=n(46804),o=n(81797);function i(){return new o.Y1(this._enter||this._groups.map(r.Z),this._parents)}function a(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}a.prototype={constructor:a,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}}},61061:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(46804),o=n(81797);function i(){return new o.Y1(this._exit||this._groups.map(r.Z),this._parents)}},35089:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(81797),o=n(43518);function i(e){"function"!=typeof e&&(e=(0,o.Z)(e));for(var t=this._groups,n=t.length,i=Array(n),a=0;a<n;++a)for(var s,u=t[a],c=u.length,l=i[a]=[],d=0;d<c;++d)(s=u[d])&&e.call(s,s.__data__,d,u)&&l.push(s);return new r.Y1(i,this._parents)}},65088:function(e,t,n){"use strict";function r(){this.innerHTML=""}n.d(t,{Z:function(){return o}});function o(e){return arguments.length?this.each(null==e?r:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(e){return function(){this.innerHTML=e}})(e)):this.node().innerHTML}},81797:function(e,t,n){"use strict";n.d(t,{Jz:function(){return L},Y1:function(){return D}});var r=n(29515),o=n(91158),i=n(43370),a=n(29349),s=n(35089),u=n(3767),c=n(3657),l=n(61061),d=n(38350),f=n(38980),h=n(88607),p=n(69588),g=n(46294),m=n(41649),v=n(14695),y=n(13255),w=n(1477),x=n(82411),b=n(59517),_=n(8553),E=n(77123),k=n(55153),S=n(77231),N=n(65088),M=n(48069),C=n(97648),Z=n(57343),P=n(75929),I=n(93165),z=n(30654),A=n(25860),R=n(95438),j=n(13846),$=n(18496),L=[null];function D(e,t){this._groups=e,this._parents=t}function O(){return new D([[document.documentElement]],L)}D.prototype=O.prototype={constructor:D,select:r.Z,selectAll:o.Z,selectChild:i.Z,selectChildren:a.Z,filter:s.Z,data:u.Z,enter:c.Z,exit:l.Z,join:d.Z,merge:f.Z,selection:function(){return this},order:h.Z,sort:p.Z,call:g.Z,nodes:m.Z,node:v.Z,size:y.Z,empty:w.Z,each:x.Z,attr:b.Z,style:_.Z,property:E.Z,classed:k.Z,text:S.Z,html:N.Z,raise:M.Z,lower:C.Z,append:Z.Z,insert:P.Z,remove:I.Z,clone:z.Z,datum:A.Z,on:R.Z,dispatch:j.Z,[Symbol.iterator]:$.Z},t.ZP=O},75929:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(53460),o=n(88214);function i(){return null}function a(e,t){var n="function"==typeof e?e:(0,r.Z)(e),a=null==t?i:"function"==typeof t?t:(0,o.Z)(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),a.apply(this,arguments)||null)})}},18496:function(e,t,n){"use strict";function*r(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,o=e[t],i=0,a=o.length;i<a;++i)(r=o[i])&&(yield r)}n.d(t,{Z:function(){return r}})},38350:function(e,t,n){"use strict";function r(e,t,n){var r=this.enter(),o=this,i=this.exit();return"function"==typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(o=t(o))&&(o=o.selection()),null==n?i.remove():n(i),r&&o?r.merge(o).order():o}n.d(t,{Z:function(){return r}})},97648:function(e,t,n){"use strict";function r(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function o(){return this.each(r)}n.d(t,{Z:function(){return o}})},38980:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(81797);function o(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,i=n.length,a=o.length,s=Math.min(i,a),u=Array(i),c=0;c<s;++c)for(var l,d=n[c],f=o[c],h=d.length,p=u[c]=Array(h),g=0;g<h;++g)(l=d[g]||f[g])&&(p[g]=l);for(;c<i;++c)u[c]=n[c];return new r.Y1(u,this._parents)}},14695:function(e,t,n){"use strict";function r(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],o=0,i=r.length;o<i;++o){var a=r[o];if(a)return a}return null}n.d(t,{Z:function(){return r}})},41649:function(e,t,n){"use strict";function r(){return Array.from(this)}n.d(t,{Z:function(){return r}})},95438:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});function r(e){return function(){var t=this.__on;if(t){for(var n,r=0,o=-1,i=t.length;r<i;++r)(n=t[r],e.type&&n.type!==e.type||n.name!==e.name)?t[++o]=n:this.removeEventListener(n.type,n.listener,n.options);++o?t.length=o:delete this.__on}}}function o(e,t,n){return function(){var r,o,i=this.__on,a=(r=t,function(e){r.call(this,e,this.__data__)});if(i){for(var s=0,u=i.length;s<u;++s)if((o=i[s]).type===e.type&&o.name===e.name){this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=a,o.options=n),o.value=t;return}}this.addEventListener(e.type,a,n),o={type:e.type,name:e.name,value:t,listener:a,options:n},i?i.push(o):this.__on=[o]}}function i(e,t,n){var i,a,s=(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}}),u=s.length;if(arguments.length<2){var c=this.node().__on;if(c){for(var l,d=0,f=c.length;d<f;++d)for(i=0,l=c[d];i<u;++i)if((a=s[i]).type===l.type&&a.name===l.name)return l.value}return}for(i=0,c=t?o:r;i<u;++i)this.each(c(s[i],t,n));return this}},88607:function(e,t,n){"use strict";function r(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,o=e[t],i=o.length-1,a=o[i];--i>=0;)(r=o[i])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this}n.d(t,{Z:function(){return r}})},77123:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});function r(e,t){return arguments.length>1?this.each((null==t?function(e){return function(){delete this[e]}}:"function"==typeof t?function(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}:function(e,t){return function(){this[e]=t}})(e,t)):this.node()[e]}},48069:function(e,t,n){"use strict";function r(){this.nextSibling&&this.parentNode.appendChild(this)}function o(){return this.each(r)}n.d(t,{Z:function(){return o}})},93165:function(e,t,n){"use strict";function r(){var e=this.parentNode;e&&e.removeChild(this)}function o(){return this.each(r)}n.d(t,{Z:function(){return o}})},29515:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(81797),o=n(88214);function i(e){"function"!=typeof e&&(e=(0,o.Z)(e));for(var t=this._groups,n=t.length,i=Array(n),a=0;a<n;++a)for(var s,u,c=t[a],l=c.length,d=i[a]=Array(l),f=0;f<l;++f)(s=c[f])&&(u=e.call(s,s.__data__,f,c))&&("__data__"in s&&(u.__data__=s.__data__),d[f]=u);return new r.Y1(i,this._parents)}},91158:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(81797),o=n(62128),i=n(79645);function a(e){if("function"==typeof e){var t;t=e,e=function(){return(0,o.Z)(t.apply(this,arguments))}}else e=(0,i.Z)(e);for(var n=this._groups,a=n.length,s=[],u=[],c=0;c<a;++c)for(var l,d=n[c],f=d.length,h=0;h<f;++h)(l=d[h])&&(s.push(e.call(l,l.__data__,h,d)),u.push(l));return new r.Y1(s,u)}},43370:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(43518),o=Array.prototype.find;function i(){return this.firstElementChild}function a(e){var t;return this.select(null==e?i:(t="function"==typeof e?e:(0,r.P)(e),function(){return o.call(this.children,t)}))}},29349:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(43518),o=Array.prototype.filter;function i(){return Array.from(this.children)}function a(e){var t;return this.selectAll(null==e?i:(t="function"==typeof e?e:(0,r.P)(e),function(){return o.call(this.children,t)}))}},13255:function(e,t,n){"use strict";function r(){let e=0;for(let t of this)++e;return e}n.d(t,{Z:function(){return r}})},69588:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(81797);function o(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}!e&&(e=i);for(var n=this._groups,o=n.length,a=Array(o),s=0;s<o;++s){for(var u,c=n[s],l=c.length,d=a[s]=Array(l),f=0;f<l;++f)(u=c[f])&&(d[f]=u);d.sort(t)}return new r.Y1(a,this._parents).order()}function i(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}},46804:function(e,t,n){"use strict";function r(e){return Array(e.length)}n.d(t,{Z:function(){return r}})},8553:function(e,t,n){"use strict";n.d(t,{S:function(){return i},Z:function(){return o}});var r=n(82989);function o(e,t,n){return arguments.length>1?this.each((null==t?function(e){return function(){this.style.removeProperty(e)}}:"function"==typeof t?function(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}:function(e,t,n){return function(){this.style.setProperty(e,t,n)}})(e,t,null==n?"":n)):i(this.node(),e)}function i(e,t){return e.style.getPropertyValue(t)||(0,r.Z)(e).getComputedStyle(e,null).getPropertyValue(t)}},77231:function(e,t,n){"use strict";function r(){this.textContent=""}n.d(t,{Z:function(){return o}});function o(e){return arguments.length?this.each(null==e?r:("function"==typeof e?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(e){return function(){this.textContent=e}})(e)):this.node().textContent}},88214:function(e,t,n){"use strict";function r(){}function o(e){return null==e?r:function(){return this.querySelector(e)}}n.d(t,{Z:function(){return o}})},79645:function(e,t,n){"use strict";function r(){return[]}function o(e){return null==e?r:function(){return this.querySelectorAll(e)}}n.d(t,{Z:function(){return o}})},62383:function(e,t,n){"use strict";function r(e){let t;for(;t=e.sourceEvent;)e=t;return e}n.d(t,{Z:function(){return r}})},82989:function(e,t,n){"use strict";function r(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}n.d(t,{Z:function(){return r}})},92464:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(35745);function o(e,t,n){var o=new r.B7;return t=null==t?0:+t,o.restart(n=>{o.stop(),e(n+t)},t,n),o}},35745:function(e,t,n){"use strict";n.d(t,{B7:function(){return g},HT:function(){return m},zO:function(){return h}});var r,o,i=0,a=0,s=0,u=0,c=0,l=0,d="object"==typeof performance&&performance.now?performance:Date,f="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function h(){return c||(f(p),c=d.now()+l)}function p(){c=0}function g(){this._call=this._time=this._next=null}function m(e,t,n){var r=new g;return r.restart(e,t,n),r}g.prototype=m.prototype={constructor:g,restart:function(e,t,n){if("function"!=typeof e)throw TypeError("callback is not a function");n=(null==n?h():+n)+(null==t?0:+t),!this._next&&o!==this&&(o?o._next=this:r=this,o=this),this._call=e,this._time=n,w()},stop:function(){this._call&&(this._call=null,this._time=1/0,w())}};function v(){c=(u=d.now())+l,i=a=0;try{!function(){h(),++i;for(var e,t=r;t;)(e=c-t._time)>=0&&t._call.call(void 0,e),t=t._next;--i}()}finally{i=0,function(){for(var e,t,n=r,i=1/0;n;)n._call?(i>n._time&&(i=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:r=t);o=e,w(i)}(),c=0}}function y(){var e=d.now(),t=e-u;t>1e3&&(l-=t,u=e)}function w(e){!i&&(a&&(a=clearTimeout(a)),e-c>24?(e<1/0&&(a=setTimeout(v,e-d.now()-l)),s&&(s=clearInterval(s))):(!s&&(u=d.now(),s=setInterval(y,1e3)),i=1,f(v)))}},28158:function(e,t,n){"use strict";n.d(t,{e1:function(){return r.Z}}),n(13316);var r=n(99253)},99253:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(67291);function o(e,t){var n,o,i,a=e.__transition,s=!0;if(a){for(i in t=null==t?null:t+"",a){if((n=a[i]).name!==t){s=!1;continue}o=n.state>r.KE&&n.state<r.wS,n.state=r.Ku,n.timer.stop(),n.on.call(o?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete a[i]}s&&delete e.__transition}}},13316:function(e,t,n){"use strict";var r=n(81797),o=n(79273),i=n(73468);r.ZP.prototype.interrupt=o.Z,r.ZP.prototype.transition=i.Z},79273:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(99253);function o(e){return this.each(function(){(0,r.Z)(this,e)})}},73468:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(13601),o=n(67291),i=n(76567),a=n(35745),s={time:null,delay:0,duration:250,ease:i.tw};function u(e){var t,n;e instanceof r.uT?(t=e._id,e=e._name):(t=(0,r.pZ)(),(n=s).time=(0,a.zO)(),e=null==e?null:e+"");for(var i=this._groups,u=i.length,c=0;c<u;++c)for(var l,d=i[c],f=d.length,h=0;h<f;++h)(l=d[h])&&(0,o.ZP)(l,e,t,h,d,n||function(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw Error(`transition ${t} not found`);return n}(l,t));return new r.uT(i,this._parents,e,t)}},91118:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(43653),o=n(99149),i=n(93198),a=n(84906);function s(e,t){var n=(0,o.Z)(e),s="transform"===n?r.w:a.Z;return this.attrTween(e,"function"==typeof t?(n.local?function(e,t,n){var r,o,i;return function(){var a,s,u=n(this);return null==u?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),a===(s=u+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,u)))}}:function(e,t,n){var r,o,i;return function(){var a,s,u=n(this);return null==u?void this.removeAttribute(e):(a=this.getAttribute(e),a===(s=u+"")?null:a===r&&s===o?i:(o=s,i=t(r=a,u)))}})(n,s,(0,i.x)(this,"attr."+e,t)):null==t?(n.local?function(e){return function(){this.removeAttributeNS(e.space,e.local)}}:function(e){return function(){this.removeAttribute(e)}})(n):(n.local?function(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}:function(e,t,n){var r,o,i=n+"";return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}})(n,s,t))}},46512:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(99149);function o(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw Error();var o=(0,r.Z)(e);return this.tween(n,(o.local?function(e,t){var n,r;function o(){var o,i,a=t.apply(this,arguments);if(a!==r){;n=(r=a)&&(o=e,i=a,function(e){this.setAttributeNS(o.space,o.local,i.call(this,e))})}return n}return o._value=t,o}:function(e,t){var n,r;function o(){var o,i,a=t.apply(this,arguments);if(a!==r){;n=(r=a)&&(o=e,i=a,function(e){this.setAttribute(o,i.call(this,e))})}return n}return o._value=t,o})(o,t))}},36287:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(67291);function o(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){(0,r.S1)(this,e).delay=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){(0,r.S1)(this,e).delay=t}})(t,e)):(0,r.U2)(this.node(),t).delay}},78170:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(67291);function o(e){var t=this._id;return arguments.length?this.each(("function"==typeof e?function(e,t){return function(){(0,r.t8)(this,e).duration=+t.apply(this,arguments)}}:function(e,t){return t=+t,function(){(0,r.t8)(this,e).duration=t}})(t,e)):(0,r.U2)(this.node(),t).duration}},73354:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(67291);function o(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!=typeof t)throw Error();return function(){(0,r.t8)(this,e).ease=t}}(t,e)):(0,r.U2)(this.node(),t).ease}},79494:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(67291);function o(e){var t,n;if("function"!=typeof e)throw Error();return this.each((t=this._id,n=e,function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw Error();(0,r.t8)(this,t).ease=e}))}},43215:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(67291);function o(){var e,t,n=this,o=n._id,i=n.size();return new Promise(function(a,s){var u={value:s},c={value:function(){0==--i&&a()}};n.each(function(){var n=(0,r.t8)(this,o),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(u),t._.interrupt.push(u),t._.end.push(c)),n.on=t}),0===i&&a()})}},24814:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(43518),o=n(13601);function i(e){"function"!=typeof e&&(e=(0,r.Z)(e));for(var t=this._groups,n=t.length,i=Array(n),a=0;a<n;++a)for(var s,u=t[a],c=u.length,l=i[a]=[],d=0;d<c;++d)(s=u[d])&&e.call(s,s.__data__,d,u)&&l.push(s);return new o.uT(i,this._parents,this._name,this._id)}},13601:function(e,t,n){"use strict";n.d(t,{pZ:function(){return N},uT:function(){return S}});var r=n(81797),o=n(91118),i=n(46512),a=n(36287),s=n(78170),u=n(73354),c=n(79494),l=n(24814),d=n(6336),f=n(17698),h=n(12369),p=n(66017),g=n(51897),m=n(25028),v=n(75345),y=n(53761),w=n(87626),x=n(2593),b=n(82530),_=n(93198),E=n(43215),k=0;function S(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function N(){return++k}var M=r.ZP.prototype;S.prototype=(function(e){return(0,r.ZP)().transition(e)}).prototype={constructor:S,select:p.Z,selectAll:g.Z,selectChild:M.selectChild,selectChildren:M.selectChildren,filter:l.Z,merge:d.Z,selection:m.Z,transition:b.Z,call:M.call,nodes:M.nodes,node:M.node,size:M.size,empty:M.empty,each:M.each,on:f.Z,attr:o.Z,attrTween:i.Z,style:v.Z,styleTween:y.Z,text:w.Z,textTween:x.Z,remove:h.Z,tween:_.Z,delay:a.Z,duration:s.Z,ease:u.Z,easeVarying:c.Z,end:E.Z,[Symbol.iterator]:M[Symbol.iterator]}},84906:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(86396),o=n(36258),i=n(42670),a=n(52384);function s(e,t){var n;return("number"==typeof t?(0,o.Z):t instanceof(0,r.ZP)?(0,i.ZP):(n=(0,r.ZP)(t))?(t=n,i.ZP):a.Z)(e,t)}},6336:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(13601);function o(e){if(e._id!==this._id)throw Error();for(var t=this._groups,n=e._groups,o=t.length,i=n.length,a=Math.min(o,i),s=Array(o),u=0;u<a;++u)for(var c,l=t[u],d=n[u],f=l.length,h=s[u]=Array(f),p=0;p<f;++p)(c=l[p]||d[p])&&(h[p]=c);for(;u<o;++u)s[u]=t[u];return new r.uT(s,this._parents,this._name,this._id)}},17698:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(67291);function o(e,t){var n=this._id;return arguments.length<2?(0,r.U2)(this.node(),n).on.on(e):this.each(function(e,t,n){var o,i,a=(t+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})?r.S1:r.t8;return function(){var r=a(this,e),s=r.on;s!==o&&(i=(o=s).copy()).on(t,n),r.on=i}}(n,e,t))}},12369:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});function r(){var e;return this.on("end.remove",(e=this._id,function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}))}},67291:function(e,t,n){"use strict";n.d(t,{KE:function(){return u},Ku:function(){return l},S1:function(){return f},U2:function(){return p},ZP:function(){return d},t8:function(){return h},wS:function(){return c}});var r=n(42574),o=n(35745),i=n(92464),a=(0,r.Z)("start","end","cancel","interrupt"),s=[],u=2,c=5,l=6;function d(e,t,n,r,d,f){var h=e.__transition;if(h){if(n in h)return}else e.__transition={};(function(e,t,n){var r,a=e.__transition;a[t]=n,n.timer=(0,o.HT)(function(e){n.state=1,n.timer.restart(s,n.delay,n.time),n.delay<=e&&s(e-n.delay)},0,n.time);function s(o){var c,h,p,g;if(1!==n.state)return f();for(c in a)if((g=a[c]).name===n.name){if(3===g.state)return(0,i.Z)(s);4===g.state?(g.state=l,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete a[c]):+c<t&&(g.state=l,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete a[c])}if((0,i.Z)(function(){3===n.state&&(n.state=4,n.timer.restart(d,n.delay,n.time),d(o))}),n.state=u,n.on.call("start",e,e.__data__,n.index,n.group),n.state===u){for(c=0,n.state=3,r=Array(p=n.tween.length),h=-1;c<p;++c)(g=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(r[++h]=g);r.length=h+1}}function d(t){for(var o=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(f),n.state=c,1),i=-1,a=r.length;++i<a;)r[i].call(e,o);n.state===c&&(n.on.call("end",e,e.__data__,n.index,n.group),f())}function f(){for(var r in n.state=l,n.timer.stop(),delete a[t],a)return;delete e.__transition}})(e,n,{name:t,index:r,group:d,on:a,tween:s,time:f.time,delay:f.delay,duration:f.duration,ease:f.ease,timer:null,state:0})}function f(e,t){var n=p(e,t);if(n.state>0)throw Error("too late; already scheduled");return n}function h(e,t){var n=p(e,t);if(n.state>3)throw Error("too late; already running");return n}function p(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw Error("transition not found");return n}},66017:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(88214),o=n(13601),i=n(67291);function a(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=(0,r.Z)(e));for(var a=this._groups,s=a.length,u=Array(s),c=0;c<s;++c)for(var l,d,f=a[c],h=f.length,p=u[c]=Array(h),g=0;g<h;++g)(l=f[g])&&(d=e.call(l,l.__data__,g,f))&&("__data__"in l&&(d.__data__=l.__data__),p[g]=d,(0,i.ZP)(p[g],t,n,g,p,(0,i.U2)(l,n)));return new o.uT(u,this._parents,t,n)}},51897:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(79645),o=n(13601),i=n(67291);function a(e){var t=this._name,n=this._id;"function"!=typeof e&&(e=(0,r.Z)(e));for(var a=this._groups,s=a.length,u=[],c=[],l=0;l<s;++l)for(var d,f=a[l],h=f.length,p=0;p<h;++p)if(d=f[p]){for(var g,m=e.call(d,d.__data__,p,f),v=(0,i.U2)(d,n),y=0,w=m.length;y<w;++y)(g=m[y])&&(0,i.ZP)(g,t,n,y,m,v);u.push(m),c.push(d)}return new o.uT(u,c,t,n)}},25028:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(81797).ZP.prototype.constructor;function o(){return new r(this._groups,this._parents)}},75345:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(43653),o=n(8553),i=n(67291),a=n(93198),s=n(84906);function u(e){return function(){this.style.removeProperty(e)}}function c(e,t,n){var c,l,d,f,h,p,g,m,v,y,w,x,b,_,E,k,S,N,M,C,Z,P,I,z,A,R="transform"==(e+="")?r.Y:s.Z;return null==t?this.styleTween(e,(c=e,l=R,function(){var e=(0,o.S)(this,c),t=(this.style.removeProperty(c),(0,o.S)(this,c));return e===t?null:e===d&&t===f?h:h=l(d=e,f=t)})).on("end.style."+e,u(e)):"function"==typeof t?this.styleTween(e,(p=e,g=R,m=(0,a.x)(this,"style."+e,t),function(){var e=(0,o.S)(this,p),t=m(this),n=t+"";return null==t&&(this.style.removeProperty(p),n=t=(0,o.S)(this,p)),e===n?null:e===v&&n===y?w:(y=n,w=g(v=e,t))})).each((x=this._id,M="end."+(N="style."+(b=e)),function(){var e=(0,i.t8)(this,x),t=e.on,n=null==e.value[N]?S||(S=u(b)):void 0;(t!==_||k!==n)&&(E=(_=t).copy()).on(M,k=n),e.on=E})):this.styleTween(e,(C=e,Z=R,A=(P=t)+"",function(){var e=(0,o.S)(this,C);return e===A?null:e===I?z:z=Z(I=e,P)}),n).on("end.style."+e,null)}},53761:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});function r(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!=typeof t)throw Error();return this.tween(r,function(e,t,n){var r,o;function i(){var i,a,s,u=t.apply(this,arguments);if(u!==o){;r=(o=u)&&(i=e,a=u,s=n,function(e){this.style.setProperty(i,a.call(this,e),s)})}return r}return i._value=t,i}(e,t,null==n?"":n))}},87626:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(93198);function o(e){var t,n;return this.tween("text","function"==typeof e?(t=(0,r.x)(this,"text",e),function(){var e=t(this);this.textContent=null==e?"":e}):(n=null==e?"":e+"",function(){this.textContent=n}))}},2593:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});function r(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!=typeof e)throw Error();return this.tween(t,function(e){var t,n;function r(){var r,o=e.apply(this,arguments);if(o!==n){;t=(n=o)&&(r=o,function(e){this.textContent=r.call(this,e)})}return t}return r._value=e,r}(e))}},82530:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(13601),o=n(67291);function i(){for(var e=this._name,t=this._id,n=(0,r.pZ)(),i=this._groups,a=i.length,s=0;s<a;++s)for(var u,c=i[s],l=c.length,d=0;d<l;++d)if(u=c[d]){var f=(0,o.U2)(u,t);(0,o.ZP)(u,e,n,d,c,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new r.uT(i,this._parents,e,n)}},93198:function(e,t,n){"use strict";n.d(t,{Z:function(){return o},x:function(){return i}});var r=n(67291);function o(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o,i=(0,r.U2)(this.node(),n).tween,a=0,s=i.length;a<s;++a)if((o=i[a]).name===e)return o.value;return null}return this.each((null==t?function(e,t){var n,o;return function(){var i=(0,r.t8)(this,e),a=i.tween;if(a!==n){o=n=a;for(var s=0,u=o.length;s<u;++s)if(o[s].name===t){(o=o.slice()).splice(s,1);break}}i.tween=o}}:function(e,t,n){var o,i;if("function"!=typeof n)throw Error();return function(){var a=(0,r.t8)(this,e),s=a.tween;if(s!==o){i=(o=s).slice();for(var u={name:t,value:n},c=0,l=i.length;c<l;++c)if(i[c].name===t){i[c]=u;break}c===l&&i.push(u)}a.tween=i}})(n,e,t))}function i(e,t,n){var o=e._id;return e.each(function(){var e=(0,r.t8)(this,o);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return(0,r.U2)(e,o).value[t]}}},62200:function(e,t){"use strict";t.Z=e=>()=>e},33637:function(e,t,n){"use strict";function r(e,{sourceEvent:t,target:n,transform:r,dispatch:o}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:o}})}n.d(t,{Z:function(){return r}})},84074:function(e,t,n){"use strict";n.d(t,{CR:function(){return o.yR},P2:function(){return o.ZP},sP:function(){return r.Z}});var r=n(14147),o=n(16940)},25370:function(e,t,n){"use strict";function r(e){e.stopImmediatePropagation()}function o(e){e.preventDefault(),e.stopImmediatePropagation()}n.d(t,{Z:function(){return o},r:function(){return r}})},16940:function(e,t,n){"use strict";function r(e,t,n){this.k=e,this.x=t,this.y=n}n.d(t,{ZP:function(){return i},wx:function(){return r},yR:function(){return o}}),r.prototype={constructor:r,scale:function(e){return 1===e?this:new r(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new r(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var o=new r(1,0,0);function i(e){for(;!e.__zoom;)if(!(e=e.parentNode))return o;return e.__zoom}i.prototype=r.prototype},14147:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(42574),o=n(90560),i=n(40487),a=n(13249),s=n(86996),u=n(28158),c=n(62200),l=n(33637),d=n(16940),f=n(25370);function h(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function p(){var e=this;if(e instanceof SVGElement)return(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]];return[[0,0],[e.clientWidth,e.clientHeight]]}function g(){return this.__zoom||d.yR}function m(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function v(){return navigator.maxTouchPoints||"ontouchstart"in this}function y(e,t,n){var r=e.invertX(t[0][0])-n[0][0],o=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],a=e.invertY(t[1][1])-n[1][1];return e.translate(o>r?(r+o)/2:Math.min(0,r)||Math.max(0,o),a>i?(i+a)/2:Math.min(0,i)||Math.max(0,a))}function w(){var e,t,n,w=h,x=p,b=y,_=m,E=v,k=[0,1/0],S=[[-1/0,-1/0],[1/0,1/0]],N=250,M=i.Z,C=(0,r.Z)("start","zoom","end"),Z=0,P=10;function I(e){e.property("__zoom",g).on("wheel.zoom",D,{passive:!1}).on("mousedown.zoom",O).on("dblclick.zoom",T).filter(E).on("touchstart.zoom",B).on("touchmove.zoom",V).on("touchend.zoom touchcancel.zoom",H).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function z(e,t){return(t=Math.max(k[0],Math.min(k[1],t)))===e.k?e:new d.wx(t,e.x,e.y)}function A(e,t,n){var r=t[0]-n[0]*e.k,o=t[1]-n[1]*e.k;return r===e.x&&o===e.y?e:new d.wx(e.k,r,o)}function R(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function j(e,t,n,r){e.on("start.zoom",function(){$(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){$(this,arguments).event(r).end()}).tween("zoom",function(){var e=arguments,o=$(this,e).event(r),i=x.apply(this,e),a=null==n?R(i):"function"==typeof n?n.apply(this,e):n,s=Math.max(i[1][0]-i[0][0],i[1][1]-i[0][1]),u=this.__zoom,c="function"==typeof t?t.apply(this,e):t,l=M(u.invert(a).concat(s/u.k),c.invert(a).concat(s/c.k));return function(e){if(1===e)e=c;else{var t=l(e),n=s/t[2];e=new d.wx(n,a[0]-t[0]*n,a[1]-t[1]*n)}o.zoom(null,e)}})}function $(e,t,n){return!n&&e.__zooming||new L(e,t)}function L(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=x.apply(e,t),this.taps=0}function D(e,...t){if(w.apply(this,arguments)){var n=$(this,t).event(e),r=this.__zoom,o=Math.max(k[0],Math.min(k[1],r.k*Math.pow(2,_.apply(this,arguments)))),i=(0,s.Z)(e);if(n.wheel)(n.mouse[0][0]!==i[0]||n.mouse[0][1]!==i[1])&&(n.mouse[1]=r.invert(n.mouse[0]=i)),clearTimeout(n.wheel);else{if(r.k===o)return;n.mouse=[i,r.invert(i)],(0,u.e1)(this),n.start()}(0,f.Z)(e),n.wheel=setTimeout(function(){n.wheel=null,n.end()},150),n.zoom("mouse",b(A(z(r,o),n.mouse[0],n.mouse[1]),n.extent,S))}}function O(e,...t){if(!n&&w.apply(this,arguments)){var r=e.currentTarget,i=$(this,t,!0).event(e),c=(0,a.Z)(e.view).on("mousemove.zoom",function(e){if((0,f.Z)(e),!i.moved){var t=e.clientX-d,n=e.clientY-h;i.moved=t*t+n*n>Z}i.event(e).zoom("mouse",b(A(i.that.__zoom,i.mouse[0]=(0,s.Z)(e,r),i.mouse[1]),i.extent,S))},!0).on("mouseup.zoom",function(e){c.on("mousemove.zoom mouseup.zoom",null),(0,o.D)(e.view,i.moved),(0,f.Z)(e),i.event(e).end()},!0),l=(0,s.Z)(e,r),d=e.clientX,h=e.clientY;(0,o.Z)(e.view),(0,f.r)(e),i.mouse=[l,this.__zoom.invert(l)],(0,u.e1)(this),i.start()}}function T(e,...t){if(w.apply(this,arguments)){var n=this.__zoom,r=(0,s.Z)(e.changedTouches?e.changedTouches[0]:e,this),o=n.invert(r),i=n.k*(e.shiftKey?.5:2),u=b(A(z(n,i),r,o),x.apply(this,t),S);(0,f.Z)(e),N>0?(0,a.Z)(this).transition().duration(N).call(j,u,r,e):(0,a.Z)(this).call(I.transform,u,r,e)}}function B(n,...r){if(w.apply(this,arguments)){var o,i,a,c,l=n.touches,d=l.length,h=$(this,r,n.changedTouches.length===d).event(n);for((0,f.r)(n),i=0;i<d;++i)a=l[i],c=[c=(0,s.Z)(a,this),this.__zoom.invert(c),a.identifier],h.touch0?!h.touch1&&h.touch0[2]!==c[2]&&(h.touch1=c,h.taps=0):(h.touch0=c,o=!0,h.taps=1+!!e);e&&(e=clearTimeout(e)),o&&(h.taps<2&&(t=c[0],e=setTimeout(function(){e=null},500)),(0,u.e1)(this),h.start())}}function V(e,...t){if(this.__zooming){var n,r,o,i,a=$(this,t).event(e),u=e.changedTouches,c=u.length;for((0,f.Z)(e),n=0;n<c;++n)r=u[n],o=(0,s.Z)(r,this),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=o:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=o);if(r=a.that.__zoom,a.touch1){var l=a.touch0[0],d=a.touch0[1],h=a.touch1[0],p=a.touch1[1],g=(g=h[0]-l[0])*g+(g=h[1]-l[1])*g,m=(m=p[0]-d[0])*m+(m=p[1]-d[1])*m;r=z(r,Math.sqrt(g/m)),o=[(l[0]+h[0])/2,(l[1]+h[1])/2],i=[(d[0]+p[0])/2,(d[1]+p[1])/2]}else{if(!a.touch0)return;o=a.touch0[0],i=a.touch0[1]}a.zoom("touch",b(A(r,o,i),a.extent,S))}}function H(e,...r){if(this.__zooming){var o,i,u=$(this,r).event(e),c=e.changedTouches,l=c.length;for((0,f.r)(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),o=0;o<l;++o)i=c[o],u.touch0&&u.touch0[2]===i.identifier?delete u.touch0:u.touch1&&u.touch1[2]===i.identifier&&delete u.touch1;if(u.touch1&&!u.touch0&&(u.touch0=u.touch1,delete u.touch1),u.touch0)u.touch0[1]=this.__zoom.invert(u.touch0[0]);else if(u.end(),2===u.taps&&(i=(0,s.Z)(i,this),Math.hypot(t[0]-i[0],t[1]-i[1])<P)){var d=(0,a.Z)(this).on("dblclick.zoom");d&&d.apply(this,arguments)}}}return I.transform=function(e,t,n,r){var o=e.selection?e.selection():e;o.property("__zoom",g),e!==o?j(e,t,n,r):o.interrupt().each(function(){$(this,arguments).event(r).start().zoom(null,"function"==typeof t?t.apply(this,arguments):t).end()})},I.scaleBy=function(e,t,n,r){I.scaleTo(e,function(){var e=this.__zoom.k,n="function"==typeof t?t.apply(this,arguments):t;return e*n},n,r)},I.scaleTo=function(e,t,n,r){I.transform(e,function(){var e=x.apply(this,arguments),r=this.__zoom,o=null==n?R(e):"function"==typeof n?n.apply(this,arguments):n,i=r.invert(o),a="function"==typeof t?t.apply(this,arguments):t;return b(A(z(r,a),o,i),e,S)},n,r)},I.translateBy=function(e,t,n,r){I.transform(e,function(){return b(this.__zoom.translate("function"==typeof t?t.apply(this,arguments):t,"function"==typeof n?n.apply(this,arguments):n),x.apply(this,arguments),S)},null,r)},I.translateTo=function(e,t,n,r,o){I.transform(e,function(){var e=x.apply(this,arguments),o=this.__zoom,i=null==r?R(e):"function"==typeof r?r.apply(this,arguments):r;return b(d.yR.translate(i[0],i[1]).scale(o.k).translate("function"==typeof t?-t.apply(this,arguments):-t,"function"==typeof n?-n.apply(this,arguments):-n),e,S)},r,o)},L.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=(0,a.Z)(this.that).datum();C.call(e,this.that,new l.Z(e,{sourceEvent:this.sourceEvent,target:I,type:e,transform:this.that.__zoom,dispatch:C}),t)}},I.wheelDelta=function(e){return arguments.length?(_="function"==typeof e?e:(0,c.Z)(+e),I):_},I.filter=function(e){return arguments.length?(w="function"==typeof e?e:(0,c.Z)(!!e),I):w},I.touchable=function(e){return arguments.length?(E="function"==typeof e?e:(0,c.Z)(!!e),I):E},I.extent=function(e){return arguments.length?(x="function"==typeof e?e:(0,c.Z)([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),I):x},I.scaleExtent=function(e){return arguments.length?(k[0]=+e[0],k[1]=+e[1],I):[k[0],k[1]]},I.translateExtent=function(e){return arguments.length?(S[0][0]=+e[0][0],S[1][0]=+e[1][0],S[0][1]=+e[0][1],S[1][1]=+e[1][1],I):[[S[0][0],S[0][1]],[S[1][0],S[1][1]]]},I.constrain=function(e){return arguments.length?(b=e,I):b},I.duration=function(e){return arguments.length?(N=+e,I):N},I.interpolate=function(e){return arguments.length?(M=e,I):M},I.on=function(){var e=C.on.apply(C,arguments);return e===C?I:e},I.clickDistance=function(e){return arguments.length?(Z=(e=+e)*e,I):Math.sqrt(Z)},I.tapDistance=function(e){return arguments.length?(P=+e,I):P},I}},34178:function(e,t,n){"use strict";function r(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[n,r]of e)if(!Object.is(r,t.get(n)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let n of e)if(!t.has(n))return!1;return!0}let n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}n.d(t,{X:function(){return r}})},33820:function(e,t,n){"use strict";n.d(t,{F:function(){return d},s:function(){return c}});var r=n(75271),o=n(42598),i=n(43238);let{useDebugValue:a}=r,{useSyncExternalStoreWithSelector:s}=o,u=e=>e;function c(e,t=u,n){let r=s(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return a(r),r}let l=(e,t)=>{let n=(0,i.M)(e),r=(e,r=t)=>c(n,e,r);return Object.assign(r,n),r},d=(e,t)=>e?l(e,t):l},43238:function(e,t,n){"use strict";n.d(t,{M:function(){return o}});let r=e=>{let t;let n=new Set,r=(e,r)=>{let o="function"==typeof e?e(t):e;if(!Object.is(o,t)){let e=t;t=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},t,o),n.forEach(n=>n(t,e))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},a=t=e(r,o,i);return i},o=e=>e?r(e):r}}]);